var oe=Object.defineProperty;var ae=(a,o,s)=>o in a?oe(a,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[o]=s;var R=(a,o,s)=>ae(a,typeof o!="symbol"?o+"":o,s);import{c as j,g as ce,a as ue}from"./_commonjsHelpers-C4iS2aBk.js";import{b as le,e as he,f as O,g as de,w as fe,d as me,o as pe,a as ve,h as ge,r as xe,_ as we,i as W,j as be,k as K}from"./index-DpLkyxa8.js";var V={exports:{}};V.exports;(function(a){(function(o,s,l){function h(e){var i=this,n=c();i.next=function(){var t=2091639*i.s0+i.c*23283064365386963e-26;return i.s0=i.s1,i.s1=i.s2,i.s2=t-(i.c=t|0)},i.c=1,i.s0=n(" "),i.s1=n(" "),i.s2=n(" "),i.s0-=n(e),i.s0<0&&(i.s0+=1),i.s1-=n(e),i.s1<0&&(i.s1+=1),i.s2-=n(e),i.s2<0&&(i.s2+=1),n=null}function m(e,i){return i.c=e.c,i.s0=e.s0,i.s1=e.s1,i.s2=e.s2,i}function p(e,i){var n=new h(e),t=i&&i.state,r=n.next;return r.int32=function(){return n.next()*4294967296|0},r.double=function(){return r()+(r()*2097152|0)*11102230246251565e-32},r.quick=r,t&&(typeof t=="object"&&m(t,n),r.state=function(){return m(n,{})}),r}function c(){var e=4022871197,i=function(n){n=String(n);for(var t=0;t<n.length;t++){e+=n.charCodeAt(t);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=r*4294967296}return(e>>>0)*23283064365386963e-26};return i}s&&s.exports?s.exports=p:this.alea=p})(j,a)})(V);var ye=V.exports,L={exports:{}};L.exports;(function(a){(function(o,s,l){function h(c){var e=this,i="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},c===(c|0)?e.x=c:i+=c;for(var n=0;n<i.length+64;n++)e.x^=i.charCodeAt(n)|0,e.next()}function m(c,e){return e.x=c.x,e.y=c.y,e.z=c.z,e.w=c.w,e}function p(c,e){var i=new h(c),n=e&&e.state,t=function(){return(i.next()>>>0)/4294967296};return t.double=function(){do var r=i.next()>>>11,u=(i.next()>>>0)/4294967296,d=(r+u)/(1<<21);while(d===0);return d},t.int32=i.next,t.quick=t,n&&(typeof n=="object"&&m(n,i),t.state=function(){return m(i,{})}),t}s&&s.exports?s.exports=p:this.xor128=p})(j,a)})(L);var Se=L.exports,G={exports:{}};G.exports;(function(a){(function(o,s,l){function h(c){var e=this,i="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^(t^t<<1))|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,c===(c|0)?e.x=c:i+=c;for(var n=0;n<i.length+64;n++)e.x^=i.charCodeAt(n)|0,n==i.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function m(c,e){return e.x=c.x,e.y=c.y,e.z=c.z,e.w=c.w,e.v=c.v,e.d=c.d,e}function p(c,e){var i=new h(c),n=e&&e.state,t=function(){return(i.next()>>>0)/4294967296};return t.double=function(){do var r=i.next()>>>11,u=(i.next()>>>0)/4294967296,d=(r+u)/(1<<21);while(d===0);return d},t.int32=i.next,t.quick=t,n&&(typeof n=="object"&&m(n,i),t.state=function(){return m(i,{})}),t}s&&s.exports?s.exports=p:this.xorwow=p})(j,a)})(G);var Ce=G.exports,H={exports:{}};H.exports;(function(a){(function(o,s,l){function h(c){var e=this;e.next=function(){var n=e.x,t=e.i,r,u;return r=n[t],r^=r>>>7,u=r^r<<24,r=n[t+1&7],u^=r^r>>>10,r=n[t+3&7],u^=r^r>>>3,r=n[t+4&7],u^=r^r<<7,r=n[t+7&7],r=r^r<<13,u^=r^r<<9,n[t]=u,e.i=t+1&7,u};function i(n,t){var r,u=[];if(t===(t|0))u[0]=t;else for(t=""+t,r=0;r<t.length;++r)u[r&7]=u[r&7]<<15^t.charCodeAt(r)+u[r+1&7]<<13;for(;u.length<8;)u.push(0);for(r=0;r<8&&u[r]===0;++r);for(r==8?u[7]=-1:u[r],n.x=u,n.i=0,r=256;r>0;--r)n.next()}i(e,c)}function m(c,e){return e.x=c.x.slice(),e.i=c.i,e}function p(c,e){c==null&&(c=+new Date);var i=new h(c),n=e&&e.state,t=function(){return(i.next()>>>0)/4294967296};return t.double=function(){do var r=i.next()>>>11,u=(i.next()>>>0)/4294967296,d=(r+u)/(1<<21);while(d===0);return d},t.int32=i.next,t.quick=t,n&&(n.x&&m(n,i),t.state=function(){return m(i,{})}),t}s&&s.exports?s.exports=p:this.xorshift7=p})(j,a)})(H);var _e=H.exports,q={exports:{}};q.exports;(function(a){(function(o,s,l){function h(c){var e=this;e.next=function(){var n=e.w,t=e.X,r=e.i,u,d;return e.w=n=n+1640531527|0,d=t[r+34&127],u=t[r=r+1&127],d^=d<<13,u^=u<<17,d^=d>>>15,u^=u>>>12,d=t[r]=d^u,e.i=r,d+(n^n>>>16)|0};function i(n,t){var r,u,d,y,_,C=[],g=128;for(t===(t|0)?(u=t,t=null):(t=t+"\0",u=0,g=Math.max(g,t.length)),d=0,y=-32;y<g;++y)t&&(u^=t.charCodeAt((y+32)%t.length)),y===0&&(_=u),u^=u<<10,u^=u>>>15,u^=u<<4,u^=u>>>13,y>=0&&(_=_+1640531527|0,r=C[y&127]^=u+_,d=r==0?d+1:0);for(d>=128&&(C[(t&&t.length||0)&127]=-1),d=127,y=4*128;y>0;--y)u=C[d+34&127],r=C[d=d+1&127],u^=u<<13,r^=r<<17,u^=u>>>15,r^=r>>>12,C[d]=u^r;n.w=_,n.X=C,n.i=d}i(e,c)}function m(c,e){return e.i=c.i,e.w=c.w,e.X=c.X.slice(),e}function p(c,e){c==null&&(c=+new Date);var i=new h(c),n=e&&e.state,t=function(){return(i.next()>>>0)/4294967296};return t.double=function(){do var r=i.next()>>>11,u=(i.next()>>>0)/4294967296,d=(r+u)/(1<<21);while(d===0);return d},t.int32=i.next,t.quick=t,n&&(n.X&&m(n,i),t.state=function(){return m(i,{})}),t}s&&s.exports?s.exports=p:this.xor4096=p})(j,a)})(q);var Ee=q.exports,X={exports:{}};X.exports;(function(a){(function(o,s,l){function h(c){var e=this,i="";e.next=function(){var t=e.b,r=e.c,u=e.d,d=e.a;return t=t<<25^t>>>7^r,r=r-u|0,u=u<<24^u>>>8^d,d=d-t|0,e.b=t=t<<20^t>>>12^r,e.c=r=r-u|0,e.d=u<<16^r>>>16^d,e.a=d-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,c===Math.floor(c)?(e.a=c/4294967296|0,e.b=c|0):i+=c;for(var n=0;n<i.length+20;n++)e.b^=i.charCodeAt(n)|0,e.next()}function m(c,e){return e.a=c.a,e.b=c.b,e.c=c.c,e.d=c.d,e}function p(c,e){var i=new h(c),n=e&&e.state,t=function(){return(i.next()>>>0)/4294967296};return t.double=function(){do var r=i.next()>>>11,u=(i.next()>>>0)/4294967296,d=(r+u)/(1<<21);while(d===0);return d},t.int32=i.next,t.quick=t,n&&(typeof n=="object"&&m(n,i),t.state=function(){return m(i,{})}),t}s&&s.exports?s.exports=p:this.tychei=p})(j,a)})(X);var Ae=X.exports,se={exports:{}};const Ie={},ze=Object.freeze(Object.defineProperty({__proto__:null,default:Ie},Symbol.toStringTag,{value:"Module"})),Te=ce(ze);(function(a){(function(o,s,l){var h=256,m=6,p=52,c="random",e=l.pow(h,m),i=l.pow(2,p),n=i*2,t=h-1,r;function u(v,f,x){var w=[];f=f==!0?{entropy:!0}:f||{};var b=C(_(f.entropy?[v,S(s)]:v??g(),3),w),E=new d(w),I=function(){for(var A=E.g(m),N=e,T=0;A<i;)A=(A+T)*h,N*=h,T=E.g(1);for(;A>=n;)A/=2,N/=2,T>>>=1;return(A+T)/N};return I.int32=function(){return E.g(4)|0},I.quick=function(){return E.g(4)/4294967296},I.double=I,C(S(E.S),s),(f.pass||x||function(A,N,T,P){return P&&(P.S&&y(P,E),A.state=function(){return y(E,{})}),T?(l[c]=A,N):A})(I,b,"global"in f?f.global:this==l,f.state)}function d(v){var f,x=v.length,w=this,b=0,E=w.i=w.j=0,I=w.S=[];for(x||(v=[x++]);b<h;)I[b]=b++;for(b=0;b<h;b++)I[b]=I[E=t&E+v[b%x]+(f=I[b])],I[E]=f;(w.g=function(A){for(var N,T=0,P=w.i,B=w.j,F=w.S;A--;)N=F[P=t&P+1],T=T*h+F[t&(F[P]=F[B=t&B+N])+(F[B]=N)];return w.i=P,w.j=B,T})(h)}function y(v,f){return f.i=v.i,f.j=v.j,f.S=v.S.slice(),f}function _(v,f){var x=[],w=typeof v,b;if(f&&w=="object")for(b in v)try{x.push(_(v[b],f-1))}catch{}return x.length?x:w=="string"?v:v+"\0"}function C(v,f){for(var x=v+"",w,b=0;b<x.length;)f[t&b]=t&(w^=f[t&b]*19)+x.charCodeAt(b++);return S(f)}function g(){try{var v;return r&&(v=r.randomBytes)?v=v(h):(v=new Uint8Array(h),(o.crypto||o.msCrypto).getRandomValues(v)),S(v)}catch{var f=o.navigator,x=f&&f.plugins;return[+new Date,o,x,o.screen,S(s)]}}function S(v){return String.fromCharCode.apply(0,v)}if(C(l.random(),s),a.exports){a.exports=u;try{r=Te}catch{}}else l["seed"+c]=u})(typeof self<"u"?self:j,[],Math)})(se);var Ne=se.exports,Pe=ye,ke=Se,je=Ce,De=_e,Fe=Ee,Me=Ae,D=Ne;D.alea=Pe;D.xor128=ke;D.xorwow=je;D.xorshift7=De;D.xor4096=Fe;D.tychei=Me;var Be=D;const Re=ue(Be);function $(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function Oe(a,o){for(var s=0;s<o.length;s++){var l=o[s];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(a,l.key,l)}}function U(a,o,s){return o&&Oe(a.prototype,o),a}function J(a){return+a.replace(/px/,"")}function Ve(a){var o=window.devicePixelRatio,s=getComputedStyle(a),l=J(s.getPropertyValue("width")),h=J(s.getPropertyValue("height"));a.setAttribute("width",(l*o).toString()),a.setAttribute("height",(h*o).toString())}function z(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=Math.random()*(o-a)+a;return Math.floor(l*Math.pow(10,s))/Math.pow(10,s)}function Y(a){return a[z(0,a.length)]}var Le=.00125,Ge=5e-4,He=9e-4,qe=1e-5,Xe=6,$e=80,Ue=.9,We=1.7,Ke=.2,Je=.6,Ye=.03,Qe=.07,Q=15,Z=82,Ze=150,et=100,tt=250,it=40,nt=["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"];function ee(a){var o=1920;return Math.log(a)/Math.log(o)}var te=function(){function a(o){$(this,a);var s=o.initialPosition,l=o.direction,h=o.confettiRadius,m=o.confettiColors,p=o.emojis,c=o.emojiSize,e=o.canvasWidth,i=z(Ue,We,3),n=i*ee(e);this.confettiSpeed={x:n,y:n},this.finalConfettiSpeedX=z(Ke,Je,3),this.rotationSpeed=p.length?.01:z(Ye,Qe,3)*ee(e),this.dragForceCoefficient=z(Ge,He,6),this.radius={x:h,y:h},this.initialRadius=h,this.rotationAngle=l==="left"?z(0,.2,3):z(-.2,0,3),this.emojiSize=c,this.emojiRotationAngle=z(0,2*Math.PI),this.radiusYUpdateDirection="down";var t=l==="left"?z(Z,Q)*Math.PI/180:z(-Q,-Z)*Math.PI/180;this.absCos=Math.abs(Math.cos(t)),this.absSin=Math.abs(Math.sin(t));var r=z(-Ze,0),u={x:s.x+(l==="left"?-r:r)*this.absCos,y:s.y-r*this.absSin};this.currentPosition=Object.assign({},u),this.initialPosition=Object.assign({},u),this.color=p.length?null:Y(m),this.emoji=p.length?Y(p):null,this.createdAt=new Date().getTime(),this.direction=l}return U(a,[{key:"draw",value:function(s){var l=this.currentPosition,h=this.radius,m=this.color,p=this.emoji,c=this.rotationAngle,e=this.emojiRotationAngle,i=this.emojiSize,n=window.devicePixelRatio;m?(s.fillStyle=m,s.beginPath(),s.ellipse(l.x*n,l.y*n,h.x*n,h.y*n,c,0,2*Math.PI),s.fill()):p&&(s.font="".concat(i,"px serif"),s.save(),s.translate(n*l.x,n*l.y),s.rotate(e),s.textAlign="center",s.fillText(p,0,0),s.restore())}},{key:"updatePosition",value:function(s,l){var h=this.confettiSpeed,m=this.dragForceCoefficient,p=this.finalConfettiSpeedX,c=this.radiusYUpdateDirection,e=this.rotationSpeed,i=this.createdAt,n=this.direction,t=l-i;if(h.x>p&&(this.confettiSpeed.x-=m*s),this.currentPosition.x+=h.x*(n==="left"?-this.absCos:this.absCos)*s,this.currentPosition.y=this.initialPosition.y-h.y*this.absSin*t+Le*Math.pow(t,2)/2,this.rotationSpeed-=this.emoji?1e-4:qe*s,this.rotationSpeed<0&&(this.rotationSpeed=0),this.emoji){this.emojiRotationAngle+=this.rotationSpeed*s%(2*Math.PI);return}c==="down"?(this.radius.y-=s*e,this.radius.y<=0&&(this.radius.y=0,this.radiusYUpdateDirection="up")):(this.radius.y+=s*e,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYUpdateDirection="down"))}},{key:"getIsVisibleOnCanvas",value:function(s){return this.currentPosition.y<s+et}}]),a}();function rt(){var a=document.createElement("canvas");return a.style.position="fixed",a.style.width="100%",a.style.height="100%",a.style.top="0",a.style.left="0",a.style.zIndex="1000",a.style.pointerEvents="none",document.body.appendChild(a),a}function st(a){var o=a.confettiRadius,s=o===void 0?Xe:o,l=a.confettiNumber,h=l===void 0?a.confettiesNumber||(a.emojis?it:tt):l,m=a.confettiColors,p=m===void 0?nt:m,c=a.emojis,e=c===void 0?a.emojies||[]:c,i=a.emojiSize,n=i===void 0?$e:i;return a.emojies&&console.error("emojies argument is deprecated, please use emojis instead"),a.confettiesNumber&&console.error("confettiesNumber argument is deprecated, please use confettiNumber instead"),{confettiRadius:s,confettiNumber:h,confettiColors:p,emojis:e,emojiSize:n}}var ot=function(){function a(o){var s=this;$(this,a),this.canvasContext=o,this.shapes=[],this.promise=new Promise(function(l){return s.resolvePromise=l})}return U(a,[{key:"getBatchCompletePromise",value:function(){return this.promise}},{key:"addShapes",value:function(){var s;(s=this.shapes).push.apply(s,arguments)}},{key:"complete",value:function(){var s;return this.shapes.length?!1:((s=this.resolvePromise)===null||s===void 0||s.call(this),!0)}},{key:"processShapes",value:function(s,l,h){var m=this,p=s.timeDelta,c=s.currentTime;this.shapes=this.shapes.filter(function(e){return e.updatePosition(p,c),e.draw(m.canvasContext),h?e.getIsVisibleOnCanvas(l):!0})}}]),a}(),at=function(){function a(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$(this,a),this.activeConfettiBatches=[],this.canvas=o.canvas||rt(),this.canvasContext=this.canvas.getContext("2d"),this.requestAnimationFrameRequested=!1,this.lastUpdated=new Date().getTime(),this.iterationIndex=0,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}return U(a,[{key:"loop",value:function(){this.requestAnimationFrameRequested=!1,Ve(this.canvas);var s=new Date().getTime(),l=s-this.lastUpdated,h=this.canvas.offsetHeight,m=this.iterationIndex%10===0;this.activeConfettiBatches=this.activeConfettiBatches.filter(function(p){return p.processShapes({timeDelta:l,currentTime:s},h,m),m?!p.complete():!0}),this.iterationIndex++,this.queueAnimationFrameIfNeeded(s)}},{key:"queueAnimationFrameIfNeeded",value:function(s){this.requestAnimationFrameRequested||this.activeConfettiBatches.length<1||(this.requestAnimationFrameRequested=!0,this.lastUpdated=s||new Date().getTime(),requestAnimationFrame(this.loop))}},{key:"addConfetti",value:function(){for(var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=st(s),h=l.confettiRadius,m=l.confettiNumber,p=l.confettiColors,c=l.emojis,e=l.emojiSize,i=this.canvas.getBoundingClientRect(),n=i.width,t=i.height,r=t*5/7,u={x:0,y:r},d={x:n,y:r},y=new ot(this.canvasContext),_=0;_<m/2;_++){var C=new te({initialPosition:u,direction:"right",confettiRadius:h,confettiColors:p,confettiNumber:m,emojis:c,emojiSize:e,canvasWidth:n}),g=new te({initialPosition:d,direction:"left",confettiRadius:h,confettiColors:p,confettiNumber:m,emojis:c,emojiSize:e,canvasWidth:n});y.addShapes(C,g)}return this.activeConfettiBatches.push(y),this.queueAnimationFrameIfNeeded(),y.getBatchCompletePromise()}},{key:"clearCanvas",value:function(){this.activeConfettiBatches=[]}},{key:"destroyCanvas",value:function(){this.canvas.remove()}}]),a}();const k=[{version:"1.0",data:[{title:"Töte 20 Gnolle",description:"Töte 20 Gnolle.",count:20},{title:"Level 10",description:"Erreiche Level 10."},{title:"10 Gold",description:"Besitze 10 Gold.",hints:["Besitze zu einem Zeitpunkt 10 Gold."]},{title:"Todesminen",description:"Schließe die Instanz Todesminen ab.",hints:["Jeder Boss muss besiegt werden."]},{title:"Verwende 2x Ruhestein",description:"Verwende 2x den Ruhestein",hints:["Es gilt lediglich der normale Ruhestein."],count:2},{title:"Kaufe 100 Bananen von Tel-Abim",description:"Kaufe 100 Bananen von Tel'Abim.",hints:["Die Bananen dürfen nicht wieder verkauft werden."]},{title:"Level 15",description:"Erreiche Level 15."},{title:"Level 5",description:"Erreiche Level 5."},{title:'Erhalte Buff "Satt"',description:'Erhalte den Buff "Satt".'},{title:"Sterbe durch Fallschaden",description:"Sterbe durch Fallschaden.",hints:["Der Fallschaden muss den Todesstoß versetzen.","Es darf nicht von einem Flugmount gesprungen werden."]},{title:"Sterbe durch Hogger",description:"Sterbe durch Hogger.",hints:["Hogger muss den Todesstoß versetzen."]},{title:"Besiege Hogger",description:"Besiege Hogger."},{title:"Sammle 20 Kräuter",description:"Sammle 20 Kräuter.",count:20},{title:"Sammle 15 Erze",description:"Sammle 15 Erze.",count:15},{title:"Fange 10 Fische",description:"Fange 10 Fische.",count:10},{title:"Gewinne 3 Haustierkämpfe",description:"Gewinne 3 Haustierkämpfe.",count:3},{title:"Besuche Beutebucht",description:"Besuche Beutebucht."},{title:"Schließe 3 Daily-Quests ab",description:"Schließe 3 Daily-Quests ab.",count:3},{title:"Verwende /witz bei Velen",description:"Erzähle Velen einen Witz.",hints:["Velen muss das Ziel des Witzes sein."]},{title:"Töte 40 Murlocs",description:"Töte 40 Murlocs.",count:40},{title:"Schalte 5 Flugpunkte frei",description:"Schalte 5 Flugpunkte frei.",hints:["Es muss ein Flugmeister angesprochen werden."],count:5},{title:"Fange 3 Haustiere",description:"Fange 3 Haustiere.",count:3},{title:"Verwende /umarmen bei 5 Pandaren",description:"Umarme 5 Pandaren unterschiedliche Pandaren.",hints:["Es müssen unterschiedliche Pandaren sein.","Es sind Spieler und NPCs erlaubt."],count:5},{title:"Stelle 5 Heiltränke her",description:"Stelle 5 Heiltränke her.",hints:["Es muss ein durch Alchemie hergestellter Heiltrank sein.","Der Trank darf auch Nebeneffekte haben.","Es muss beim Trinken sofort Leben wiederhergestellt werden."],count:5},{title:"Mache ein Lagerfeuer in Khaz Modan",description:"Mache ein Lagerfeuer in Khaz Modan.",hints:["Es muss das Lagerfeuer von Kochkunst sein."]},{title:"Trinke und übergebe dich",description:"Trinke und übergebe dich.",hints:["Es muss ein Getränk sein, das den Charakter betrunken macht.","Der Charakter muss sich übergeben."]},{title:"Besuche 2 Portale zum Smaragdgrünen Traum",description:"Besuche 2 Portale zum Smaragdgrünen Traum.",count:2},{title:"Verwende /kalt in der Frosthauchschlucht",description:"Verwende das Emote /kalt in der Frosthauchschlucht in Winterquell (Kalimdor).",hints:["Der Character muss im Gebiet Frosthauchschlucht in Winterquell (Kalimdor) sein."]},{title:"Besitze 40 Leinenstoff",description:"Besitze 40 Leinenstoff.",count:40},{title:"Besitze 20 Wollstoff",description:"Besitze 20 Wollstoff.",count:20},{title:"Angle in einem Fischschwarm",description:"Angle in einem Fischschwarm."},{title:"Verwende öffentliches Transportmittel",description:"Verwende ein öffentliches Transportmittel.",hints:["Erlaubt sind Zeppeline, Schiffe und die Tiefenbahn."]},{title:"Bade in Mondbrunnen",description:"Bade in einem Mondbrunnen."},{title:"20 Quests",description:"Schließe 20 Quests ab.",count:20},{title:'Verwende Verzauberung "Schwache Gesundheit"',description:'Verwende die Verzauberung "Schwache Gesundheit".',hints:["Die Verzauberung wird auf Armschienen verwendet."]},{title:"Erkunde Brachland",description:"Erkunde das Nördliche und Südliche Brachland.",hints:["Es müssen alle Gebiete des Brachlands erkundet werden, die zu den dazugehörigen Erfolgen gehören."]},{title:"Trage 10 Ausrüstungsteile",description:"Trage mindestens 10 Ausrüstungsteile.",count:10,hints:["Jeder Ausrüstungsplatz zählt."]},{title:"Erhalte seltenen Ausrüstungsgegenstand",description:"Erhalte einen seltenen Ausrüstungsgegenstand.",hint:["Der Gegenstand muss nicht angelegt werden können.","Es muss ein Ausrüstungsgegenstand sein."]},{title:"Besitze 5 Taschen",description:"Besitze 5 Taschen.",count:5,hints:["Alle Taschenarten zählen.","Die Taschen müssen angelegt sein und das Inventar erweitern."]},{title:"Erklimme Nimmerlaya",description:"Erklimme den Gipfel von Nimmerlaya im Kun-Lai Gebirge.",hints:["Der Gipfel muss erreicht werden."]},{title:"Erklimme Hochberg",description:"Erklimme den Gipfel vom Hochberg im Gebiet Hochberg.",hints:["Der Gipfel muss erreicht werden."]},{title:"Verwende /beten in Herdweiler",description:"Verwende /beten in Herdweiler in den westlichen Pestländern.",hints:["Das Emote muss in einem beliebigen Ort in Herdweiler verwendet werden."]},{title:"Verwende /trauern in Theramore",description:"Verwende /trauern in Theramore in den Düstermarschen.",hints:["Das Emote muss in einem beliebigen Ort in Theramore verwendet werden."]}]}];var M=(a=>(a.None="none",a.Done="done",a.Failed="failed",a))(M||{});class ie{constructor(o,s){R(this,"state","none");R(this,"priority","none");R(this,"currentCount");this.id=o,this.data=s,s.count!==void 0&&(this.currentCount=0)}setState(o){this.state=o}setPriority(o){this.priority=o}toggleState(){switch(this.state){case"done":this.state="failed";break;case"failed":this.state="none";break;case"none":this.state="done";break}}togglePriority(){switch(this.priority){case"none":this.priority="medium";break;case"medium":this.priority="high";break;case"high":this.priority="none";break}}isChecked(){return this.state==="done"}isFailed(){return this.state==="failed"}isUnchecked(){return this.state==="none"}isLowPriority(){return this.priority==="none"}isMediumPriority(){return this.priority==="medium"}isHighPriority(){return this.priority==="high"}reset(){this.state="none",this.priority="none",this.currentCount!==void 0&&(this.currentCount=0)}incrementCounter(){this.data.count===void 0||this.currentCount===void 0||(this.currentCount=Math.min(this.data.count,this.currentCount+1),this.currentCount===this.data.count&&(this.state="done"))}decrementCounter(){this.data.count===void 0||this.currentCount===void 0||(this.currentCount=Math.max(0,this.currentCount-1))}handleKeyPress(o){switch(o.key){case"d":this.state==="done"?this.setState("none"):this.setState("done");break;case"f":this.state==="failed"?this.setState("none"):this.setState("failed");break;case"u":this.setState("none");break;case"r":this.reset();break;case"p":this.togglePriority();break;case"s":this.toggleState();break;case"1":this.setPriority("none");break;case"2":this.priority==="medium"?this.setPriority("none"):this.setPriority("medium");break;case"3":this.priority==="high"?this.setPriority("none"):this.setPriority("high");break;case"ArrowUp":this.incrementCounter();break;case"ArrowDown":this.decrementCounter();break}}}function ne(){return Array.from({length:8},()=>Math.floor(Math.random()*36).toString(36)).join("")}function re(){return k[k.length-1].version}function ct(){const a=le(),o=he();(()=>{o.seed||(o.seed=ne()),o.version?k.some(S=>S.version===o.version)||(a.warning("Invalid version, using latest version instead"),o.version=re()):o.version=re(),o.size?(Number(o.size)<3||Number(o.size)>10)&&(a.warning("Invalid size, using default size instead"),o.size="5"):o.size="5"})();const l=Re(o.seed),h=O(()=>k.filter(({version:g})=>g===o.version||p(g)).map(({version:g})=>g)),m=O(()=>k.filter(g=>h.value.includes(g.version)).flatMap(g=>g.data));function p(g){const[S,v]=g.split(".").map(Number),[f,x]=o.version.split(".").map(Number);return S<f||S===f&&v<x}const c=()=>{const g=m.value,S=Number(o.size)**2,v=new Set;for(;v.size<S;){const x=Math.floor(l()*g.length);v.add(x)}return Array.from(v,x=>new ie(x,g[x]))},e=g=>k.flatMap(S=>S.data)[g],n=de(`v${o.version}-seed:${o.seed}-size:${o.size}`,c(),{serializer:{read:g=>JSON.parse(g).map(({data:S,id:v,...f})=>{const x=e(v),w=new ie(v,x);return Object.assign(w,f),w}),write:g=>JSON.stringify(g.map(({data:S,...v})=>({...v})))}}),t=()=>{n.value.forEach(g=>g.reset())},r=()=>{o.seed=ne(),n.value=c()},u=()=>{const g=Number(o.size);for(let f=0;f<g;f++){let x=!0,w=!0;for(let b=0;b<g;b++)n.value[f*g+b].state!==M.Done&&(x=!1),n.value[b*g+f].state!==M.Done&&(w=!1);if(x||w)return!0}let S=!0,v=!0;for(let f=0;f<g;f++)n.value[f*g+f].state!==M.Done&&(S=!1),n.value[f*g+(g-f-1)].state!==M.Done&&(v=!1);return S||v},d=O(()=>n.value.map(g=>g.state)),y=new Audio("/cps/quest_complete.ogg"),_=()=>{new at().addConfetti({emojis:["🌈","⚡️","💥","✨","💫","🌸"],emojiSize:32,confettiNumber:200}),y.play()};fe(d,()=>{u()&&_()},{deep:!0});const C=O(()=>k[k.length-1].version);return{cells:n,seed:o.seed,size:o.size,resetCells:t,newSeed:r,mostRecentVersion:C}}const ut={class:"flex flex-col h-full"},lt={class:"overflow-hidden"},mt=me({__name:"bingo-popout",setup(a){const{cells:o,size:s}=ct();return(l,h)=>{const m=xe("bingo-board"),p=we;return pe(),ve(p,{class:"h-full","content-class":"overflow-hidden"},{default:ge(()=>[W("div",ut,[W("div",lt,[be(m,{cells:K(o),size:Number(K(s))},null,8,["cells","size"])])])]),_:1})}}});export{mt as default};
