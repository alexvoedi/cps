import{_ as ki}from"./centered-layout-DdYU2Hg5.js";import{d as oe,y as F,G as Ti,H as Ri,s as S,I as fr,J as Oi,K as Gt,L as Ai,M as Pi,N as Jn,l as y,O as Jr,m as U,P as Gr,n as V,p as sn,Q as Je,f as ae,R as je,S as Di,T as Se,U as an,V as Bi,E as ln,W as Qr,X as Ni,w as He,Y as Zr,Z as $n,$ as Wt,a0 as Ht,a1 as O,a2 as Li,a3 as Be,a4 as $i,a5 as Ii,a6 as Gn,a7 as Ee,a8 as eo,a9 as zi,aa as Mi,ab as Wi,ac as Hi,ad as Fi,ae as ji,af as pr,ag as vn,ah as qi,ai as st,aj as Vi,ak as At,al as Ui,am as Pt,an as Xi,ao as Yi,ap as Ki,aq as Qt,ar as Ji,t as Gi,as as Ft,at as Qi,k as _,o as ne,a as Fe,h as I,j as L,i as K,au as at,F as Ye,av as Zi,c as _e,aw as In,b as cn,ax as to,ay as no,az as es,C as dn,aA as ts,aB as ns,aC as Qn,aD as rs,z as Ke,B as lt,aE as os,aF as ro,aG as oo,aH as is,aI as ss,aJ as as,aK as ls,aL as cs,aM as gr,g as ds}from"./index-D2Mc6qd7.js";import{t as us,u as io,_ as so,N as hs,a as fs}from"./composables-_lHnwBY7.js";import{_ as ps,a as gs,b as vs}from"./Switch-Bpa2Nyxi.js";import{_ as ms}from"./Input-CXE4JEpO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const bs=fr(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[fr("&::-webkit-scrollbar",{width:0,height:0})]),ys=oe({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const e=F(null);function t(o){!(o.currentTarget.offsetWidth<o.currentTarget.scrollWidth)||o.deltaY===0||(o.currentTarget.scrollLeft+=o.deltaY+o.deltaX,o.preventDefault())}const n=Ti();return bs.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:Ri,ssr:n}),Object.assign({selfRef:e,handleWheel:t},{scrollTo(...o){var i;(i=e.value)===null||i===void 0||i.scrollTo(...o)}})},render(){return S("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}});var _s=/\s/;function ws(e){for(var t=e.length;t--&&_s.test(e.charAt(t)););return t}var xs=/^\s+/;function Ss(e){return e&&e.slice(0,ws(e)+1).replace(xs,"")}var vr=NaN,Es=/^[-+]0x[0-9a-f]+$/i,Cs=/^0b[01]+$/i,ks=/^0o[0-7]+$/i,Ts=parseInt;function mr(e){if(typeof e=="number")return e;if(Oi(e))return vr;if(Gt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Gt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ss(e);var n=Cs.test(e);return n||ks.test(e)?Ts(e.slice(2),n?2:8):Es.test(e)?vr:+e}var mn=function(){return Ai.Date.now()},Rs="Expected a function",Os=Math.max,As=Math.min;function Ps(e,t,n){var r,o,i,s,a,l,d=0,c=!1,u=!1,b=!0;if(typeof e!="function")throw new TypeError(Rs);t=mr(t)||0,Gt(n)&&(c=!!n.leading,u="maxWait"in n,i=u?Os(mr(n.maxWait)||0,t):i,b="trailing"in n?!!n.trailing:b);function h(T){var k=r,z=o;return r=o=void 0,d=T,s=e.apply(z,k),s}function E(T){return d=T,a=setTimeout(R,t),c?h(T):s}function f(T){var k=T-l,z=T-d,W=t-k;return u?As(W,i-z):W}function C(T){var k=T-l,z=T-d;return l===void 0||k>=t||k<0||u&&z>=i}function R(){var T=mn();if(C(T))return p(T);a=setTimeout(R,f(T))}function p(T){return a=void 0,b&&r?h(T):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),d=0,r=l=o=a=void 0}function A(){return a===void 0?s:p(mn())}function x(){var T=mn(),k=C(T);if(r=arguments,o=this,l=T,k){if(a===void 0)return E(l);if(u)return clearTimeout(a),a=setTimeout(R,t),h(l)}return a===void 0&&(a=setTimeout(R,t)),s}return x.cancel=w,x.flush=A,x}var Ds="Expected a function";function bn(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(Ds);return Gt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ps(e,t,{leading:r,maxWait:t,trailing:o})}const Bs=oe({name:"Add",render(){return S("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},S("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),Ns=Pi&&"loading"in document.createElement("img");function Ls(e={}){var t;const{root:n=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof n=="string"?document.querySelector(n):n)||document.documentElement})}}const yn=new WeakMap,_n=new WeakMap,wn=new WeakMap,$s=(e,t,n)=>{if(!e)return()=>{};const r=Ls(t),{root:o}=r.options;let i;const s=yn.get(o);s?i=s:(i=new Map,yn.set(o,i));let a,l;i.has(r.hash)?(l=i.get(r.hash),l[1].has(e)||(a=l[0],l[1].add(e),a.observe(e))):(a=new IntersectionObserver(u=>{u.forEach(b=>{if(b.isIntersecting){const h=_n.get(b.target),E=wn.get(b.target);h&&h(),E&&(E.value=!0)}})},r.options),a.observe(e),l=[a,new Set([e])],i.set(r.hash,l));let d=!1;const c=()=>{d||(_n.delete(e),wn.delete(e),d=!0,l[1].has(e)&&(l[0].unobserve(e),l[1].delete(e)),l[1].size<=0&&i.delete(r.hash),i.size||yn.delete(o))};return _n.set(e,c),wn.set(e,n),c},Is=Jn("n-avatar-group"),zs=y("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[Jr(U("&","--n-merged-color: var(--n-color-modal);")),Gr(U("&","--n-merged-color: var(--n-color-popover);")),U("img",`
 width: 100%;
 height: 100%;
 `),V("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),y("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),V("text","line-height: 1.25")]),Ms=Object.assign(Object.assign({},je.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),Ws=oe({name:"Avatar",props:Ms,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=sn(e),r=F(!1);let o=null;const i=F(null),s=F(null),a=()=>{const{value:p}=i;if(p&&(o===null||o!==p.innerHTML)){o=p.innerHTML;const{value:w}=s;if(w){const{offsetWidth:A,offsetHeight:x}=w,{offsetWidth:T,offsetHeight:k}=p,z=.9,W=Math.min(A/T*z,x/k*z,1);p.style.transform=`translateX(-50%) translateY(-50%) scale(${W})`}}},l=Je(Is,null),d=ae(()=>{const{size:p}=e;if(p)return p;const{size:w}=l||{};return w||"medium"}),c=je("Avatar","-avatar",zs,Di,e,t),u=Je(us,null),b=ae(()=>{if(l)return!0;const{round:p,circle:w}=e;return p!==void 0||w!==void 0?p||w:u?u.roundRef.value:!1}),h=ae(()=>l?!0:e.bordered||!1),E=ae(()=>{const p=d.value,w=b.value,A=h.value,{color:x}=e,{self:{borderRadius:T,fontSize:k,color:z,border:W,colorModal:X,colorPopover:ie},common:{cubicBezierEaseInOut:Q}}=c.value;let se;return typeof p=="number"?se=`${p}px`:se=c.value.self[Se("height",p)],{"--n-font-size":k,"--n-border":A?W:"none","--n-border-radius":w?"50%":T,"--n-color":x||z,"--n-color-modal":x||X,"--n-color-popover":x||ie,"--n-bezier":Q,"--n-merged-size":`var(--n-avatar-size-override, ${se})`}}),f=n?an("avatar",ae(()=>{const p=d.value,w=b.value,A=h.value,{color:x}=e;let T="";return p&&(typeof p=="number"?T+=`a${p}`:T+=p[0]),w&&(T+="b"),A&&(T+="c"),x&&(T+=Bi(x)),T}),E,e):void 0,C=F(!e.lazy);ln(()=>{if(e.lazy&&e.intersectionObserverOptions){let p;const w=Qr(()=>{p==null||p(),p=void 0,e.lazy&&(p=$s(s.value,e.intersectionObserverOptions,C))});Ni(()=>{w(),p==null||p()})}}),He(()=>{var p;return e.src||((p=e.imgProps)===null||p===void 0?void 0:p.src)},()=>{r.value=!1});const R=F(!e.lazy);return{textRef:i,selfRef:s,mergedRoundRef:b,mergedClsPrefix:t,fitTextTransform:a,cssVars:n?void 0:E,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender,hasLoadError:r,shouldStartLoading:C,loaded:R,mergedOnError:p=>{if(!C.value)return;r.value=!0;const{onError:w,imgProps:{onError:A}={}}=e;w==null||w(p),A==null||A(p)},mergedOnLoad:p=>{const{onLoad:w,imgProps:{onLoad:A}={}}=e;w==null||w(p),A==null||A(p),R.value=!0}}},render(){var e,t;const{$slots:n,src:r,mergedClsPrefix:o,lazy:i,onRender:s,loaded:a,hasLoadError:l,imgProps:d={}}=this;s==null||s();let c;const u=!a&&!l&&(this.renderPlaceholder?this.renderPlaceholder():(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e));return this.hasLoadError?c=this.renderFallback?this.renderFallback():Zr(n.fallback,()=>[S("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})]):c=$n(n.default,b=>{if(b)return S(Wt,{onResize:this.fitTextTransform},{default:()=>S("span",{ref:"textRef",class:`${o}-avatar__text`},b)});if(r||d.src){const h=this.src||d.src;return S("img",Object.assign(Object.assign({},d),{loading:Ns&&!this.intersectionObserverOptions&&i?"lazy":"eager",src:i&&this.intersectionObserverOptions?this.shouldStartLoading?h:void 0:h,"data-image-src":h,onLoad:this.mergedOnLoad,onError:this.mergedOnError,style:[d.style||"",{objectFit:this.objectFit},u?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}}),S("span",{ref:"selfRef",class:[`${o}-avatar`,this.themeClass],style:this.cssVars},c,i&&u)}}),Hs=y("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[Ht("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[Ht("no-title",`
 display: flex;
 align-items: center;
 `)]),V("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),O("title-position-left",[V("line",[O("left",{width:"28px"})])]),O("title-position-right",[V("line",[O("right",{width:"28px"})])]),O("dashed",[V("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),O("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),V("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),Ht("dashed",[V("line",{backgroundColor:"var(--n-color)"})]),O("dashed",[V("line",{borderColor:"var(--n-color)"})]),O("vertical",{backgroundColor:"var(--n-color)"})]),Fs=Object.assign(Object.assign({},je.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),js=oe({name:"Divider",props:Fs,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=sn(e),r=je("Divider","-divider",Hs,Li,e,t),o=ae(()=>{const{common:{cubicBezierEaseInOut:s},self:{color:a,textColor:l,fontWeight:d}}=r.value;return{"--n-bezier":s,"--n-color":a,"--n-text-color":l,"--n-font-weight":d}}),i=n?an("divider",void 0,o,e):void 0;return{mergedClsPrefix:t,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{$slots:t,titlePlacement:n,vertical:r,dashed:o,cssVars:i,mergedClsPrefix:s}=this;return(e=this.onRender)===null||e===void 0||e.call(this),S("div",{role:"separator",class:[`${s}-divider`,this.themeClass,{[`${s}-divider--vertical`]:r,[`${s}-divider--no-title`]:!t.default,[`${s}-divider--dashed`]:o,[`${s}-divider--title-position-${n}`]:t.default&&n}],style:i},r?null:S("div",{class:`${s}-divider__line ${s}-divider__line--left`}),!r&&t.default?S(Be,null,S("div",{class:`${s}-divider__title`},this.$slots),S("div",{class:`${s}-divider__line ${s}-divider__line--right`})):null)}}),qs=U([y("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[O("show-divider",[y("list-item",[U("&:not(:last-child)",[V("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),O("clickable",[y("list-item",`
 cursor: pointer;
 `)]),O("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),O("hoverable",[y("list-item",`
 border-radius: var(--n-border-radius);
 `,[U("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[V("divider",`
 background-color: transparent;
 `)])])]),O("bordered, hoverable",[y("list-item",`
 padding: 12px 20px;
 `),V("header, footer",`
 padding: 12px 20px;
 `)]),V("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[U("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),y("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[V("prefix",`
 margin-right: 20px;
 flex: 0;
 `),V("suffix",`
 margin-left: 20px;
 flex: 0;
 `),V("main",`
 flex: 1;
 `),V("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),Jr(y("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),Gr(y("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),Vs=Object.assign(Object.assign({},je.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),ao=Jn("n-list"),Us=oe({name:"List",props:Vs,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=sn(e),o=$i("List",r,t),i=je("List","-list",qs,Ii,e,t);Gn(ao,{showDividerRef:Ee(e,"showDivider"),mergedClsPrefixRef:t});const s=ae(()=>{const{common:{cubicBezierEaseInOut:l},self:{fontSize:d,textColor:c,color:u,colorModal:b,colorPopover:h,borderColor:E,borderColorModal:f,borderColorPopover:C,borderRadius:R,colorHover:p,colorHoverModal:w,colorHoverPopover:A}}=i.value;return{"--n-font-size":d,"--n-bezier":l,"--n-text-color":c,"--n-color":u,"--n-border-radius":R,"--n-border-color":E,"--n-border-color-modal":f,"--n-border-color-popover":C,"--n-color-modal":b,"--n-color-popover":h,"--n-color-hover":p,"--n-color-hover-modal":w,"--n-color-hover-popover":A}}),a=n?an("list",void 0,s,e):void 0;return{mergedClsPrefix:t,rtlEnabled:o,cssVars:n?void 0:s,themeClass:a==null?void 0:a.themeClass,onRender:a==null?void 0:a.onRender}},render(){var e;const{$slots:t,mergedClsPrefix:n,onRender:r}=this;return r==null||r(),S("ul",{class:[`${n}-list`,this.rtlEnabled&&`${n}-list--rtl`,this.bordered&&`${n}-list--bordered`,this.showDivider&&`${n}-list--show-divider`,this.hoverable&&`${n}-list--hoverable`,this.clickable&&`${n}-list--clickable`,this.themeClass],style:this.cssVars},t.header?S("div",{class:`${n}-list__header`},t.header()):null,(e=t.default)===null||e===void 0?void 0:e.call(t),t.footer?S("div",{class:`${n}-list__footer`},t.footer()):null)}}),Xs=oe({name:"ListItem",setup(){const e=Je(ao,null);return e||eo("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:e.showDividerRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{$slots:e,mergedClsPrefix:t}=this;return S("li",{class:`${t}-list-item`},e.prefix?S("div",{class:`${t}-list-item__prefix`},e.prefix()):null,e.default?S("div",{class:`${t}-list-item__main`},e):null,e.suffix?S("div",{class:`${t}-list-item__suffix`},e.suffix()):null,this.showDivider&&S("div",{class:`${t}-list-item__divider`}))}});var Ys=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{d(r.next(c))}catch(u){s(u)}}function l(c){try{d(r.throw(c))}catch(u){s(u)}}function d(c){c.done?i(c.value):o(c.value).then(a,l)}d((r=r.apply(e,t||[])).next())})};const Ks={distance:{type:Number,default:0},onLoad:Function,scrollbarProps:Object},Js=oe({name:"InfiniteScroll",props:Ks,setup(e){const t=F(null);let n=!1;const r=()=>Ys(this,void 0,void 0,function*(){var s;const{value:a}=t;if(a){const{containerRef:l,containerScrollTop:d}=a,c=l==null?void 0:l.scrollHeight,u=l==null?void 0:l.clientHeight;if(l&&c!==void 0&&u!==void 0&&d+u>=c-e.distance){n=!0;try{yield(s=e.onLoad)===null||s===void 0?void 0:s.call(e)}catch{}n=!1}}});return{scrollbarInstRef:t,handleScroll:()=>{n||r()},handleWheel:s=>{s.deltaY<=0||n||r()}}},render(){return S(zi,Object.assign({},this.scrollbarProps,{ref:"scrollbarInstRef",onWheel:this.handleWheel,onScroll:this.handleScroll}),{default:()=>Zr(this.$slots.default,()=>[])})}}),Zn=Jn("n-tabs"),lo={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]},Gs=oe({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:lo,setup(e){const t=Je(Zn,null);return t||eo("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:t.paneStyleRef,class:t.paneClassRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){return S("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}}),Qs=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},ji(lo,["displayDirective"])),zn=oe({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:Qs,setup(e){const{mergedClsPrefixRef:t,valueRef:n,typeRef:r,closableRef:o,tabStyleRef:i,addTabStyleRef:s,tabClassRef:a,addTabClassRef:l,tabChangeIdRef:d,onBeforeLeaveRef:c,triggerRef:u,handleAdd:b,activateTab:h,handleClose:E}=Je(Zn);return{trigger:u,mergedClosable:ae(()=>{if(e.internalAddable)return!1;const{closable:f}=e;return f===void 0?o.value:f}),style:i,addStyle:s,tabClass:a,addTabClass:l,clsPrefix:t,value:n,type:r,handleClose(f){f.stopPropagation(),!e.disabled&&E(e.name)},activateTab(){if(e.disabled)return;if(e.internalAddable){b();return}const{name:f}=e,C=++d.id;if(f!==n.value){const{value:R}=c;R?Promise.resolve(R(e.name,n.value)).then(p=>{p&&d.id===C&&h(f)}):h(f)}}}},render(){const{internalAddable:e,clsPrefix:t,name:n,disabled:r,label:o,tab:i,value:s,mergedClosable:a,trigger:l,$slots:{default:d}}=this,c=o??i;return S("div",{class:`${t}-tabs-tab-wrapper`},this.internalLeftPadded?S("div",{class:`${t}-tabs-tab-pad`}):null,S("div",Object.assign({key:n,"data-name":n,"data-disabled":r?!0:void 0},Mi({class:[`${t}-tabs-tab`,s===n&&`${t}-tabs-tab--active`,r&&`${t}-tabs-tab--disabled`,a&&`${t}-tabs-tab--closable`,e&&`${t}-tabs-tab--addable`,e?this.addTabClass:this.tabClass],onClick:l==="click"?this.activateTab:void 0,onMouseenter:l==="hover"?this.activateTab:void 0,style:e?this.addStyle:this.style},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),S("span",{class:`${t}-tabs-tab__label`},e?S(Be,null,S("div",{class:`${t}-tabs-tab__height-placeholder`}," "),S(Wi,{clsPrefix:t},{default:()=>S(Bs,null)})):d?d():typeof c=="object"?c:Hi(c??n)),a&&this.type==="card"?S(Fi,{clsPrefix:t,class:`${t}-tabs-tab__close`,onClick:this.handleClose,disabled:r}):null))}}),Zs=y("tabs",`
 box-sizing: border-box;
 width: 100%;
 display: flex;
 flex-direction: column;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[O("segment-type",[y("tabs-rail",[U("&.transition-disabled",[y("tabs-capsule",`
 transition: none;
 `)])])]),O("top",[y("tab-pane",`
 padding: var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left);
 `)]),O("left",[y("tab-pane",`
 padding: var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left) var(--n-pane-padding-top);
 `)]),O("left, right",`
 flex-direction: row;
 `,[y("tabs-bar",`
 width: 2px;
 right: 0;
 transition:
 top .2s var(--n-bezier),
 max-height .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),y("tabs-tab",`
 padding: var(--n-tab-padding-vertical); 
 `)]),O("right",`
 flex-direction: row-reverse;
 `,[y("tab-pane",`
 padding: var(--n-pane-padding-left) var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom);
 `),y("tabs-bar",`
 left: 0;
 `)]),O("bottom",`
 flex-direction: column-reverse;
 justify-content: flex-end;
 `,[y("tab-pane",`
 padding: var(--n-pane-padding-bottom) var(--n-pane-padding-right) var(--n-pane-padding-top) var(--n-pane-padding-left);
 `),y("tabs-bar",`
 top: 0;
 `)]),y("tabs-rail",`
 position: relative;
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[y("tabs-capsule",`
 border-radius: var(--n-tab-border-radius);
 position: absolute;
 pointer-events: none;
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 transition: transform 0.3s var(--n-bezier);
 `),y("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[y("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[O("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 `),U("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),O("flex",[y("tabs-nav",`
 width: 100%;
 position: relative;
 `,[y("tabs-wrapper",`
 width: 100%;
 `,[y("tabs-tab",`
 margin-right: 0;
 `)])])]),y("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[V("prefix, suffix",`
 display: flex;
 align-items: center;
 `),V("prefix","padding-right: 16px;"),V("suffix","padding-left: 16px;")]),O("top, bottom",[y("tabs-nav-scroll-wrapper",[U("&::before",`
 top: 0;
 bottom: 0;
 left: 0;
 width: 20px;
 `),U("&::after",`
 top: 0;
 bottom: 0;
 right: 0;
 width: 20px;
 `),O("shadow-start",[U("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),O("shadow-end",[U("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)])])]),O("left, right",[y("tabs-nav-scroll-content",`
 flex-direction: column;
 `),y("tabs-nav-scroll-wrapper",[U("&::before",`
 top: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),U("&::after",`
 bottom: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),O("shadow-start",[U("&::before",`
 box-shadow: inset 0 10px 8px -8px rgba(0, 0, 0, .12);
 `)]),O("shadow-end",[U("&::after",`
 box-shadow: inset 0 -10px 8px -8px rgba(0, 0, 0, .12);
 `)])])]),y("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[y("tabs-nav-y-scroll",`
 height: 100%;
 width: 100%;
 overflow-y: auto; 
 scrollbar-width: none;
 `,[U("&::-webkit-scrollbar",`
 width: 0;
 height: 0;
 `)]),U("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 z-index: 1;
 `)]),y("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 min-height: 100%;
 width: fit-content;
 box-sizing: border-box;
 `),y("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),y("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),y("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[O("disabled",{cursor:"not-allowed"}),V("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),V("label",`
 display: flex;
 align-items: center;
 z-index: 1;
 `)]),y("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[U("&.transition-disabled",`
 transition: none;
 `),O("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),y("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),y("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[U("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),U("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),U("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),U("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),U("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),y("tabs-tab-pad",`
 box-sizing: border-box;
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),O("line-type, bar-type",[y("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[U("&:hover",{color:"var(--n-tab-text-color-hover)"}),O("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),O("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),y("tabs-nav",[O("line-type",[O("top",[V("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),y("tabs-nav-scroll-content",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),y("tabs-bar",`
 bottom: -1px;
 `)]),O("left",[V("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),y("tabs-nav-scroll-content",`
 border-right: 1px solid var(--n-tab-border-color);
 `),y("tabs-bar",`
 right: -1px;
 `)]),O("right",[V("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),y("tabs-nav-scroll-content",`
 border-left: 1px solid var(--n-tab-border-color);
 `),y("tabs-bar",`
 left: -1px;
 `)]),O("bottom",[V("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),y("tabs-nav-scroll-content",`
 border-top: 1px solid var(--n-tab-border-color);
 `),y("tabs-bar",`
 top: -1px;
 `)]),V("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),y("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 `),y("tabs-bar",`
 border-radius: 0;
 `)]),O("card-type",[V("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),y("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 `),y("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 `),y("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[O("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 `,[V("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),Ht("disabled",[U("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),O("closable","padding-right: 8px;"),O("active",`
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),O("disabled","color: var(--n-tab-text-color-disabled);")]),y("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);")]),O("left, right",[y("tabs-wrapper",`
 flex-direction: column;
 `,[y("tabs-tab-wrapper",`
 flex-direction: column;
 `,[y("tabs-tab-pad",`
 height: var(--n-tab-gap-vertical);
 width: 100%;
 `)])])]),O("top",[O("card-type",[y("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 `,[O("active",`
 border-bottom: 1px solid #0000;
 `)]),y("tabs-tab-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),y("tabs-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `)])]),O("left",[O("card-type",[y("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-bottom-left-radius: var(--n-tab-border-radius);
 `,[O("active",`
 border-right: 1px solid #0000;
 `)]),y("tabs-tab-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `),y("tabs-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `)])]),O("right",[O("card-type",[y("tabs-tab",`
 border-top-right-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[O("active",`
 border-left: 1px solid #0000;
 `)]),y("tabs-tab-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `),y("tabs-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `)])]),O("bottom",[O("card-type",[y("tabs-tab",`
 border-bottom-left-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[O("active",`
 border-top: 1px solid #0000;
 `)]),y("tabs-tab-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `),y("tabs-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `)])])])]),ea=Object.assign(Object.assign({},je.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},placement:{type:String,default:"top"},tabStyle:[String,Object],tabClass:String,addTabStyle:[String,Object],addTabClass:String,barWidth:Number,paneClass:String,paneStyle:[String,Object],paneWrapperClass:String,paneWrapperStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),ta=oe({name:"Tabs",props:ea,setup(e,{slots:t}){var n,r,o,i;const{mergedClsPrefixRef:s,inlineThemeDisabled:a}=sn(e),l=je("Tabs","-tabs",Zs,Ui,e,s),d=F(null),c=F(null),u=F(null),b=F(null),h=F(null),E=F(null),f=F(!0),C=F(!0),R=pr(e,["labelSize","size"]),p=pr(e,["activeName","value"]),w=F((r=(n=p.value)!==null&&n!==void 0?n:e.defaultValue)!==null&&r!==void 0?r:t.default?(i=(o=vn(t.default())[0])===null||o===void 0?void 0:o.props)===null||i===void 0?void 0:i.name:null),A=qi(p,w),x={id:0},T=ae(()=>{if(!(!e.justifyContent||e.type==="card"))return{display:"flex",justifyContent:e.justifyContent}});He(A,()=>{x.id=0,ie(),Q()});function k(){var g;const{value:v}=A;return v===null?null:(g=d.value)===null||g===void 0?void 0:g.querySelector(`[data-name="${v}"]`)}function z(g){if(e.type==="card")return;const{value:v}=c;if(!v)return;const P=v.style.opacity==="0";if(g){const M=`${s.value}-tabs-bar--disabled`,{barWidth:Z,placement:we}=e;if(g.dataset.disabled==="true"?v.classList.add(M):v.classList.remove(M),["top","bottom"].includes(we)){if(X(["top","maxHeight","height"]),typeof Z=="number"&&g.offsetWidth>=Z){const Ie=Math.floor((g.offsetWidth-Z)/2)+g.offsetLeft;v.style.left=`${Ie}px`,v.style.maxWidth=`${Z}px`}else v.style.left=`${g.offsetLeft}px`,v.style.maxWidth=`${g.offsetWidth}px`;v.style.width="8192px",P&&(v.style.transition="none"),v.offsetWidth,P&&(v.style.transition="",v.style.opacity="1")}else{if(X(["left","maxWidth","width"]),typeof Z=="number"&&g.offsetHeight>=Z){const Ie=Math.floor((g.offsetHeight-Z)/2)+g.offsetTop;v.style.top=`${Ie}px`,v.style.maxHeight=`${Z}px`}else v.style.top=`${g.offsetTop}px`,v.style.maxHeight=`${g.offsetHeight}px`;v.style.height="8192px",P&&(v.style.transition="none"),v.offsetHeight,P&&(v.style.transition="",v.style.opacity="1")}}}function W(){if(e.type==="card")return;const{value:g}=c;g&&(g.style.opacity="0")}function X(g){const{value:v}=c;if(v)for(const P of g)v.style[P]=""}function ie(){if(e.type==="card")return;const g=k();g?z(g):W()}function Q(){var g;const v=(g=h.value)===null||g===void 0?void 0:g.$el;if(!v)return;const P=k();if(!P)return;const{scrollLeft:M,offsetWidth:Z}=v,{offsetLeft:we,offsetWidth:Ie}=P;M>we?v.scrollTo({top:0,left:we,behavior:"smooth"}):we+Ie>M+Z&&v.scrollTo({top:0,left:we+Ie-Z,behavior:"smooth"})}const se=F(null);let he=0,le=null;function De(g){const v=se.value;if(v){he=g.getBoundingClientRect().height;const P=`${he}px`,M=()=>{v.style.height=P,v.style.maxHeight=P};le?(M(),le(),le=null):le=M}}function qe(g){const v=se.value;if(v){const P=g.getBoundingClientRect().height,M=()=>{document.body.offsetHeight,v.style.maxHeight=`${P}px`,v.style.height=`${Math.max(he,P)}px`};le?(le(),le=null,M()):le=M}}function fn(){const g=se.value;if(g){g.style.maxHeight="",g.style.height="";const{paneWrapperStyle:v}=e;if(typeof v=="string")g.style.cssText=v;else if(v){const{maxHeight:P,height:M}=v;P!==void 0&&(g.style.maxHeight=P),M!==void 0&&(g.style.height=M)}}}const ht={value:[]},Tt=F("next");function qo(g){const v=A.value;let P="next";for(const M of ht.value){if(M===v)break;if(M===g){P="prev";break}}Tt.value=P,Vo(g)}function Vo(g){const{onActiveNameChange:v,onUpdateValue:P,"onUpdate:value":M}=e;v&&Pt(v,g),P&&Pt(P,g),M&&Pt(M,g),w.value=g}function Uo(g){const{onClose:v}=e;v&&Pt(v,g)}function dr(){const{value:g}=c;if(!g)return;const v="transition-disabled";g.classList.add(v),ie(),g.classList.remove(v)}const Qe=F(null);function pn({transitionDisabled:g}){const v=d.value;if(!v)return;g&&v.classList.add("transition-disabled");const P=k();P&&Qe.value&&(Qe.value.style.width=`${P.offsetWidth}px`,Qe.value.style.height=`${P.offsetHeight}px`,Qe.value.style.transform=`translateX(${P.offsetLeft-Xi(getComputedStyle(v).paddingLeft)}px)`,g&&Qe.value.offsetWidth),g&&v.classList.remove("transition-disabled")}He([A],()=>{e.type==="segment"&&st(()=>{pn({transitionDisabled:!1})})}),ln(()=>{e.type==="segment"&&pn({transitionDisabled:!0})});let ur=0;function Xo(g){var v;if(g.contentRect.width===0&&g.contentRect.height===0||ur===g.contentRect.width)return;ur=g.contentRect.width;const{type:P}=e;if((P==="line"||P==="bar")&&dr(),P!=="segment"){const{placement:M}=e;gn((M==="top"||M==="bottom"?(v=h.value)===null||v===void 0?void 0:v.$el:E.value)||null)}}const Yo=bn(Xo,64);He([()=>e.justifyContent,()=>e.size],()=>{st(()=>{const{type:g}=e;(g==="line"||g==="bar")&&dr()})});const Rt=F(!1);function Ko(g){var v;const{target:P,contentRect:{width:M}}=g,Z=P.parentElement.offsetWidth;if(!Rt.value)Z<M&&(Rt.value=!0);else{const{value:we}=b;if(!we)return;Z-M>we.$el.offsetWidth&&(Rt.value=!1)}gn(((v=h.value)===null||v===void 0?void 0:v.$el)||null)}const Jo=bn(Ko,64);function Go(){const{onAdd:g}=e;g&&g(),st(()=>{const v=k(),{value:P}=h;!v||!P||P.scrollTo({left:v.offsetLeft,top:0,behavior:"smooth"})})}function gn(g){if(!g)return;const{placement:v}=e;if(v==="top"||v==="bottom"){const{scrollLeft:P,scrollWidth:M,offsetWidth:Z}=g;f.value=P<=0,C.value=P+Z>=M}else{const{scrollTop:P,scrollHeight:M,offsetHeight:Z}=g;f.value=P<=0,C.value=P+Z>=M}}const Qo=bn(g=>{gn(g.target)},64);Gn(Zn,{triggerRef:Ee(e,"trigger"),tabStyleRef:Ee(e,"tabStyle"),tabClassRef:Ee(e,"tabClass"),addTabStyleRef:Ee(e,"addTabStyle"),addTabClassRef:Ee(e,"addTabClass"),paneClassRef:Ee(e,"paneClass"),paneStyleRef:Ee(e,"paneStyle"),mergedClsPrefixRef:s,typeRef:Ee(e,"type"),closableRef:Ee(e,"closable"),valueRef:A,tabChangeIdRef:x,onBeforeLeaveRef:Ee(e,"onBeforeLeave"),activateTab:qo,handleClose:Uo,handleAdd:Go}),Vi(()=>{ie(),Q()}),Qr(()=>{const{value:g}=u;if(!g)return;const{value:v}=s,P=`${v}-tabs-nav-scroll-wrapper--shadow-start`,M=`${v}-tabs-nav-scroll-wrapper--shadow-end`;f.value?g.classList.remove(P):g.classList.add(P),C.value?g.classList.remove(M):g.classList.add(M)});const Zo={syncBarPosition:()=>{ie()}},ei=()=>{pn({transitionDisabled:!0})},hr=ae(()=>{const{value:g}=R,{type:v}=e,P={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[v],M=`${g}${P}`,{self:{barColor:Z,closeIconColor:we,closeIconColorHover:Ie,closeIconColorPressed:ti,tabColor:ni,tabBorderColor:ri,paneTextColor:oi,tabFontWeight:ii,tabBorderRadius:si,tabFontWeightActive:ai,colorSegment:li,fontWeightStrong:ci,tabColorSegment:di,closeSize:ui,closeIconSize:hi,closeColorHover:fi,closeColorPressed:pi,closeBorderRadius:gi,[Se("panePadding",g)]:Ot,[Se("tabPadding",M)]:vi,[Se("tabPaddingVertical",M)]:mi,[Se("tabGap",M)]:bi,[Se("tabGap",`${M}Vertical`)]:yi,[Se("tabTextColor",v)]:_i,[Se("tabTextColorActive",v)]:wi,[Se("tabTextColorHover",v)]:xi,[Se("tabTextColorDisabled",v)]:Si,[Se("tabFontSize",g)]:Ei},common:{cubicBezierEaseInOut:Ci}}=l.value;return{"--n-bezier":Ci,"--n-color-segment":li,"--n-bar-color":Z,"--n-tab-font-size":Ei,"--n-tab-text-color":_i,"--n-tab-text-color-active":wi,"--n-tab-text-color-disabled":Si,"--n-tab-text-color-hover":xi,"--n-pane-text-color":oi,"--n-tab-border-color":ri,"--n-tab-border-radius":si,"--n-close-size":ui,"--n-close-icon-size":hi,"--n-close-color-hover":fi,"--n-close-color-pressed":pi,"--n-close-border-radius":gi,"--n-close-icon-color":we,"--n-close-icon-color-hover":Ie,"--n-close-icon-color-pressed":ti,"--n-tab-color":ni,"--n-tab-font-weight":ii,"--n-tab-font-weight-active":ai,"--n-tab-padding":vi,"--n-tab-padding-vertical":mi,"--n-tab-gap":bi,"--n-tab-gap-vertical":yi,"--n-pane-padding-left":At(Ot,"left"),"--n-pane-padding-right":At(Ot,"right"),"--n-pane-padding-top":At(Ot,"top"),"--n-pane-padding-bottom":At(Ot,"bottom"),"--n-font-weight-strong":ci,"--n-tab-color-segment":di}}),Ze=a?an("tabs",ae(()=>`${R.value[0]}${e.type[0]}`),hr,e):void 0;return Object.assign({mergedClsPrefix:s,mergedValue:A,renderedNames:new Set,segmentCapsuleElRef:Qe,tabsPaneWrapperRef:se,tabsElRef:d,barElRef:c,addTabInstRef:b,xScrollInstRef:h,scrollWrapperElRef:u,addTabFixed:Rt,tabWrapperStyle:T,handleNavResize:Yo,mergedSize:R,handleScroll:Qo,handleTabsResize:Jo,cssVars:a?void 0:hr,themeClass:Ze==null?void 0:Ze.themeClass,animationDirection:Tt,renderNameListRef:ht,yScrollElRef:E,handleSegmentResize:ei,onAnimationBeforeLeave:De,onAnimationEnter:qe,onAnimationAfterEnter:fn,onRender:Ze==null?void 0:Ze.onRender},Zo)},render(){const{mergedClsPrefix:e,type:t,placement:n,addTabFixed:r,addable:o,mergedSize:i,renderNameListRef:s,onRender:a,paneWrapperClass:l,paneWrapperStyle:d,$slots:{default:c,prefix:u,suffix:b}}=this;a==null||a();const h=c?vn(c()).filter(x=>x.type.__TAB_PANE__===!0):[],E=c?vn(c()).filter(x=>x.type.__TAB__===!0):[],f=!E.length,C=t==="card",R=t==="segment",p=!C&&!R&&this.justifyContent;s.value=[];const w=()=>{const x=S("div",{style:this.tabWrapperStyle,class:[`${e}-tabs-wrapper`]},p?null:S("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}),f?h.map((T,k)=>(s.value.push(T.props.name),xn(S(zn,Object.assign({},T.props,{internalCreatedByPane:!0,internalLeftPadded:k!==0&&(!p||p==="center"||p==="start"||p==="end")}),T.children?{default:T.children.tab}:void 0)))):E.map((T,k)=>(s.value.push(T.props.name),xn(k!==0&&!p?_r(T):T))),!r&&o&&C?yr(o,(f?h.length:E.length)!==0):null,p?null:S("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));return S("div",{ref:"tabsElRef",class:`${e}-tabs-nav-scroll-content`},C&&o?S(Wt,{onResize:this.handleTabsResize},{default:()=>x}):x,C?S("div",{class:`${e}-tabs-pad`}):null,C?null:S("div",{ref:"barElRef",class:`${e}-tabs-bar`}))},A=R?"top":n;return S("div",{class:[`${e}-tabs`,this.themeClass,`${e}-tabs--${t}-type`,`${e}-tabs--${i}-size`,p&&`${e}-tabs--flex`,`${e}-tabs--${A}`],style:this.cssVars},S("div",{class:[`${e}-tabs-nav--${t}-type`,`${e}-tabs-nav--${A}`,`${e}-tabs-nav`]},$n(u,x=>x&&S("div",{class:`${e}-tabs-nav__prefix`},x)),R?S(Wt,{onResize:this.handleSegmentResize},{default:()=>S("div",{class:`${e}-tabs-rail`,ref:"tabsElRef"},S("div",{class:`${e}-tabs-capsule`,ref:"segmentCapsuleElRef"},S("div",{class:`${e}-tabs-wrapper`},S("div",{class:`${e}-tabs-tab`}))),f?h.map((x,T)=>(s.value.push(x.props.name),S(zn,Object.assign({},x.props,{internalCreatedByPane:!0,internalLeftPadded:T!==0}),x.children?{default:x.children.tab}:void 0))):E.map((x,T)=>(s.value.push(x.props.name),T===0?x:_r(x))))}):S(Wt,{onResize:this.handleNavResize},{default:()=>S("div",{class:`${e}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},["top","bottom"].includes(A)?S(ys,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:w}):S("div",{class:`${e}-tabs-nav-y-scroll`,onScroll:this.handleScroll,ref:"yScrollElRef"},w()))}),r&&o&&C?yr(o,!0):null,$n(b,x=>x&&S("div",{class:`${e}-tabs-nav__suffix`},x))),f&&(this.animated&&(A==="top"||A==="bottom")?S("div",{ref:"tabsPaneWrapperRef",style:d,class:[`${e}-tabs-pane-wrapper`,l]},br(h,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):br(h,this.mergedValue,this.renderedNames)))}});function br(e,t,n,r,o,i,s){const a=[];return e.forEach(l=>{const{name:d,displayDirective:c,"display-directive":u}=l.props,b=E=>c===E||u===E,h=t===d;if(l.key!==void 0&&(l.key=d),h||b("show")||b("show:lazy")&&n.has(d)){n.has(d)||n.add(d);const E=!b("if");a.push(E?Yi(l,[[Ki,h]]):l)}}),s?S(Qt,{name:`${s}-transition`,onBeforeLeave:r,onEnter:o,onAfterEnter:i},{default:()=>a}):a}function yr(e,t){return S(zn,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:t,disabled:typeof e=="object"&&e.disabled})}function _r(e){const t=Ji(e);return t.props?t.props.internalLeftPadded=!0:t.props={internalLeftPadded:!0},t}function xn(e){return Array.isArray(e.dynamicProps)?e.dynamicProps.includes("internalLeftPadded")||e.dynamicProps.push("internalLeftPadded"):e.dynamicProps=["internalLeftPadded"],e}const Ge=Gi("raid",{state:()=>({characters:[],priorityList:[],priorityListHistory:[]}),actions:{async fetchCharacters(){const e=await Ft.get("characters",{prefixUrl:"https://v220240778215279047.powersrv.de/cps-backend",credentials:"include"});this.characters=await e.json()},async createCharacter(e){const n=await Ft.post("characters",{prefixUrl:"https://v220240778215279047.powersrv.de/cps-backend",json:e,credentials:"include"}).json();this.characters.push(n)},async deleteCharacter(e){await Ft.delete(`characters/${e}`,{prefixUrl:"https://v220240778215279047.powersrv.de/cps-backend",credentials:"include"}),this.characters=this.characters.filter(t=>t.id!==e)},getCharacterById(e){return this.characters.find(t=>t.id===e)},getCharacterFromPriorityList(e){return this.priorityList.find(t=>t.characterId===e)}},getters:{inactiveCharacters:e=>e.characters.filter(t=>{const n=e.priorityList.find(r=>r.characterId===t.id);return!n||n&&!n.active})}}),na="/cps/assets/deathknight-CjzlZdMw.png",ra="/cps/assets/warrior-B_TA0OBQ.png",oa="/cps/assets/paladin-CGOLVl72.png",ia="/cps/assets/hunter-DnK7rGi0.png",sa="/cps/assets/rogue-DDQYB8c1.png",aa="/cps/assets/priest-BpGR7OeA.png",la="/cps/assets/shaman-Cvl6CrZt.png",ca="/cps/assets/mage-CG2MsyGb.png",da="/cps/assets/warlock-DKM-Ggv4.png",ua="/cps/assets/monk-wTaFlkSo.png",ha="/cps/assets/druid-BzzgyVwn.png",fa="/cps/assets/demonhunter-BtLnVuHW.png",pa="/cps/assets/evoker-Dv7GiB6u.png";var $=(e=>(e.Warrior="Warrior",e.Paladin="Paladin",e.Hunter="Hunter",e.Rogue="Rogue",e.Priest="Priest",e.Shaman="Shaman",e.Mage="Mage",e.Warlock="Warlock",e.Monk="Monk",e.Druid="Druid",e.DemonHunter="DemonHunter",e.DeathKnight="DeathKnight",e.Evoker="Evoker",e))($||{});const ga=Object.values($);function ue(e){switch(e){case $.DeathKnight:return na;case $.Warrior:return ra;case $.Paladin:return oa;case $.Hunter:return ia;case $.Rogue:return sa;case $.Priest:return aa;case $.Shaman:return la;case $.Mage:return ca;case $.Warlock:return da;case $.Monk:return ua;case $.Druid:return ha;case $.DemonHunter:return fa;case $.Evoker:return pa;default:throw new Error("Invalid class name")}}const va={justNow:"gerade eben",past:e=>/\d/.exec(e)?`vor ${e}`:e,future:e=>/\d/.exec(e)?`in ${e}`:e,month:(e,t)=>e===1?t?"Letzten Monat":"Nächsten Monat":`${e} Monat${e>1?"e":""}`,year:(e,t)=>e===1?t?"Letztes Jahr":"Nächstes Jahr":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"gestern":"morgen":`${e} Tag${e>1?"e":""}`,week:(e,t)=>e===1?t?"letzte Woche":"nächste Woche":`${e} Woche${e>1?"n":""}`,hour:e=>`${e} Stunde${e>1?"n":""}`,minute:e=>`${e} Minute${e>1?"n":""}`,second:e=>`${e} Sekunde${e>1?"n":""}`,invalid:"Ungültiges Datum"};function ma(e,t){return Qi(e,{...t,messages:va})}const ba=["src","alt"],ya={class:"flex gap-4 items-end"},_a={class:"font-bold text-lg"},wa={class:"text-true-gray-500"},xa=oe({__name:"priority-list-history-item",props:{event:{}},setup(e){const t=e,n=Ge(),r=ae(()=>n.getCharacterById(t.event.characterId)),o=F(null);function i(){return t.event.from?t.event.from>t.event.to?`Von Platz ${t.event.from} auf Platz ${t.event.to} aufgestiegen.`:`Von Platz ${t.event.from} auf Platz ${t.event.to} abgestiegen.`:`Auf Platz ${t.event.to} eingestiegen.`}o.value||(o.value=i());const s=ma(t.event.timestamp);return(a,l)=>{const d=Zi,c=Ws,u=Xs;return _(r)?(ne(),Fe(u,{key:0},{prefix:I(()=>[L(c,null,{default:I(()=>[L(d,null,{default:I(()=>[K("img",{src:_(ue)(_(r).class),alt:`${_(r).class} Class Icon`},null,8,ba)]),_:1})]),_:1})]),default:I(()=>[K("div",ya,[K("h4",_a,at(_(r).name),1),K("span",wa,at(_(s)),1)]),K("div",null,at(_(o)),1)]),_:1})):Ye("",!0)}}}),Sa=oe({__name:"priority-list-history",setup(e){const t=Ge(),n=ae(()=>t.priorityListHistory);let r=!1;async function o(){if(r)return;const s=await(await Ft.get("priority-list/history",{prefixUrl:"https://v220240778215279047.powersrv.de/cps-backend",searchParams:new URLSearchParams({skip:`${t.priorityListHistory.length}`,take:"10"})})).json();s.length===0&&(r=!0),t.priorityListHistory.push(...s)}return(i,s)=>{const a=xa,l=Us,d=Js;return ne(),Fe(d,{class:"max-h-25dvh min-h-280px",distance:100,onLoad:o},{default:I(()=>[L(l,{class:"overflow-y-auto overflow-x-hidden",hoverable:""},{default:I(()=>[L(Qt,{name:"fade"},{default:I(()=>[(ne(!0),_e(Be,null,In(_(n),c=>(ne(),_e("div",{key:c.id,class:"border-b border-b-true-gray-800"},[L(a,{event:c},null,8,["event"])]))),128))]),_:1})]),_:1})]),_:1})}}}),er=Symbol("socket");var bt=(e=>(e.PriorityList="PriorityList",e.TSet="TSet",e))(bt||{}),Ce=(e=>(e.Need="Need",e.Transmog="Transmog",e))(Ce||{});const Ea={class:"flex items-center gap-8"},Ca={key:0,class:"font-mono font-bold text-2xl pl-4"},ka=["src","alt"],Ta={class:"text-lg font-light text-nowrap"},Ra={key:0,class:"flex items-center justify-center gap-3"},Oa=K("span",{class:"text-lg font-bold"},"B",-1),Aa=K("span",{class:"text-lg font-bold"},"T",-1),Pa=K("span",{class:"ico-mdi-arrow-collapse-down"},null,-1),Da=K("div",null,"Character ans Ende verschieben",-1),Ba=K("span",{class:"ico-mdi-delete"},null,-1),Na=K("div",null,"Charakter aus Liste entfernen",-1),La=oe({__name:"priority-list-entry",props:{characterId:{},listType:{},need:{}},emits:["setNeed"],setup(e,{emit:t}){const n=e,r=t,o=io(),i=cn(),s=Je(er),a=Ge(),l=to(),d=ae(()=>a.getCharacterById(n.characterId)),c=ae(()=>a.getCharacterFromPriorityList(n.characterId));function u(){o.warning({title:"Charakter löschen",content:"Willst du wirklich den Charakter von der Prio Liste löschen?",onPositiveClick:()=>{},onNegativeClick:()=>{},positiveText:"Ja!",negativeText:"Nein, lieber nicht"})}function b(){if(!s)return i.error("Nicht verbunden");if(!d.value)return i.error("Character nicht gefunden!");s.emit("move-to-end",JSON.stringify({characterId:d.value.id,listType:bt.PriorityList}))}function h(){var f;if(!s)return i.error("Nicht verbunden");if(!d.value)return i.error("Character nicht gefunden!");if(!c.value)return i.error("Character nicht in Prio King List vorhanden");const E=(f=c.value)!=null&&f.active?"set-character-inactive":"set-character-active";s.emit(E,JSON.stringify({characterId:d.value.id}))}return(E,f)=>{var w;const C=ps,R=es,p=dn;return _(d)?(ne(),_e("div",{key:0,class:no(["bg-true-gray-900 border border-true-gray-800 rounded overflow-hidden flex w-full justify-between items-center px-4 py-2",{"cursor-move":_(l).isRaidLead}])},[K("div",Ea,[(w=_(c))!=null&&w.position?(ne(),_e("span",Ca,at(_(c).position),1)):Ye("",!0),K("img",{src:_(ue)(_(d).class),class:"w-10 h-10",alt:`${_(d).class} Class Icon`},null,8,ka),K("span",Ta,at(_(d).name),1)]),_(l).isRaidLead?(ne(),_e("div",Ra,[_(c)?(ne(),Fe(R,{key:0},{trigger:I(()=>[L(C,{value:_(c).active,"onUpdate:value":f[0]||(f[0]=A=>h())},null,8,["value"])]),default:I(()=>[K("div",null,"Character "+at(_(c).active?"deaktivieren":"aktivieren"),1)]),_:1})):Ye("",!0),E.listType?(ne(),_e(Be,{key:1},[L(p,{circle:"",type:E.need===_(Ce).Need?"primary":"default",primary:E.need===_(Ce).Need,quaternary:E.need!==_(Ce).Need,size:"large",onClick:f[1]||(f[1]=A=>r("setNeed",E.need===_(Ce).Need?null:_(Ce).Need))},{default:I(()=>[Oa]),_:1},8,["type","primary","quaternary"]),L(p,{circle:"",type:E.need===_(Ce).Transmog?"primary":"default",primary:E.need===_(Ce).Transmog,quaternary:E.need!==_(Ce).Transmog,size:"large",onClick:f[2]||(f[2]=A=>r("setNeed",E.need===_(Ce).Transmog?null:_(Ce).Transmog))},{default:I(()=>[Aa]),_:1},8,["type","primary","quaternary"]),L(R,null,{trigger:I(()=>[L(p,{circle:"",quaternary:"",onClick:b},{icon:I(()=>[Pa]),_:1})]),default:I(()=>[Da]),_:1}),L(R,null,{trigger:I(()=>[L(p,{circle:"",quaternary:"",type:"warning",onClick:u},{icon:I(()=>[Ba]),_:1})]),default:I(()=>[Na]),_:1})],64)):Ye("",!0)])):Ye("",!0)],2)):Ye("",!0)}}});var $a=Object.defineProperty,Zt=Object.getOwnPropertySymbols,co=Object.prototype.hasOwnProperty,uo=Object.prototype.propertyIsEnumerable,wr=(e,t,n)=>t in e?$a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ot=(e,t)=>{for(var n in t||(t={}))co.call(t,n)&&wr(e,n,t[n]);if(Zt)for(var n of Zt(t))uo.call(t,n)&&wr(e,n,t[n]);return e},ho=(e,t)=>{var n={};for(var r in e)co.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zt)for(var r of Zt(e))t.indexOf(r)<0&&uo.call(e,r)&&(n[r]=e[r]);return n};const fo="[vue-draggable-plus]: ";function Ia(e){console.warn(fo+e)}function za(e){console.error(fo+e)}function xr(e,t,n){return n>=0&&n<e.length&&e.splice(n,0,e.splice(t,1)[0]),e}function Ma(e){return e.replace(/-(\w)/g,(t,n)=>n?n.toUpperCase():"")}function Wa(e){return Object.keys(e).reduce((t,n)=>(typeof e[n]<"u"&&(t[Ma(n)]=e[n]),t),{})}function Sr(e,t){return Array.isArray(e)&&e.splice(t,1),e}function Er(e,t,n){return Array.isArray(e)&&e.splice(t,0,n),e}function Ha(e){return typeof e>"u"}function Fa(e){return typeof e=="string"}function Cr(e,t,n){const r=e.children[n];e.insertBefore(t,r)}function Sn(e){e.parentNode&&e.parentNode.removeChild(e)}function ja(e,t=document){var n;let r=null;return typeof(t==null?void 0:t.querySelector)=="function"?r=(n=t==null?void 0:t.querySelector)==null?void 0:n.call(t,e):r=document.querySelector(e),r||Ia(`Element not found: ${e}`),r}function qa(e,t,n=null){return function(...r){return e.apply(n,r),t.apply(n,r)}}function Va(e,t){const n=ot({},e);return Object.keys(t).forEach(r=>{n[r]?n[r]=qa(e[r],t[r]):n[r]=t[r]}),n}function Ua(e){return e instanceof HTMLElement}function kr(e,t){Object.keys(e).forEach(n=>{t(n,e[n])})}function Xa(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)}const Ya=Object.assign;/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tr(Object(n),!0).forEach(function(r){Ka(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jt=function(t){return typeof t}:jt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function Ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Le(){return Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}function Ja(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ga(e,t){if(e==null)return{};var n=Ja(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Qa="1.15.2";function Ne(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var $e=Ne(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ct=Ne(/Edge/i),Rr=Ne(/firefox/i),yt=Ne(/safari/i)&&!Ne(/chrome/i)&&!Ne(/android/i),po=Ne(/iP(ad|od|hone)/i),go=Ne(/chrome/i)&&Ne(/android/i),vo={capture:!1,passive:!1};function q(e,t,n){e.addEventListener(t,n,!$e&&vo)}function j(e,t,n){e.removeEventListener(t,n,!$e&&vo)}function en(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Za(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ke(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&en(e,t):en(e,t))||r&&e===n)return e;if(e===n)break}while(e=Za(e))}return null}var Or=/\s+/g;function ge(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Or," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Or," ")}}function D(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function ct(e,t){var n="";if(typeof e=="string")n=e;else do{var r=D(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function mo(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function Re(){var e=document.scrollingElement;return e||document.documentElement}function te(e,t,n,r,o){if(!(!e.getBoundingClientRect&&e!==window)){var i,s,a,l,d,c,u;if(e!==window&&e.parentNode&&e!==Re()?(i=e.getBoundingClientRect(),s=i.top,a=i.left,l=i.bottom,d=i.right,c=i.height,u=i.width):(s=0,a=0,l=window.innerHeight,d=window.innerWidth,c=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!$e))do if(o&&o.getBoundingClientRect&&(D(o,"transform")!=="none"||n&&D(o,"position")!=="static")){var b=o.getBoundingClientRect();s-=b.top+parseInt(D(o,"border-top-width")),a-=b.left+parseInt(D(o,"border-left-width")),l=s+i.height,d=a+i.width;break}while(o=o.parentNode);if(r&&e!==window){var h=ct(o||e),E=h&&h.a,f=h&&h.d;h&&(s/=f,a/=E,u/=E,c/=f,l=s+c,d=a+u)}return{top:s,left:a,bottom:l,right:d,width:u,height:c}}}function Ar(e,t,n){for(var r=We(e,!0),o=te(e)[t];r;){var i=te(r)[n],s=void 0;if(s=o>=i,!s)return r;if(r===Re())break;r=We(r,!1)}return!1}function dt(e,t,n,r){for(var o=0,i=0,s=e.children;i<s.length;){if(s[i].style.display!=="none"&&s[i]!==B.ghost&&(r||s[i]!==B.dragged)&&ke(s[i],n.draggable,e,!1)){if(o===t)return s[i];o++}i++}return null}function tr(e,t){for(var n=e.lastElementChild;n&&(n===B.ghost||D(n,"display")==="none"||t&&!en(n,t));)n=n.previousElementSibling;return n||null}function be(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==B.clone&&(!t||en(e,t))&&n++;return n}function Pr(e){var t=0,n=0,r=Re();if(e)do{var o=ct(e),i=o.a,s=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function el(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function We(e,t){if(!e||!e.getBoundingClientRect)return Re();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=D(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Re();if(r||t)return n;r=!0}}while(n=n.parentNode);return Re()}function tl(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function En(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var _t;function bo(e,t){return function(){if(!_t){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),_t=setTimeout(function(){_t=void 0},t)}}}function nl(){clearTimeout(_t),_t=void 0}function yo(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function _o(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function wo(e,t,n){var r={};return Array.from(e.children).forEach(function(o){var i,s,a,l;if(!(!ke(o,t.draggable,e,!1)||o.animated||o===n)){var d=te(o);r.left=Math.min((i=r.left)!==null&&i!==void 0?i:1/0,d.left),r.top=Math.min((s=r.top)!==null&&s!==void 0?s:1/0,d.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,d.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,d.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var me="Sortable"+new Date().getTime();function rl(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(D(r,"display")==="none"||r===B.ghost)){e.push({target:r,rect:te(r)});var o=Ae({},e[e.length-1].rect);if(r.thisAnimationDuration){var i=ct(r,!0);i&&(o.top-=i.f,o.left-=i.e)}r.fromRect=o}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(el(e,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var o=!1,i=0;e.forEach(function(s){var a=0,l=s.target,d=l.fromRect,c=te(l),u=l.prevFromRect,b=l.prevToRect,h=s.rect,E=ct(l,!0);E&&(c.top-=E.f,c.left-=E.e),l.toRect=c,l.thisAnimationDuration&&En(u,c)&&!En(d,c)&&(h.top-c.top)/(h.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(a=il(h,u,b,r.options)),En(c,d)||(l.prevFromRect=d,l.prevToRect=c,a||(a=r.options.animation),r.animate(l,h,c,a)),a&&(o=!0,i=Math.max(i,a),clearTimeout(l.animationResetTimer),l.animationResetTimer=setTimeout(function(){l.animationTime=0,l.prevFromRect=null,l.fromRect=null,l.prevToRect=null,l.thisAnimationDuration=null},a),l.thisAnimationDuration=a)}),clearTimeout(t),o?t=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),e=[]},animate:function(n,r,o,i){if(i){D(n,"transition",""),D(n,"transform","");var s=ct(this.el),a=s&&s.a,l=s&&s.d,d=(r.left-o.left)/(a||1),c=(r.top-o.top)/(l||1);n.animatingX=!!d,n.animatingY=!!c,D(n,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=ol(n),D(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),D(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){D(n,"transition",""),D(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function ol(e){return e.offsetWidth}function il(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var et=[],Cn={initializeByDefault:!0},kt={mount:function(e){for(var t in Cn)Cn.hasOwnProperty(t)&&!(t in e)&&(e[t]=Cn[t]);et.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),et.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";et.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][o]&&t[i.pluginName][o](Ae({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](Ae({sortable:t},n)))})},initializePlugins:function(e,t,n,r){et.forEach(function(s){var a=s.pluginName;if(!(!e.options[a]&&!s.initializeByDefault)){var l=new s(e,t,e.options);l.sortable=e,l.options=e.options,e[a]=l,Le(n,l.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);typeof i<"u"&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return et.forEach(function(r){typeof r.eventProperties=="function"&&Le(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return et.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(r=o.optionListeners[t].call(e[o.pluginName],n))}),r}};function sl(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,d=e.newIndex,c=e.oldDraggableIndex,u=e.newDraggableIndex,b=e.originalEvent,h=e.putSortable,E=e.extraEventProperties;if(t=t||n&&n[me],!!t){var f,C=t.options,R="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!$e&&!Ct?f=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent(r,!0,!0)),f.to=s||n,f.from=a||n,f.item=o||n,f.clone=i,f.oldIndex=l,f.newIndex=d,f.oldDraggableIndex=c,f.newDraggableIndex=u,f.originalEvent=b,f.pullMode=h?h.lastPutMode:void 0;var p=Ae(Ae({},E),kt.getEventProperties(r,t));for(var w in p)f[w]=p[w];n&&n.dispatchEvent(f),C[R]&&C[R].call(t,f)}}var al=["evt"],pe=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,o=Ga(n,al);kt.pluginEvent.bind(B)(e,t,Ae({dragEl:m,parentEl:G,ghostEl:N,rootEl:Y,nextEl:Xe,lastDownEl:qt,cloneEl:J,cloneHidden:Me,dragStarted:pt,putSortable:ce,activeSortable:B.active,originalEvent:r,oldIndex:it,oldDraggableIndex:wt,newIndex:ve,newDraggableIndex:ze,hideGhostForTarget:Co,unhideGhostForTarget:ko,cloneNowHidden:function(){Me=!0},cloneNowShown:function(){Me=!1},dispatchSortableEvent:function(i){fe({sortable:t,name:i,originalEvent:r})}},o))};function fe(e){sl(Ae({putSortable:ce,cloneEl:J,targetEl:m,rootEl:Y,oldIndex:it,oldDraggableIndex:wt,newIndex:ve,newDraggableIndex:ze},e))}var m,G,N,Y,Xe,qt,J,Me,it,ve,wt,ze,Dt,ce,nt=!1,tn=!1,nn=[],Ve,xe,kn,Tn,Dr,Br,pt,tt,xt,St=!1,Bt=!1,Vt,de,Rn=[],Mn=!1,rn=[],un=typeof document<"u",Nt=po,Nr=Ct||$e?"cssFloat":"float",ll=un&&!go&&!po&&"draggable"in document.createElement("div"),xo=function(){if(un){if($e)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),So=function(e,t){var n=D(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=dt(e,0,t),i=dt(e,1,t),s=o&&D(o),a=i&&D(i),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+te(o).width,d=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+te(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var c=s.float==="left"?"left":"right";return i&&(a.clear==="both"||a.clear===c)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||l>=r&&n[Nr]==="none"||i&&n[Nr]==="none"&&l+d>r)?"vertical":"horizontal"},cl=function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return r===s||o===a||r+i/2===s+l/2},dl=function(e,t){var n;return nn.some(function(r){var o=r[me].options.emptyInsertThreshold;if(!(!o||tr(r))){var i=te(r),s=e>=i.left-o&&e<=i.right+o,a=t>=i.top-o&&t<=i.bottom+o;if(s&&a)return n=r}}),n},Eo=function(e){function t(o,i){return function(s,a,l,d){var c=s.options.group.name&&a.options.group.name&&s.options.group.name===a.options.group.name;if(o==null&&(i||c))return!0;if(o==null||o===!1)return!1;if(i&&o==="clone")return o;if(typeof o=="function")return t(o(s,a,l,d),i)(s,a,l,d);var u=(i?s:a).options.group.name;return o===!0||typeof o=="string"&&o===u||o.join&&o.indexOf(u)>-1}}var n={},r=e.group;(!r||jt(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Co=function(){!xo&&N&&D(N,"display","none")},ko=function(){!xo&&N&&D(N,"display","")};un&&!go&&document.addEventListener("click",function(e){if(tn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),tn=!1,!1},!0);var Ue=function(e){if(m){e=e.touches?e.touches[0]:e;var t=dl(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[me]._onDragOver(n)}}},ul=function(e){m&&m.parentNode[me]._isOutsideThisEl(e.target)};function B(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Le({},t),e[me]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return So(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,s){i.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:B.supportPointer!==!1&&"PointerEvent"in window&&!yt,emptyInsertThreshold:5};kt.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);Eo(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:ll,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?q(e,"pointerdown",this._onTapStart):(q(e,"mousedown",this._onTapStart),q(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(q(e,"dragover",this),q(e,"dragenter",this)),nn.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Le(this,rl())}B.prototype={constructor:B,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(tt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,m):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,d=r.filter;if(yl(n),!m&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||r.disabled)&&!l.isContentEditable&&!(!this.nativeDraggable&&yt&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=ke(a,r.draggable,n,!1),!(a&&a.animated)&&qt!==a)){if(it=be(a),wt=be(a,r.draggable),typeof d=="function"){if(d.call(this,e,a,this)){fe({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),pe("filter",t,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=ke(l,c.trim(),n,!1),c)return fe({sortable:t,rootEl:c,name:"filter",targetEl:a,fromEl:n,toEl:n}),pe("filter",t,{evt:e}),!0}),d)){o&&e.cancelable&&e.preventDefault();return}r.handle&&!ke(l,r.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var r=this,o=r.el,i=r.options,s=o.ownerDocument,a;if(n&&!m&&n.parentNode===o){var l=te(n);if(Y=o,m=n,G=m.parentNode,Xe=m.nextSibling,qt=n,Dt=i.group,B.dragged=m,Ve={target:m,clientX:(t||e).clientX,clientY:(t||e).clientY},Dr=Ve.clientX-l.left,Br=Ve.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,m.style["will-change"]="all",a=function(){if(pe("delayEnded",r,{evt:e}),B.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Rr&&r.nativeDraggable&&(m.draggable=!0),r._triggerDragStart(e,t),fe({sortable:r,name:"choose",originalEvent:e}),ge(m,i.chosenClass,!0)},i.ignore.split(",").forEach(function(d){mo(m,d.trim(),On)}),q(s,"dragover",Ue),q(s,"mousemove",Ue),q(s,"touchmove",Ue),q(s,"mouseup",r._onDrop),q(s,"touchend",r._onDrop),q(s,"touchcancel",r._onDrop),Rr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,m.draggable=!0),pe("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Ct||$e))){if(B.eventCanceled){this._onDrop();return}q(s,"mouseup",r._disableDelayedDrag),q(s,"touchend",r._disableDelayedDrag),q(s,"touchcancel",r._disableDelayedDrag),q(s,"mousemove",r._delayedDragTouchMoveHandler),q(s,"touchmove",r._delayedDragTouchMoveHandler),i.supportPointer&&q(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(a,i.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){m&&On(m),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;j(e,"mouseup",this._disableDelayedDrag),j(e,"touchend",this._disableDelayedDrag),j(e,"touchcancel",this._disableDelayedDrag),j(e,"mousemove",this._delayedDragTouchMoveHandler),j(e,"touchmove",this._delayedDragTouchMoveHandler),j(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?q(document,"pointermove",this._onTouchMove):t?q(document,"touchmove",this._onTouchMove):q(document,"mousemove",this._onTouchMove):(q(m,"dragend",this),q(Y,"dragstart",this._onDragStart));try{document.selection?Ut(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(nt=!1,Y&&m){pe("dragStarted",this,{evt:t}),this.nativeDraggable&&q(document,"dragover",ul);var n=this.options;!e&&ge(m,n.dragClass,!1),ge(m,n.ghostClass,!0),B.active=this,e&&this._appendGhost(),fe({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(xe){this._lastX=xe.clientX,this._lastY=xe.clientY,Co();for(var e=document.elementFromPoint(xe.clientX,xe.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(xe.clientX,xe.clientY),e!==t);)t=e;if(m.parentNode[me]._isOutsideThisEl(e),t)do{if(t[me]){var n=void 0;if(n=t[me]._onDragOver({clientX:xe.clientX,clientY:xe.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);ko()}},_onTouchMove:function(e){if(Ve){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=N&&ct(N,!0),s=N&&i&&i.a,a=N&&i&&i.d,l=Nt&&de&&Pr(de),d=(o.clientX-Ve.clientX+r.x)/(s||1)+(l?l[0]-Rn[0]:0)/(s||1),c=(o.clientY-Ve.clientY+r.y)/(a||1)+(l?l[1]-Rn[1]:0)/(a||1);if(!B.active&&!nt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(N){i?(i.e+=d-(kn||0),i.f+=c-(Tn||0)):i={a:1,b:0,c:0,d:1,e:d,f:c};var u="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");D(N,"webkitTransform",u),D(N,"mozTransform",u),D(N,"msTransform",u),D(N,"transform",u),kn=d,Tn=c,xe=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!N){var e=this.options.fallbackOnBody?document.body:Y,t=te(m,!0,Nt,!0,e),n=this.options;if(Nt){for(de=e;D(de,"position")==="static"&&D(de,"transform")==="none"&&de!==document;)de=de.parentNode;de!==document.body&&de!==document.documentElement?(de===document&&(de=Re()),t.top+=de.scrollTop,t.left+=de.scrollLeft):de=Re(),Rn=Pr(de)}N=m.cloneNode(!0),ge(N,n.ghostClass,!1),ge(N,n.fallbackClass,!0),ge(N,n.dragClass,!0),D(N,"transition",""),D(N,"transform",""),D(N,"box-sizing","border-box"),D(N,"margin",0),D(N,"top",t.top),D(N,"left",t.left),D(N,"width",t.width),D(N,"height",t.height),D(N,"opacity","0.8"),D(N,"position",Nt?"absolute":"fixed"),D(N,"zIndex","100000"),D(N,"pointerEvents","none"),B.ghost=N,e.appendChild(N),D(N,"transform-origin",Dr/parseInt(N.style.width)*100+"% "+Br/parseInt(N.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;if(pe("dragStart",this,{evt:e}),B.eventCanceled){this._onDrop();return}pe("setupClone",this),B.eventCanceled||(J=_o(m),J.removeAttribute("id"),J.draggable=!1,J.style["will-change"]="",this._hideClone(),ge(J,this.options.chosenClass,!1),B.clone=J),n.cloneId=Ut(function(){pe("clone",n),!B.eventCanceled&&(n.options.removeCloneOnHide||Y.insertBefore(J,m),n._hideClone(),fe({sortable:n,name:"clone"}))}),!t&&ge(m,o.dragClass,!0),t?(tn=!0,n._loopId=setInterval(n._emulateDragOver,50)):(j(document,"mouseup",n._onDrop),j(document,"touchend",n._onDrop),j(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,m)),q(document,"drop",n),D(m,"transform","translateZ(0)")),nt=!0,n._dragStartId=Ut(n._dragStarted.bind(n,t,e)),q(document,"selectstart",n),pt=!0,yt&&D(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,r,o,i,s=this.options,a=s.group,l=B.active,d=Dt===a,c=s.sort,u=ce||l,b,h=this,E=!1;if(Mn)return;function f(qe,fn){pe(qe,h,Ae({evt:e,isOwner:d,axis:b?"vertical":"horizontal",revert:i,dragRect:r,targetRect:o,canSort:c,fromSortable:u,target:n,completed:R,onMove:function(ht,Tt){return Lt(Y,t,m,r,ht,te(ht),e,Tt)},changed:p},fn))}function C(){f("dragOverAnimationCapture"),h.captureAnimationState(),h!==u&&u.captureAnimationState()}function R(qe){return f("dragOverCompleted",{insertion:qe}),qe&&(d?l._hideClone():l._showClone(h),h!==u&&(ge(m,ce?ce.options.ghostClass:l.options.ghostClass,!1),ge(m,s.ghostClass,!0)),ce!==h&&h!==B.active?ce=h:h===B.active&&ce&&(ce=null),u===h&&(h._ignoreWhileAnimating=n),h.animateAll(function(){f("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(n===m&&!m.animated||n===t&&!n.animated)&&(tt=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(m.parentNode[me]._isOutsideThisEl(e.target),!qe&&Ue(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),E=!0}function p(){ve=be(m),ze=be(m,s.draggable),fe({sortable:h,name:"change",toEl:t,newIndex:ve,newDraggableIndex:ze,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ke(n,s.draggable,t,!0),f("dragOver"),B.eventCanceled)return E;if(m.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||h._ignoreWhileAnimating===n)return R(!1);if(tn=!1,l&&!s.disabled&&(d?c||(i=G!==Y):ce===this||(this.lastPutMode=Dt.checkPull(this,l,m,e))&&a.checkPut(this,l,m,e))){if(b=this._getDirection(e,n)==="vertical",r=te(m),f("dragOverValid"),B.eventCanceled)return E;if(i)return G=Y,C(),this._hideClone(),f("revert"),B.eventCanceled||(Xe?Y.insertBefore(m,Xe):Y.appendChild(m)),R(!0);var w=tr(t,s.draggable);if(!w||gl(e,b,this)&&!w.animated){if(w===m)return R(!1);if(w&&t===e.target&&(n=w),n&&(o=te(n)),Lt(Y,t,m,r,n,o,e,!!n)!==!1)return C(),w&&w.nextSibling?t.insertBefore(m,w.nextSibling):t.appendChild(m),G=t,p(),R(!0)}else if(w&&pl(e,b,this)){var A=dt(t,0,s,!0);if(A===m)return R(!1);if(n=A,o=te(n),Lt(Y,t,m,r,n,o,e,!1)!==!1)return C(),t.insertBefore(m,A),G=t,p(),R(!0)}else if(n.parentNode===t){o=te(n);var x=0,T,k=m.parentNode!==t,z=!cl(m.animated&&m.toRect||r,n.animated&&n.toRect||o,b),W=b?"top":"left",X=Ar(n,"top","top")||Ar(m,"top","top"),ie=X?X.scrollTop:void 0;tt!==n&&(T=o[W],St=!1,Bt=!z&&s.invertSwap||k),x=vl(e,n,o,b,z?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Bt,tt===n);var Q;if(x!==0){var se=be(m);do se-=x,Q=G.children[se];while(Q&&(D(Q,"display")==="none"||Q===N))}if(x===0||Q===n)return R(!1);tt=n,xt=x;var he=n.nextElementSibling,le=!1;le=x===1;var De=Lt(Y,t,m,r,n,o,e,le);if(De!==!1)return(De===1||De===-1)&&(le=De===1),Mn=!0,setTimeout(fl,30),C(),le&&!he?t.appendChild(m):n.parentNode.insertBefore(m,le?he:n),X&&yo(X,0,ie-X.scrollTop),G=m.parentNode,T!==void 0&&!Bt&&(Vt=Math.abs(T-te(n)[W])),p(),R(!0)}if(t.contains(m))return R(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){j(document,"mousemove",this._onTouchMove),j(document,"touchmove",this._onTouchMove),j(document,"pointermove",this._onTouchMove),j(document,"dragover",Ue),j(document,"mousemove",Ue),j(document,"touchmove",Ue)},_offUpEvents:function(){var e=this.el.ownerDocument;j(e,"mouseup",this._onDrop),j(e,"touchend",this._onDrop),j(e,"pointerup",this._onDrop),j(e,"touchcancel",this._onDrop),j(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(ve=be(m),ze=be(m,n.draggable),pe("drop",this,{evt:e}),G=m&&m.parentNode,ve=be(m),ze=be(m,n.draggable),B.eventCanceled){this._nulling();return}nt=!1,Bt=!1,St=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Wn(this.cloneId),Wn(this._dragStartId),this.nativeDraggable&&(j(document,"drop",this),j(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),yt&&D(document.body,"user-select",""),D(m,"transform",""),e&&(pt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),N&&N.parentNode&&N.parentNode.removeChild(N),(Y===G||ce&&ce.lastPutMode!=="clone")&&J&&J.parentNode&&J.parentNode.removeChild(J),m&&(this.nativeDraggable&&j(m,"dragend",this),On(m),m.style["will-change"]="",pt&&!nt&&ge(m,ce?ce.options.ghostClass:this.options.ghostClass,!1),ge(m,this.options.chosenClass,!1),fe({sortable:this,name:"unchoose",toEl:G,newIndex:null,newDraggableIndex:null,originalEvent:e}),Y!==G?(ve>=0&&(fe({rootEl:G,name:"add",toEl:G,fromEl:Y,originalEvent:e}),fe({sortable:this,name:"remove",toEl:G,originalEvent:e}),fe({rootEl:G,name:"sort",toEl:G,fromEl:Y,originalEvent:e}),fe({sortable:this,name:"sort",toEl:G,originalEvent:e})),ce&&ce.save()):ve!==it&&ve>=0&&(fe({sortable:this,name:"update",toEl:G,originalEvent:e}),fe({sortable:this,name:"sort",toEl:G,originalEvent:e})),B.active&&((ve==null||ve===-1)&&(ve=it,ze=wt),fe({sortable:this,name:"end",toEl:G,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){pe("nulling",this),Y=m=G=N=Xe=J=qt=Me=Ve=xe=pt=ve=ze=it=wt=tt=xt=ce=Dt=B.dragged=B.ghost=B.clone=B.active=null,rn.forEach(function(e){e.checked=!0}),rn.length=kn=Tn=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":m&&(this._onDragOver(e),hl(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)t=n[r],ke(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||bl(t));return e},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(o,i){var s=r.children[i];ke(s,this.options.draggable,r,!1)&&(n[o]=s)},this),t&&this.captureAnimationState(),e.forEach(function(o){n[o]&&(r.removeChild(n[o]),r.appendChild(n[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ke(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var r=kt.modifyOption(this,e,t);typeof r<"u"?n[e]=r:n[e]=t,e==="group"&&Eo(n)},destroy:function(){pe("destroy",this);var e=this.el;e[me]=null,j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart),j(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),nn.splice(nn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Me){if(pe("hideClone",this),B.eventCanceled)return;D(J,"display","none"),this.options.removeCloneOnHide&&J.parentNode&&J.parentNode.removeChild(J),Me=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Me){if(pe("showClone",this),B.eventCanceled)return;m.parentNode==Y&&!this.options.group.revertClone?Y.insertBefore(J,m):Xe?Y.insertBefore(J,Xe):Y.appendChild(J),this.options.group.revertClone&&this.animate(m,J),D(J,"display",""),Me=!1}}};function hl(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Lt(e,t,n,r,o,i,s,a){var l,d=e[me],c=d.options.onMove,u;return window.CustomEvent&&!$e&&!Ct?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=o||t,l.relatedRect=i||te(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),c&&(u=c.call(d,l,s)),u}function On(e){e.draggable=!1}function fl(){Mn=!1}function pl(e,t,n){var r=te(dt(n.el,0,n.options,!0)),o=wo(n.el,n.options,N),i=10;return t?e.clientX<o.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<o.top-i||e.clientY<r.bottom&&e.clientX<r.left}function gl(e,t,n){var r=te(tr(n.el,n.options.draggable)),o=wo(n.el,n.options,N),i=10;return t?e.clientX>o.right+i||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>o.bottom+i||e.clientX>r.right&&e.clientY>r.top}function vl(e,t,n,r,o,i,s,a){var l=r?e.clientY:e.clientX,d=r?n.height:n.width,c=r?n.top:n.left,u=r?n.bottom:n.right,b=!1;if(!s){if(a&&Vt<d*o){if(!St&&(xt===1?l>c+d*i/2:l<u-d*i/2)&&(St=!0),St)b=!0;else if(xt===1?l<c+Vt:l>u-Vt)return-xt}else if(l>c+d*(1-o)/2&&l<u-d*(1-o)/2)return ml(t)}return b=b||s,b&&(l<c+d*i/2||l>u-d*i/2)?l>c+d/2?1:-1:0}function ml(e){return be(m)<be(e)?1:-1}function bl(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function yl(e){rn.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&rn.push(r)}}function Ut(e){return setTimeout(e,0)}function Wn(e){return clearTimeout(e)}un&&q(document,"touchmove",function(e){(B.active||nt)&&e.cancelable&&e.preventDefault()});B.utils={on:q,off:j,css:D,find:mo,is:function(e,t){return!!ke(e,t,e,!1)},extend:tl,throttle:bo,closest:ke,toggleClass:ge,clone:_o,index:be,nextTick:Ut,cancelNextTick:Wn,detectDirection:So,getChild:dt};B.get=function(e){return e[me]};B.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(B.utils=Ae(Ae({},B.utils),r.utils)),kt.mount(r)})};B.create=function(e,t){return new B(e,t)};B.version=Qa;var ee=[],gt,Hn,Fn=!1,An,Pn,on,vt;function _l(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?q(document,"dragover",this._handleAutoScroll):this.options.supportPointer?q(document,"pointermove",this._handleFallbackAutoScroll):n.touches?q(document,"touchmove",this._handleFallbackAutoScroll):q(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):(j(document,"pointermove",this._handleFallbackAutoScroll),j(document,"touchmove",this._handleFallbackAutoScroll),j(document,"mousemove",this._handleFallbackAutoScroll)),Lr(),Xt(),nl()},nulling:function(){on=Hn=gt=Fn=vt=An=Pn=null,ee.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var r=this,o=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(o,i);if(on=t,n||this.options.forceAutoScrollFallback||Ct||$e||yt){Dn(t,this.options,s,n);var a=We(s,!0);Fn&&(!vt||o!==An||i!==Pn)&&(vt&&Lr(),vt=setInterval(function(){var l=We(document.elementFromPoint(o,i),!0);l!==a&&(a=l,Xt()),Dn(t,r.options,l,n)},10),An=o,Pn=i)}else{if(!this.options.bubbleScroll||We(s,!0)===Re()){Xt();return}Dn(t,this.options,We(s,!1),!1)}}},Le(e,{pluginName:"scroll",initializeByDefault:!0})}function Xt(){ee.forEach(function(e){clearInterval(e.pid)}),ee=[]}function Lr(){clearInterval(vt)}var Dn=bo(function(e,t,n,r){if(t.scroll){var o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=Re(),d=!1,c;Hn!==n&&(Hn=n,Xt(),gt=t.scroll,c=t.scrollFn,gt===!0&&(gt=We(n,!0)));var u=0,b=gt;do{var h=b,E=te(h),f=E.top,C=E.bottom,R=E.left,p=E.right,w=E.width,A=E.height,x=void 0,T=void 0,k=h.scrollWidth,z=h.scrollHeight,W=D(h),X=h.scrollLeft,ie=h.scrollTop;h===l?(x=w<k&&(W.overflowX==="auto"||W.overflowX==="scroll"||W.overflowX==="visible"),T=A<z&&(W.overflowY==="auto"||W.overflowY==="scroll"||W.overflowY==="visible")):(x=w<k&&(W.overflowX==="auto"||W.overflowX==="scroll"),T=A<z&&(W.overflowY==="auto"||W.overflowY==="scroll"));var Q=x&&(Math.abs(p-o)<=s&&X+w<k)-(Math.abs(R-o)<=s&&!!X),se=T&&(Math.abs(C-i)<=s&&ie+A<z)-(Math.abs(f-i)<=s&&!!ie);if(!ee[u])for(var he=0;he<=u;he++)ee[he]||(ee[he]={});(ee[u].vx!=Q||ee[u].vy!=se||ee[u].el!==h)&&(ee[u].el=h,ee[u].vx=Q,ee[u].vy=se,clearInterval(ee[u].pid),(Q!=0||se!=0)&&(d=!0,ee[u].pid=setInterval((function(){r&&this.layer===0&&B.active._onTouchMove(on);var le=ee[this.layer].vy?ee[this.layer].vy*a:0,De=ee[this.layer].vx?ee[this.layer].vx*a:0;typeof c=="function"&&c.call(B.dragged.parentNode[me],De,le,e,on,ee[this.layer].el)!=="continue"||yo(ee[this.layer].el,De,le)}).bind({layer:u}),24))),u++}while(t.bubbleScroll&&b!==l&&(b=We(b,!1)));Fn=d}},30),To=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||o;s();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);a(),l&&!l.el.contains(c)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function nr(){}nr.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=dt(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:To};Le(nr,{pluginName:"revertOnSpill"});function rr(){}rr.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:To};Le(rr,{pluginName:"removeOnSpill"});B.mount(new _l);B.mount(rr,nr);function wl(e){return e==null?e:JSON.parse(JSON.stringify(e))}function xl(e){Qn()&&rs(e)}function Sl(e){Qn()?ln(e):st(e)}let Ro=null,Oo=null;function $r(e=null,t=null){Ro=e,Oo=t}function El(){return{data:Ro,clonedData:Oo}}const Ir=Symbol("cloneElement");function Cl(...e){var t,n;const r=(t=Qn())==null?void 0:t.proxy,o=e[0];let[,i,s]=e;Array.isArray(_(i))||(s=i,i=null);let a=null;const{immediate:l=!0,clone:d=wl,customUpdate:c}=(n=_(s))!=null?n:{};function u(k){var z;const W=_((z=_(i))==null?void 0:z[k.oldIndex]),X=d(W);$r(W,X),k.item[Ir]=X}function b(k){const z=k.item[Ir];if(!Ha(z)){if(Sn(k.item),Ke(i)){const W=[..._(i)];i.value=Er(W,k.newDraggableIndex,z);return}Er(_(i),k.newDraggableIndex,z)}}function h(k){const{from:z,item:W,oldIndex:X,oldDraggableIndex:ie,pullMode:Q,clone:se}=k;if(Cr(z,W,X),Q==="clone"){Sn(se);return}if(Ke(i)){const he=[..._(i)];i.value=Sr(he,ie);return}Sr(_(i),ie)}function E(k){if(c){c(k);return}const{from:z,item:W,oldIndex:X,newIndex:ie}=k;if(Sn(W),Cr(z,W,X),Ke(i)){const Q=[..._(i)];i.value=xr(Q,X,ie);return}xr(_(i),X,ie)}function f(){st(()=>{$r()})}const C={onUpdate:E,onStart:u,onAdd:b,onRemove:h,onEnd:f};function R(k){const z=_(o);return k||(k=Fa(z)?ja(z,r==null?void 0:r.$el):z),k&&!Ua(k)&&(k=k.$el),k||za("Root element not found"),k}function p(){var k;const z=(k=_(s))!=null?k:{},W=ho(z,["immediate","clone"]);return kr(W,(X,ie)=>{Xa(X)&&(W[X]=(Q,...se)=>{const he=El();Ya(Q,he),ie(Q,...se)})}),Va(i===null?{}:C,W)}const w=k=>{k=R(k),a&&A.destroy(),a=new B(k,p())};He(()=>s,()=>{a&&kr(p(),(k,z)=>{a==null||a.option(k,z)})},{deep:!0});const A={option:(k,z)=>a==null?void 0:a.option(k,z),destroy:()=>{a==null||a.destroy(),a=null},save:()=>a==null?void 0:a.save(),toArray:()=>a==null?void 0:a.toArray(),closest:(...k)=>a==null?void 0:a.closest(...k)},x=()=>A==null?void 0:A.option("disabled",!0),T=()=>A==null?void 0:A.option("disabled",!1);return Sl(()=>{l&&w()}),xl(A.destroy),ot({start:w,pause:x,resume:T},A)}const jn=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],kl=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...jn.map(e=>`on${e.replace(/^\S/,t=>t.toUpperCase())}`)],zr=oe({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:kl,emits:["update:modelValue",...jn],setup(e,{slots:t,emit:n,expose:r,attrs:o}){const i=jn.reduce((c,u)=>{const b=`on${u.replace(/^\S/,h=>h.toUpperCase())}`;return c[b]=(...h)=>n(u,...h),c},{}),s=ae(()=>{const c=ts(e),u=ho(c,["modelValue"]),b=Object.entries(u).reduce((h,[E,f])=>{const C=_(f);return C!==void 0&&(h[E]=C),h},{});return ot(ot({},i),Wa(ot(ot({},o),b)))}),a=ae({get:()=>e.modelValue,set:c=>n("update:modelValue",c)}),l=F(),d=ns(Cl(e.target||l,a,s));return r(d),()=>{var c;return S(e.tag||"div",{ref:l},(c=t==null?void 0:t.default)==null?void 0:c.call(t,d))}}});function Tl({oldIndex:e,newIndex:t,priorityListCharacter:n}){return e===void 0?n?"activate":"new":e<t?"down":"up"}function Mr({characterId:e,oldIndex:t,newIndex:n,priorityListOrderedList:r,priorityList:o,characterList:i}){const s=i.find(h=>h.id===e);if(!s)throw new Error("Updated item not found");const a=o.find(h=>h.characterId===e),l=Tl({oldIndex:t,newIndex:n,priorityListCharacter:a}),d=a==null?void 0:a.position,c=o.find(h=>h.characterId===r[n-1]);let u=(c==null?void 0:c.position)??n+1;c&&(l==="new"||l==="up")&&(u+=1),l==="activate"&&(c!=null&&c.position)&&(a!=null&&a.position)&&c.position<a.position&&(u+=1);let b=o.some(h=>h.position===u&&h.characterId!==s.id&&!h.active);for(;b;)u+=1,b=o.some(h=>h.position===u&&h.characterId!==s.id&&!h.active);return{fromPosition:d,toPosition:u}}const Rl={class:"flex-grow flex flex-col"},Ol={key:0,class:"flex flex-col"},Al=K("h2",{class:"text-2xl font-bold"}," Inaktiv ",-1),Pl={class:"flex align-center"},Dl={class:"flex flex-col"},Bl=K("h2",{class:"text-2xl font-bold"}," Suicide King ",-1),Nl={class:"flex align-center justify-end"},Ll=K("span",{class:"text-md font-bold"},"Bedarf zurücksetzen",-1),$l=oe({__name:"priority-list",setup(e){const t=Ge(),n=to(),r=cn(),o=Je(er),i=F([]),s=F([]),a=F(new Map),l=F(!0),d=F(!0);He(()=>t.inactiveCharacters,()=>{l.value=!0,i.value=t.inactiveCharacters.map(f=>f.id)},{immediate:!0,deep:!0}),He(()=>t.priorityList,async()=>{l.value=!0,s.value=t.priorityList.filter(f=>f.active).map(f=>f.characterId)},{immediate:!0,deep:!0});async function c(f){if(!o)return r.error("Socket not connected");const{data:C,newIndex:R}=f;if(R===void 0)return;const{fromPosition:p,toPosition:w}=Mr({characterId:C,newIndex:R,priorityListOrderedList:s.value,priorityList:t.priorityList,characterList:t.characters});o.emit("add-to-priority-list",JSON.stringify({characterId:C,listType:bt.PriorityList,fromPosition:p,toPosition:w}))}async function u(f){if(!o)return r.error("Socket not connected");const{data:C,oldIndex:R,newIndex:p,from:w,to:A}=f;if(p===void 0||R===void 0||R===p||w!==A)return;const{fromPosition:x,toPosition:T}=Mr({characterId:C,oldIndex:R,newIndex:p,priorityListOrderedList:[...s.value],priorityList:t.priorityList,characterList:t.characters});o.emit("move-character",JSON.stringify({characterId:C,listType:bt.PriorityList,fromPosition:x,toPosition:T}))}function b(f){if(!o)return r.error("Socket not connected");const{data:C}=f;o.emit("set-character-inactive",JSON.stringify({characterId:C}))}function h(f,C){C?a.value.set(f,C):a.value.delete(f)}function E(){a.value.clear()}return(f,C)=>{const R=dn,p=La,w=js,A=Sa;return ne(),_e(Be,null,[K("div",Rl,[K("div",{class:no(["flex-grow w-full h-full p-4 grid gap-x-8 gap-y-4 overflow-hidden transition",[_(d)?"grid-cols-[360px_1fr]":"grid-cols-[1fr]"]])},[L(os,null,{default:I(()=>[_(d)?(ne(),_e("div",Ol,[Al,K("div",Pl,[L(R,null,{default:I(()=>[lt(" Inaktive aktivieren ")]),_:1})]),L(_(zr),{modelValue:_(i),"onUpdate:modelValue":C[0]||(C[0]=x=>Ke(i)?i.value=x:null),animation:300,class:"flex-grow flex flex-col gap-2 p-2 min-h-240px bg-true-gray-800 overflow-hidden transition",group:"priority-list",disabled:!_(n).isRaidLead,onStart:C[1]||(C[1]=()=>l.value=!1)},{default:I(()=>[L(Qt,{name:_(l)?"fade":"",type:"transition"},{default:I(()=>[(ne(!0),_e(Be,null,In(_(i),x=>(ne(),Fe(p,{key:x,"character-id":x},null,8,["character-id"]))),128))]),_:1},8,["name"])]),_:1},8,["modelValue","disabled"])])):Ye("",!0)]),_:1}),K("div",Dl,[Bl,K("div",Nl,[L(R,{onClick:C[2]||(C[2]=x=>d.value=!_(d))},{default:I(()=>[lt(" toggle ")]),_:1}),L(R,{secondary:"",disabled:_(a).size===0,onClick:E},{default:I(()=>[Ll]),_:1},8,["disabled"])]),L(_(zr),{modelValue:_(s),"onUpdate:modelValue":C[3]||(C[3]=x=>Ke(s)?s.value=x:null),animation:300,class:"flex-grow flex flex-col gap-2 p-2 min-h-240px bg-true-gray-800 overflow-hidden",group:"priority-list",disabled:!_(n).isRaidLead,onStart:C[4]||(C[4]=()=>l.value=!1),onAdd:c,onRemove:b,onEnd:C[5]||(C[5]=async x=>await u(x))},{default:I(()=>[L(Qt,{name:_(l)?"fade":"",type:"transition"},{default:I(()=>[(ne(!0),_e(Be,null,In(_(s),x=>(ne(),Fe(p,{key:x,"character-id":x,"list-type":_(bt).PriorityList,need:_(a).get(x),onSetNeed:T=>h(x,T)},null,8,["character-id","list-type","need","onSetNeed"]))),128))]),_:1},8,["name"])]),_:1},8,["modelValue","disabled"])])],2)]),L(w,{class:"m-0!"}),L(A)],64)}}});var Et=(e=>(e.Tank="Tank",e.Healer="Healer",e.Damage="Damage",e))(Et||{});const Il=Object.values(Et),zl=oe({__name:"role-select",props:{modelValue:{type:String},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=ro(e,"modelValue"),n=F([{label:"Schaden",value:Et.Damage},{label:"Heilung",value:Et.Healer},{label:"Tank",value:Et.Tank}]),r=F(null);function o(){var i;(i=r.value)==null||i.blur()}return(i,s)=>{const a=so;return ne(),Fe(a,{ref_key:"selectRef",ref:r,value:t.value,"onUpdate:value":[s[0]||(s[0]=l=>t.value=l),o],options:_(n),multiple:"",filterable:"",placeholder:"Bitte wähle mindestens eine Rolle...",clearable:"","show-on-focus":"","clear-filter-after-select":""},null,8,["value","options"])}}}),Ml=oe({__name:"class-select",props:{modelValue:{type:String},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=ro(e,"modelValue"),n=F([{label:"Krieger",value:$.Warrior,icon:ue($.Warrior)},{label:"Paladin",value:$.Paladin,icon:ue($.Paladin)},{label:"Jäger",value:$.Hunter,icon:ue($.Hunter)},{label:"Schurke",value:$.Rogue,icon:ue($.Rogue)},{label:"Priester",value:$.Priest,icon:ue($.Priest)},{label:"Schamane",value:$.Shaman,icon:ue($.Shaman)},{label:"Magier",value:$.Mage,icon:ue($.Mage)},{label:"Hexenmeister",value:$.Warlock,icon:ue($.Warlock)},{label:"Mönch",value:$.Monk,icon:ue($.Monk)},{label:"Druide",value:$.Druid,icon:ue($.Druid)},{label:"Dämonenjäger",value:$.DemonHunter,icon:ue($.DemonHunter)},{label:"Todesritter",value:$.DeathKnight,icon:ue($.DeathKnight)},{label:"Rufer",value:$.Evoker,icon:ue($.Evoker)}]);function r(o){return S("div",{style:{display:"flex",alignItems:"center"}},[S("img",{src:o.icon,alt:o.label,class:"mr-2 w-6 h-6"}),S("span",{},{default:()=>o.label})])}return(o,i)=>{const s=so;return ne(),Fe(s,{value:t.value,"onUpdate:value":i[0]||(i[0]=a=>t.value=a),options:_(n),"render-label":r,filterable:"",placeholder:"Bitte wähle eine Klasse...",clearable:"","show-on-focus":""},null,8,["value","options"])}}}),Wl={class:"flex justify-between"},Hl=oe({__name:"character-creation-modal",setup(e){const t=Ge(),n=F(!1),r=cn(),o=F(null),i=F(null),s=F({name:null,class:null,roles:null}),a={name:[{required:!0,validator(d,c){return c?c.length<2?new Error("Der Name muss mindestens 2 Zeichen lang sein"):c.length>12?new Error("Der Name darf maximal 12 Zeichen lang sein"):!0:new Error("Bitte gib einen Namen ein")}}],class:[{required:!0,type:"string",validator(d,c){return c?ga.includes(c)?!0:new Error("Ungültige Klasse"):new Error("Bitte wähle eine Klasse aus")}}],roles:[{required:!0,type:"string",validator(d,c){return c?c.every(u=>!Il.includes(u))?new Error("Ungültige Rolle"):!0:new Error("Bitte wähle eine Rolle aus")}}]};async function l(){var d;return await((d=o.value)==null?void 0:d.validate(async c=>{var u;c?r.error("Bitte fülle alle Felder korrekt aus"):(await t.createCharacter(s.value),s.value={name:null,class:null,roles:null},r.success("Charakter erstellt"),(u=i.value)==null||u.focus())}))}return(d,c)=>{const u=dn,b=ms,h=gs,E=Ml,f=zl,C=vs,R=oo,p=is;return ne(),_e(Be,null,[L(u,{onClick:c[0]||(c[0]=w=>n.value=!0)},{default:I(()=>[lt(" Charakter erstellen ")]),_:1}),L(p,{show:_(n),"onUpdate:show":c[6]||(c[6]=w=>Ke(n)?n.value=w:null),"mask-closable":!1},{default:I(()=>[L(R,{title:"Charakter erstellen",class:"max-w-160",closable:"",segmented:{content:!0,footer:"soft"},onClose:c[5]||(c[5]=w=>n.value=!1)},{action:I(()=>[K("div",Wl,[L(u,{secondary:"",onClick:c[4]||(c[4]=w=>n.value=!1)},{default:I(()=>[lt(" Abbrechen ")]),_:1}),L(u,{"attr-type":"submit",type:"primary",onClick:l},{default:I(()=>[lt(" Erstellen ")]),_:1})])]),default:I(()=>[L(C,{ref_key:"formRef",ref:o,model:_(s),rules:a,class:"space-y-4"},{default:I(()=>[L(h,{label:"Name",path:"name"},{default:I(()=>[L(b,{ref_key:"nameInputRef",ref:i,value:_(s).name,"onUpdate:value":c[1]||(c[1]=w=>_(s).name=w),placeholder:"Name"},null,8,["value"])]),_:1}),L(h,{label:"Klasse",path:"class"},{default:I(()=>[L(E,{value:_(s).class,"onUpdate:value":c[2]||(c[2]=w=>_(s).class=w)},null,8,["value"])]),_:1}),L(h,{label:"Rolle",path:"role"},{default:I(()=>[L(f,{value:_(s).roles,"onUpdate:value":c[3]||(c[3]=w=>_(s).roles=w)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])],64)}}}),Fl=oe({__name:"squad",setup(e){const t=io(),n=Ge(),r=ae(()=>[{title:"Name",key:"name"},{title:"Klasse",key:"class",render(o){return S("div",[S("img",{src:ue(o.class),alt:o.class,style:{width:"1.5rem",height:"1.5rem"}})])}},{title:"Rollen",key:"roles",render(o){return S("div",{class:"space-x-2"},o.roles.map(i=>S(hs,{},{default:()=>i})))}},{key:"actions",align:"right",render(o){return S(dn,{tertiary:!0,circle:!0,onClick:()=>{t.warning({title:"Nutzer löschen",content:"Möchtest du diesen Character wirklich löschen?",positiveText:"Ja",negativeText:"Nein",onPositiveClick:async()=>{await n.deleteCharacter(o.id)}})}},{icon:()=>S("span",{class:"ico-mdi-delete"})})}}]);return(o,i)=>{const s=Hl,a=fs;return ne(),_e(Be,null,[L(s),L(a,{columns:_(r),data:_(n).characters},null,8,["columns","data"])],64)}}}),Bn=new WeakMap;function jl(e,t,n={}){const{mode:r="replace",route:o=ss(),router:i=as(),transform:s=u=>u}=n;Bn.has(i)||Bn.set(i,new Map);const a=Bn.get(i);let l=o.query[e];ls(()=>{l=void 0});let d;const c=cs((u,b)=>(d=b,{get(){return u(),s(l!==void 0?l:gr(t))},set(h){l!==h&&(l=h===t||h===null?void 0:h,a.set(e,h===t||h===null?void 0:h),b(),st(()=>{if(a.size===0)return;const E=Object.fromEntries(a.entries());a.clear();const{params:f,query:C,hash:R}=o;i[gr(r)]({params:f,query:{...C,...E},hash:R})}))}}));return He(()=>o.query[e],u=>{l=u,d()},{flush:"sync"}),c}const Pe=Object.create(null);Pe.open="0";Pe.close="1";Pe.ping="2";Pe.pong="3";Pe.message="4";Pe.upgrade="5";Pe.noop="6";const Yt=Object.create(null);Object.keys(Pe).forEach(e=>{Yt[Pe[e]]=e});const qn={type:"error",data:"parser error"},Ao=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Po=typeof ArrayBuffer=="function",Do=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,or=({type:e,data:t},n,r)=>Ao&&t instanceof Blob?n?r(t):Wr(t,r):Po&&(t instanceof ArrayBuffer||Do(t))?n?r(t):Wr(new Blob([t]),r):r(Pe[e]+(t||"")),Wr=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Hr(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Nn;function ql(e,t){if(Ao&&e.data instanceof Blob)return e.data.arrayBuffer().then(Hr).then(t);if(Po&&(e.data instanceof ArrayBuffer||Do(e.data)))return t(Hr(e.data));or(e,!1,n=>{Nn||(Nn=new TextEncoder),t(Nn.encode(n))})}const Fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Fr.length;e++)mt[Fr.charCodeAt(e)]=e;const Vl=e=>{let t=e.length*.75,n=e.length,r,o=0,i,s,a,l;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),c=new Uint8Array(d);for(r=0;r<n;r+=4)i=mt[e.charCodeAt(r)],s=mt[e.charCodeAt(r+1)],a=mt[e.charCodeAt(r+2)],l=mt[e.charCodeAt(r+3)],c[o++]=i<<2|s>>4,c[o++]=(s&15)<<4|a>>2,c[o++]=(a&3)<<6|l&63;return d},Ul=typeof ArrayBuffer=="function",ir=(e,t)=>{if(typeof e!="string")return{type:"message",data:Bo(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Xl(e.substring(1),t)}:Yt[n]?e.length>1?{type:Yt[n],data:e.substring(1)}:{type:Yt[n]}:qn},Xl=(e,t)=>{if(Ul){const n=Vl(e);return Bo(n,t)}else return{base64:!0,data:e}},Bo=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},No="",Yl=(e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach((i,s)=>{or(i,!1,a=>{r[s]=a,++o===n&&t(r.join(No))})})},Kl=(e,t)=>{const n=e.split(No),r=[];for(let o=0;o<n.length;o++){const i=ir(n[o],t);if(r.push(i),i.type==="error")break}return r};function Jl(){return new TransformStream({transform(e,t){ql(e,n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const i=new DataView(o.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{o=new Uint8Array(9);const i=new DataView(o.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let Ln;function $t(e){return e.reduce((t,n)=>t+n.length,0)}function It(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Gl(e,t){Ln||(Ln=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(r===0){if($t(n)<1)break;const l=It(n,1);i=(l[0]&128)===128,o=l[0]&127,o<126?r=3:o===126?r=1:r=2}else if(r===1){if($t(n)<2)break;const l=It(n,2);o=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if($t(n)<8)break;const l=It(n,8),d=new DataView(l.buffer,l.byteOffset,l.length),c=d.getUint32(0);if(c>Math.pow(2,21)-1){a.enqueue(qn);break}o=c*Math.pow(2,32)+d.getUint32(4),r=3}else{if($t(n)<o)break;const l=It(n,o);a.enqueue(ir(i?l:Ln.decode(l),t)),r=0}if(o===0||o>e){a.enqueue(qn);break}}}})}const Lo=4;function re(e){if(e)return Ql(e)}function Ql(e){for(var t in re.prototype)e[t]=re.prototype[t];return e}re.prototype.on=re.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};re.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};re.prototype.off=re.prototype.removeListener=re.prototype.removeAllListeners=re.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};re.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this};re.prototype.emitReserved=re.prototype.emit;re.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};re.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ye=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function $o(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Zl=ye.setTimeout,ec=ye.clearTimeout;function hn(e,t){t.useNativeTimers?(e.setTimeoutFn=Zl.bind(ye),e.clearTimeoutFn=ec.bind(ye)):(e.setTimeoutFn=ye.setTimeout.bind(ye),e.clearTimeoutFn=ye.clearTimeout.bind(ye))}const tc=1.33;function nc(e){return typeof e=="string"?rc(e):Math.ceil((e.byteLength||e.size)*tc)}function rc(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function oc(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function ic(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class sc extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class sr extends re{constructor(t){super(),this.writable=!1,hn(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new sc(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=ir(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=oc(t);return n.length?"?"+n:""}}const Io="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vn=64,ac={};let jr=0,zt=0,qr;function Vr(e){let t="";do t=Io[e%Vn]+t,e=Math.floor(e/Vn);while(e>0);return t}function zo(){const e=Vr(+new Date);return e!==qr?(jr=0,qr=e):e+"."+Vr(jr++)}for(;zt<Vn;zt++)ac[Io[zt]]=zt;let Mo=!1;try{Mo=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const lc=Mo;function Wo(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||lc))return new XMLHttpRequest}catch{}if(!t)try{return new ye[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function cc(){}const dc=function(){return new Wo({xdomain:!1}).responseType!=null}();class uc extends sr{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let o=location.port;o||(o=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||o!==t.port}const n=t&&t.forceBase64;this.supportsBinary=dc&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Kl(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Yl(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=zo()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Oe(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(o,i)=>{this.onError("xhr post error",o,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Oe extends re{constructor(t,n){super(),hn(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=$o(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new Wo(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=Oe.requestsCount++,Oe.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=cc,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Oe.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Oe.requestsCount=0;Oe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ur);else if(typeof addEventListener=="function"){const e="onpagehide"in ye?"pagehide":"unload";addEventListener(e,Ur,!1)}}function Ur(){for(let e in Oe.requests)Oe.requests.hasOwnProperty(e)&&Oe.requests[e].abort()}const ar=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Mt=ye.WebSocket||ye.MozWebSocket,Xr=!0,hc="arraybuffer",Yr=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class fc extends sr{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=Yr?{}:$o(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Xr&&!Yr?n?new Mt(t,n):new Mt(t):new Mt(t,n,r)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;or(r,this.supportsBinary,i=>{const s={};try{Xr&&this.ws.send(i)}catch{}o&&ar(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=zo()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Mt}}class pc extends sr{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=Gl(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),o=Jl();o.readable.pipeTo(t.writable),this.writer=o.writable.getWriter();const i=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;this.writer.write(r).then(()=>{o&&ar(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const gc={websocket:fc,webtransport:pc,polling:uc},vc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Un(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=vc.exec(e||""),i={},s=14;for(;s--;)i[mc[s]]=o[s]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=bc(i,i.path),i.queryKey=yc(i,i.query),i}function bc(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function yc(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,o,i){o&&(n[o]=i)}),n}let Ho=class rt extends re{constructor(t,n={}){super(),this.binaryType=hc,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Un(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Un(n.host).host),hn(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ic(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Lo,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new gc[t](r)}open(){let t;if(this.opts.rememberUpgrade&&rt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;rt.priorWebsocketSuccess=!1;const o=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",u=>{if(!r)if(u.type==="pong"&&u.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;rt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function i(){r||(r=!0,c(),n.close(),n=null)}const s=u=>{const b=new Error("probe error: "+u);b.transport=n.name,i(),this.emitReserved("upgradeError",b)};function a(){s("transport closed")}function l(){s("socket closed")}function d(u){n&&u.name!==n.name&&i()}const c=()=>{n.removeListener("open",o),n.removeListener("error",s),n.removeListener("close",a),this.off("close",l),this.off("upgrading",d)};n.once("open",o),n.once("error",s),n.once("close",a),this.once("close",l),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",rt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const o=this.writeBuffer[r].data;if(o&&(n+=nc(o)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,o){if(typeof n=="function"&&(o=n,n=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){rt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const o=t.length;for(;r<o;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};Ho.protocol=Lo;function _c(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Un(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const wc=typeof ArrayBuffer=="function",xc=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Fo=Object.prototype.toString,Sc=typeof Blob=="function"||typeof Blob<"u"&&Fo.call(Blob)==="[object BlobConstructor]",Ec=typeof File=="function"||typeof File<"u"&&Fo.call(File)==="[object FileConstructor]";function lr(e){return wc&&(e instanceof ArrayBuffer||xc(e))||Sc&&e instanceof Blob||Ec&&e instanceof File}function Kt(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Kt(e[n]))return!0;return!1}if(lr(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Kt(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Kt(e[n]))return!0;return!1}function Cc(e){const t=[],n=e.data,r=e;return r.data=Xn(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Xn(e,t){if(!e)return e;if(lr(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Xn(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Xn(e[r],t));return n}return e}function kc(e,t){return e.data=Yn(e.data,t),delete e.attachments,e}function Yn(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Yn(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Yn(e[n],t));return e}const Tc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Rc=5;var H;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(H||(H={}));class Oc{constructor(t){this.replacer=t}encode(t){return(t.type===H.EVENT||t.type===H.ACK)&&Kt(t)?this.encodeAsBinary({type:t.type===H.EVENT?H.BINARY_EVENT:H.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===H.BINARY_EVENT||t.type===H.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Cc(t),r=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(r),o}}function Kr(e){return Object.prototype.toString.call(e)==="[object Object]"}class cr extends re{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===H.BINARY_EVENT;r||n.type===H.BINARY_ACK?(n.type=r?H.EVENT:H.ACK,this.reconstructor=new Ac(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(lr(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(H[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===H.BINARY_EVENT||r.type===H.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(i,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const i=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(cr.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case H.CONNECT:return Kr(n);case H.DISCONNECT:return n===void 0;case H.CONNECT_ERROR:return typeof n=="string"||Kr(n);case H.EVENT:case H.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Tc.indexOf(n[0])===-1);case H.ACK:case H.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ac{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=kc(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Pc=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cr,Encoder:Oc,get PacketType(){return H},protocol:Rc},Symbol.toStringTag,{value:"Module"}));function Te(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Dc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class jo extends re{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Te(t,"open",this.onopen.bind(this)),Te(t,"packet",this.onpacket.bind(this)),Te(t,"error",this.onerror.bind(this)),Te(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Dc.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:H.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const s=this.ids++,a=n.pop();this._registerAckCallback(s,a),r.id=s}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const o=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},o),s=(...a)=>{this.io.clearTimeoutFn(i),n.apply(this,a)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...n){return new Promise((r,o)=>{const i=(s,a)=>s?o(s):r(a);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...i)=>r!==this._queue[0]?void 0:(o!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:H.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case H.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case H.EVENT:case H.BINARY_EVENT:this.onevent(t);break;case H.ACK:case H.BINARY_ACK:this.onack(t);break;case H.DISCONNECT:this.ondisconnect();break;case H.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...o){r||(r=!0,n.packet({type:H.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:H.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function ut(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ut.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};ut.prototype.reset=function(){this.attempts=0};ut.prototype.setMin=function(e){this.ms=e};ut.prototype.setMax=function(e){this.max=e};ut.prototype.setJitter=function(e){this.jitter=e};class Kn extends re{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,hn(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ut({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||Pc;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Ho(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=Te(n,"open",function(){r.onopen(),t&&t()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},s=Te(n,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{o(),i(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(o),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Te(t,"ping",this.onping.bind(this)),Te(t,"data",this.ondata.bind(this)),Te(t,"error",this.onerror.bind(this)),Te(t,"close",this.onclose.bind(this)),Te(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ar(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new jo(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ft={};function Jt(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=_c(e,t.path||"/socket.io"),r=n.source,o=n.id,i=n.path,s=ft[o]&&i in ft[o].nsps,a=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let l;return a?l=new Kn(r,t):(ft[o]||(ft[o]=new Kn(r,t)),l=ft[o]),n.query&&!t.query&&(t.query=n.queryKey),l.socket(n.path,t)}Object.assign(Jt,{Manager:Kn,Socket:jo,io:Jt,connect:Jt});const Mc=oe({__name:"raid",setup(e){const t=ds("raid-tab",jl("page","squad")),n=Ge();ln(()=>{n.fetchCharacters()});const r=cn(),o=Jt("wss://v220240778215279047.powersrv.de/priority-list",{path:"/cps-backend/socket.io",withCredentials:!0,reconnectionDelay:5e3,reconnection:!0,auth:{token:123}});return o.on("connect",()=>{r.success("Connected to server!")}),o.on("exception",i=>{r.error(JSON.stringify(i))}),o.on("update-raid-list",i=>{n.characters=i}),o.on("update-priority-list-list",i=>{n.priorityList=i}),o.on("update-priority-list-history",i=>{n.priorityListHistory=i}),o.on("add-priority-list-history-entry",i=>{n.priorityListHistory.unshift(...i)}),Gn(er,o),o.send("Hello, server!"),(i,s)=>{const a=Fl,l=Gs,d=$l,c=ta,u=oo,b=ki;return ne(),Fe(b,null,{default:I(()=>[L(u,{class:"max-w-360 h-full","content-class":"p-0!"},{default:I(()=>[L(c,{value:_(t),"onUpdate:value":s[0]||(s[0]=h=>Ke(t)?t.value=h:null),"default-value":_(t),"tabs-padding":20,"justify-content":"space-evenly",type:"segment",size:"large",animated:"","pane-class":"p-0! flex h-full flex-col",class:"h-full","pane-wrapper-class":"h-full"},{default:I(()=>[L(l,{name:"squad",tab:"Kader"},{default:I(()=>[L(a)]),_:1}),L(l,{name:"priority-list",tab:"Prio Liste"},{default:I(()=>[L(d)]),_:1}),L(l,{name:"contribution",tab:"Raidbeitrag"},{default:I(()=>[lt(" Raidbeitrag ")]),_:1})]),_:1},8,["value","default-value"])]),_:1})]),_:1})}}});export{Mc as default};
