var oe=Object.defineProperty;var ae=(a,o,s)=>o in a?oe(a,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[o]=s;var R=(a,o,s)=>ae(a,typeof o!="symbol"?o+"":o,s);import{c as j,g as ce,a as ue}from"./_commonjsHelpers-C4iS2aBk.js";import{b as le,e as he,f as O,g as de,w as fe,d as me,o as pe,a as ve,h as ge,r as xe,_ as we,i as W,j as be,k as K}from"./index-Dy_zQsdw.js";var V={exports:{}};V.exports;(function(a){(function(o,s,h){function f(e){var i=this,n=c();i.next=function(){var t=2091639*i.s0+i.c*23283064365386963e-26;return i.s0=i.s1,i.s1=i.s2,i.s2=t-(i.c=t|0)},i.c=1,i.s0=n(" "),i.s1=n(" "),i.s2=n(" "),i.s0-=n(e),i.s0<0&&(i.s0+=1),i.s1-=n(e),i.s1<0&&(i.s1+=1),i.s2-=n(e),i.s2<0&&(i.s2+=1),n=null}function p(e,i){return i.c=e.c,i.s0=e.s0,i.s1=e.s1,i.s2=e.s2,i}function v(e,i){var n=new f(e),t=i&&i.state,r=n.next;return r.int32=function(){return n.next()*4294967296|0},r.double=function(){return r()+(r()*2097152|0)*11102230246251565e-32},r.quick=r,t&&(typeof t=="object"&&p(t,n),r.state=function(){return p(n,{})}),r}function c(){var e=4022871197,i=function(n){n=String(n);for(var t=0;t<n.length;t++){e+=n.charCodeAt(t);var r=.02519603282416938*e;e=r>>>0,r-=e,r*=e,e=r>>>0,r-=e,e+=r*4294967296}return(e>>>0)*23283064365386963e-26};return i}s&&s.exports?s.exports=v:this.alea=v})(j,a)})(V);var ye=V.exports,L={exports:{}};L.exports;(function(a){(function(o,s,h){function f(c){var e=this,i="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},c===(c|0)?e.x=c:i+=c;for(var n=0;n<i.length+64;n++)e.x^=i.charCodeAt(n)|0,e.next()}function p(c,e){return e.x=c.x,e.y=c.y,e.z=c.z,e.w=c.w,e}function v(c,e){var i=new f(c),n=e&&e.state,t=function(){return(i.next()>>>0)/4294967296};return t.double=function(){do var r=i.next()>>>11,u=(i.next()>>>0)/4294967296,m=(r+u)/(1<<21);while(m===0);return m},t.int32=i.next,t.quick=t,n&&(typeof n=="object"&&p(n,i),t.state=function(){return p(i,{})}),t}s&&s.exports?s.exports=v:this.xor128=v})(j,a)})(L);var Se=L.exports,G={exports:{}};G.exports;(function(a){(function(o,s,h){function f(c){var e=this,i="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^(t^t<<1))|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,c===(c|0)?e.x=c:i+=c;for(var n=0;n<i.length+64;n++)e.x^=i.charCodeAt(n)|0,n==i.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function p(c,e){return e.x=c.x,e.y=c.y,e.z=c.z,e.w=c.w,e.v=c.v,e.d=c.d,e}function v(c,e){var i=new f(c),n=e&&e.state,t=function(){return(i.next()>>>0)/4294967296};return t.double=function(){do var r=i.next()>>>11,u=(i.next()>>>0)/4294967296,m=(r+u)/(1<<21);while(m===0);return m},t.int32=i.next,t.quick=t,n&&(typeof n=="object"&&p(n,i),t.state=function(){return p(i,{})}),t}s&&s.exports?s.exports=v:this.xorwow=v})(j,a)})(G);var Ce=G.exports,H={exports:{}};H.exports;(function(a){(function(o,s,h){function f(c){var e=this;e.next=function(){var n=e.x,t=e.i,r,u;return r=n[t],r^=r>>>7,u=r^r<<24,r=n[t+1&7],u^=r^r>>>10,r=n[t+3&7],u^=r^r>>>3,r=n[t+4&7],u^=r^r<<7,r=n[t+7&7],r=r^r<<13,u^=r^r<<9,n[t]=u,e.i=t+1&7,u};function i(n,t){var r,u=[];if(t===(t|0))u[0]=t;else for(t=""+t,r=0;r<t.length;++r)u[r&7]=u[r&7]<<15^t.charCodeAt(r)+u[r+1&7]<<13;for(;u.length<8;)u.push(0);for(r=0;r<8&&u[r]===0;++r);for(r==8?u[7]=-1:u[r],n.x=u,n.i=0,r=256;r>0;--r)n.next()}i(e,c)}function p(c,e){return e.x=c.x.slice(),e.i=c.i,e}function v(c,e){c==null&&(c=+new Date);var i=new f(c),n=e&&e.state,t=function(){return(i.next()>>>0)/4294967296};return t.double=function(){do var r=i.next()>>>11,u=(i.next()>>>0)/4294967296,m=(r+u)/(1<<21);while(m===0);return m},t.int32=i.next,t.quick=t,n&&(n.x&&p(n,i),t.state=function(){return p(i,{})}),t}s&&s.exports?s.exports=v:this.xorshift7=v})(j,a)})(H);var _e=H.exports,q={exports:{}};q.exports;(function(a){(function(o,s,h){function f(c){var e=this;e.next=function(){var n=e.w,t=e.X,r=e.i,u,m;return e.w=n=n+1640531527|0,m=t[r+34&127],u=t[r=r+1&127],m^=m<<13,u^=u<<17,m^=m>>>15,u^=u>>>12,m=t[r]=m^u,e.i=r,m+(n^n>>>16)|0};function i(n,t){var r,u,m,y,E,_=[],T=128;for(t===(t|0)?(u=t,t=null):(t=t+"\0",u=0,T=Math.max(T,t.length)),m=0,y=-32;y<T;++y)t&&(u^=t.charCodeAt((y+32)%t.length)),y===0&&(E=u),u^=u<<10,u^=u>>>15,u^=u<<4,u^=u>>>13,y>=0&&(E=E+1640531527|0,r=_[y&127]^=u+E,m=r==0?m+1:0);for(m>=128&&(_[(t&&t.length||0)&127]=-1),m=127,y=4*128;y>0;--y)u=_[m+34&127],r=_[m=m+1&127],u^=u<<13,r^=r<<17,u^=u>>>15,r^=r>>>12,_[m]=u^r;n.w=E,n.X=_,n.i=m}i(e,c)}function p(c,e){return e.i=c.i,e.w=c.w,e.X=c.X.slice(),e}function v(c,e){c==null&&(c=+new Date);var i=new f(c),n=e&&e.state,t=function(){return(i.next()>>>0)/4294967296};return t.double=function(){do var r=i.next()>>>11,u=(i.next()>>>0)/4294967296,m=(r+u)/(1<<21);while(m===0);return m},t.int32=i.next,t.quick=t,n&&(n.X&&p(n,i),t.state=function(){return p(i,{})}),t}s&&s.exports?s.exports=v:this.xor4096=v})(j,a)})(q);var Ee=q.exports,X={exports:{}};X.exports;(function(a){(function(o,s,h){function f(c){var e=this,i="";e.next=function(){var t=e.b,r=e.c,u=e.d,m=e.a;return t=t<<25^t>>>7^r,r=r-u|0,u=u<<24^u>>>8^m,m=m-t|0,e.b=t=t<<20^t>>>12^r,e.c=r=r-u|0,e.d=u<<16^r>>>16^m,e.a=m-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,c===Math.floor(c)?(e.a=c/4294967296|0,e.b=c|0):i+=c;for(var n=0;n<i.length+20;n++)e.b^=i.charCodeAt(n)|0,e.next()}function p(c,e){return e.a=c.a,e.b=c.b,e.c=c.c,e.d=c.d,e}function v(c,e){var i=new f(c),n=e&&e.state,t=function(){return(i.next()>>>0)/4294967296};return t.double=function(){do var r=i.next()>>>11,u=(i.next()>>>0)/4294967296,m=(r+u)/(1<<21);while(m===0);return m},t.int32=i.next,t.quick=t,n&&(typeof n=="object"&&p(n,i),t.state=function(){return p(i,{})}),t}s&&s.exports?s.exports=v:this.tychei=v})(j,a)})(X);var Ae=X.exports,se={exports:{}};const Ie={},Te=Object.freeze(Object.defineProperty({__proto__:null,default:Ie},Symbol.toStringTag,{value:"Module"})),Ne=ce(Te);(function(a){(function(o,s,h){var f=256,p=6,v=52,c="random",e=h.pow(f,p),i=h.pow(2,v),n=i*2,t=f-1,r;function u(x,w,l){var d=[];w=w==!0?{entropy:!0}:w||{};var g=_(E(w.entropy?[x,k(s)]:x??T(),3),d),S=new m(d),b=function(){for(var C=S.g(p),N=e,I=0;C<i;)C=(C+I)*f,N*=f,I=S.g(1);for(;C>=n;)C/=2,N/=2,I>>>=1;return(C+I)/N};return b.int32=function(){return S.g(4)|0},b.quick=function(){return S.g(4)/4294967296},b.double=b,_(k(S.S),s),(w.pass||l||function(C,N,I,z){return z&&(z.S&&y(z,S),C.state=function(){return y(S,{})}),I?(h[c]=C,N):C})(b,g,"global"in w?w.global:this==h,w.state)}function m(x){var w,l=x.length,d=this,g=0,S=d.i=d.j=0,b=d.S=[];for(l||(x=[l++]);g<f;)b[g]=g++;for(g=0;g<f;g++)b[g]=b[S=t&S+x[g%l]+(w=b[g])],b[S]=w;(d.g=function(C){for(var N,I=0,z=d.i,B=d.j,F=d.S;C--;)N=F[z=t&z+1],I=I*f+F[t&(F[z]=F[B=t&B+N])+(F[B]=N)];return d.i=z,d.j=B,I})(f)}function y(x,w){return w.i=x.i,w.j=x.j,w.S=x.S.slice(),w}function E(x,w){var l=[],d=typeof x,g;if(w&&d=="object")for(g in x)try{l.push(E(x[g],w-1))}catch{}return l.length?l:d=="string"?x:x+"\0"}function _(x,w){for(var l=x+"",d,g=0;g<l.length;)w[t&g]=t&(d^=w[t&g]*19)+l.charCodeAt(g++);return k(w)}function T(){try{var x;return r&&(x=r.randomBytes)?x=x(f):(x=new Uint8Array(f),(o.crypto||o.msCrypto).getRandomValues(x)),k(x)}catch{var w=o.navigator,l=w&&w.plugins;return[+new Date,o,l,o.screen,k(s)]}}function k(x){return String.fromCharCode.apply(0,x)}if(_(h.random(),s),a.exports){a.exports=u;try{r=Ne}catch{}}else h["seed"+c]=u})(typeof self<"u"?self:j,[],Math)})(se);var ze=se.exports,Pe=ye,ke=Se,je=Ce,De=_e,Fe=Ee,Me=Ae,D=ze;D.alea=Pe;D.xor128=ke;D.xorwow=je;D.xorshift7=De;D.xor4096=Fe;D.tychei=Me;var Be=D;const Re=ue(Be);function $(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function Oe(a,o){for(var s=0;s<o.length;s++){var h=o[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}function U(a,o,s){return o&&Oe(a.prototype,o),a}function J(a){return+a.replace(/px/,"")}function Ve(a){var o=window.devicePixelRatio,s=getComputedStyle(a),h=J(s.getPropertyValue("width")),f=J(s.getPropertyValue("height"));a.setAttribute("width",(h*o).toString()),a.setAttribute("height",(f*o).toString())}function A(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,h=Math.random()*(o-a)+a;return Math.floor(h*Math.pow(10,s))/Math.pow(10,s)}function Y(a){return a[A(0,a.length)]}var Le=.00125,Ge=5e-4,He=9e-4,qe=1e-5,Xe=6,$e=80,Ue=.9,We=1.7,Ke=.2,Je=.6,Ye=.03,Qe=.07,Q=15,Z=82,Ze=150,et=100,tt=250,it=40,nt=["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"];function ee(a){var o=1920;return Math.log(a)/Math.log(o)}var te=function(){function a(o){$(this,a);var s=o.initialPosition,h=o.direction,f=o.confettiRadius,p=o.confettiColors,v=o.emojis,c=o.emojiSize,e=o.canvasWidth,i=A(Ue,We,3),n=i*ee(e);this.confettiSpeed={x:n,y:n},this.finalConfettiSpeedX=A(Ke,Je,3),this.rotationSpeed=v.length?.01:A(Ye,Qe,3)*ee(e),this.dragForceCoefficient=A(Ge,He,6),this.radius={x:f,y:f},this.initialRadius=f,this.rotationAngle=h==="left"?A(0,.2,3):A(-.2,0,3),this.emojiSize=c,this.emojiRotationAngle=A(0,2*Math.PI),this.radiusYUpdateDirection="down";var t=h==="left"?A(Z,Q)*Math.PI/180:A(-Q,-Z)*Math.PI/180;this.absCos=Math.abs(Math.cos(t)),this.absSin=Math.abs(Math.sin(t));var r=A(-Ze,0),u={x:s.x+(h==="left"?-r:r)*this.absCos,y:s.y-r*this.absSin};this.currentPosition=Object.assign({},u),this.initialPosition=Object.assign({},u),this.color=v.length?null:Y(p),this.emoji=v.length?Y(v):null,this.createdAt=new Date().getTime(),this.direction=h}return U(a,[{key:"draw",value:function(s){var h=this.currentPosition,f=this.radius,p=this.color,v=this.emoji,c=this.rotationAngle,e=this.emojiRotationAngle,i=this.emojiSize,n=window.devicePixelRatio;p?(s.fillStyle=p,s.beginPath(),s.ellipse(h.x*n,h.y*n,f.x*n,f.y*n,c,0,2*Math.PI),s.fill()):v&&(s.font="".concat(i,"px serif"),s.save(),s.translate(n*h.x,n*h.y),s.rotate(e),s.textAlign="center",s.fillText(v,0,0),s.restore())}},{key:"updatePosition",value:function(s,h){var f=this.confettiSpeed,p=this.dragForceCoefficient,v=this.finalConfettiSpeedX,c=this.radiusYUpdateDirection,e=this.rotationSpeed,i=this.createdAt,n=this.direction,t=h-i;if(f.x>v&&(this.confettiSpeed.x-=p*s),this.currentPosition.x+=f.x*(n==="left"?-this.absCos:this.absCos)*s,this.currentPosition.y=this.initialPosition.y-f.y*this.absSin*t+Le*Math.pow(t,2)/2,this.rotationSpeed-=this.emoji?1e-4:qe*s,this.rotationSpeed<0&&(this.rotationSpeed=0),this.emoji){this.emojiRotationAngle+=this.rotationSpeed*s%(2*Math.PI);return}c==="down"?(this.radius.y-=s*e,this.radius.y<=0&&(this.radius.y=0,this.radiusYUpdateDirection="up")):(this.radius.y+=s*e,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYUpdateDirection="down"))}},{key:"getIsVisibleOnCanvas",value:function(s){return this.currentPosition.y<s+et}}]),a}();function rt(){var a=document.createElement("canvas");return a.style.position="fixed",a.style.width="100%",a.style.height="100%",a.style.top="0",a.style.left="0",a.style.zIndex="1000",a.style.pointerEvents="none",document.body.appendChild(a),a}function st(a){var o=a.confettiRadius,s=o===void 0?Xe:o,h=a.confettiNumber,f=h===void 0?a.confettiesNumber||(a.emojis?it:tt):h,p=a.confettiColors,v=p===void 0?nt:p,c=a.emojis,e=c===void 0?a.emojies||[]:c,i=a.emojiSize,n=i===void 0?$e:i;return a.emojies&&console.error("emojies argument is deprecated, please use emojis instead"),a.confettiesNumber&&console.error("confettiesNumber argument is deprecated, please use confettiNumber instead"),{confettiRadius:s,confettiNumber:f,confettiColors:v,emojis:e,emojiSize:n}}var ot=function(){function a(o){var s=this;$(this,a),this.canvasContext=o,this.shapes=[],this.promise=new Promise(function(h){return s.resolvePromise=h})}return U(a,[{key:"getBatchCompletePromise",value:function(){return this.promise}},{key:"addShapes",value:function(){var s;(s=this.shapes).push.apply(s,arguments)}},{key:"complete",value:function(){var s;return this.shapes.length?!1:((s=this.resolvePromise)===null||s===void 0||s.call(this),!0)}},{key:"processShapes",value:function(s,h,f){var p=this,v=s.timeDelta,c=s.currentTime;this.shapes=this.shapes.filter(function(e){return e.updatePosition(v,c),e.draw(p.canvasContext),f?e.getIsVisibleOnCanvas(h):!0})}}]),a}(),at=function(){function a(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};$(this,a),this.activeConfettiBatches=[],this.canvas=o.canvas||rt(),this.canvasContext=this.canvas.getContext("2d"),this.requestAnimationFrameRequested=!1,this.lastUpdated=new Date().getTime(),this.iterationIndex=0,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}return U(a,[{key:"loop",value:function(){this.requestAnimationFrameRequested=!1,Ve(this.canvas);var s=new Date().getTime(),h=s-this.lastUpdated,f=this.canvas.offsetHeight,p=this.iterationIndex%10===0;this.activeConfettiBatches=this.activeConfettiBatches.filter(function(v){return v.processShapes({timeDelta:h,currentTime:s},f,p),p?!v.complete():!0}),this.iterationIndex++,this.queueAnimationFrameIfNeeded(s)}},{key:"queueAnimationFrameIfNeeded",value:function(s){this.requestAnimationFrameRequested||this.activeConfettiBatches.length<1||(this.requestAnimationFrameRequested=!0,this.lastUpdated=s||new Date().getTime(),requestAnimationFrame(this.loop))}},{key:"addConfetti",value:function(){for(var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=st(s),f=h.confettiRadius,p=h.confettiNumber,v=h.confettiColors,c=h.emojis,e=h.emojiSize,i=this.canvas.getBoundingClientRect(),n=i.width,t=i.height,r=t*5/7,u={x:0,y:r},m={x:n,y:r},y=new ot(this.canvasContext),E=0;E<p/2;E++){var _=new te({initialPosition:u,direction:"right",confettiRadius:f,confettiColors:v,confettiNumber:p,emojis:c,emojiSize:e,canvasWidth:n}),T=new te({initialPosition:m,direction:"left",confettiRadius:f,confettiColors:v,confettiNumber:p,emojis:c,emojiSize:e,canvasWidth:n});y.addShapes(_,T)}return this.activeConfettiBatches.push(y),this.queueAnimationFrameIfNeeded(),y.getBatchCompletePromise()}},{key:"clearCanvas",value:function(){this.activeConfettiBatches=[]}},{key:"destroyCanvas",value:function(){this.canvas.remove()}}]),a}();const P=[{version:"1.0",data:[{title:"Töte 20 Gnolle",description:"Töte 20 Gnolle.",count:20},{title:"Level 10",description:"Erreiche Level 10."},{title:"10 Gold",description:"Besitze 10 Gold.",hints:["Besitze zu einem Zeitpunkt 10 Gold."]},{title:"Todesminen",description:"Schließe die Instanz Todesminen ab.",hints:["Jeder Boss muss besiegt werden."]},{title:"Verwende 2x Ruhestein",description:"Verwende 2x den Ruhestein",hints:["Es gilt lediglich der normale Ruhestein."],count:2},{title:"Kaufe 100 Bananen von Tel-Abim",description:"Kaufe 100 Bananen von Tel'Abim.",hints:["Die Bananen dürfen nicht wieder verkauft werden."]},{title:"Level 15",description:"Erreiche Level 15."},{title:"Level 5",description:"Erreiche Level 5."},{title:'Erhalte Buff "Satt"',description:'Erhalte den Buff "Satt".'},{title:"Sterbe durch Fallschaden",description:"Sterbe durch Fallschaden.",hints:["Der Fallschaden muss den Todesstoß versetzen.","Es darf nicht von einem Flugmount gesprungen werden."]},{title:"Sterbe durch Hogger",description:"Sterbe durch Hogger.",hints:["Hogger muss den Todesstoß versetzen."]},{title:"Besiege Hogger",description:"Besiege Hogger."},{title:"Sammle 20 Kräuter",description:"Sammle 20 Kräuter.",count:20},{title:"Sammle 15 Erze",description:"Sammle 15 Erze.",count:15},{title:"Fange 10 Fische",description:"Fange 10 Fische.",count:10},{title:"Gewinne 3 Haustierkämpfe",description:"Gewinne 3 Haustierkämpfe.",count:3},{title:"Besuche Beutebucht",description:"Besuche Beutebucht."},{title:"Schließe 3 Daily-Quests ab",description:"Schließe 3 Daily-Quests ab.",count:3},{title:"Verwende /witz bei Velen",description:"Erzähle Velen einen Witz.",hints:["Velen muss das Ziel des Witzes sein."]},{title:"Töte 40 Murlocs",description:"Töte 40 Murlocs.",count:40},{title:"Schalte 5 Flugpunkte frei",description:"Schalte 5 Flugpunkte frei.",hints:["Es muss ein Flugmeister angesprochen werden."],count:5},{title:"Fange 3 Haustiere",description:"Fange 3 Haustiere.",count:3},{title:"Verwende /umarmen bei 5 Pandaren",description:"Umarme 5 Pandaren unterschiedliche Pandaren.",hints:["Es müssen unterschiedliche Pandaren sein.","Es sind Spieler und NPCs erlaubt."],count:5},{title:"Stelle 5 Heiltränke her",description:"Stelle 5 Heiltränke her.",hints:["Es muss ein durch Alchemie hergestellter Heiltrank sein.","Der Trank darf auch Nebeneffekte haben.","Es muss beim Trinken sofort Leben wiederhergestellt werden."],count:5},{title:"Mache ein Lagerfeuer in Khaz Modan",description:"Mache ein Lagerfeuer in Khaz Modan.",hints:["Es muss das Lagerfeuer von Kochkunst sein."]},{title:"Trinke und übergebe dich",description:"Trinke und übergebe dich.",hints:["Es muss ein Getränk sein, das den Charakter betrunken macht.","Der Charakter muss sich übergeben."]},{title:"Besuche 2 Portale zum Smaragdgrünen Traum",description:"Besuche 2 Portale zum Smaragdgrünen Traum.",count:2},{title:"Verwende /kalt in der Frosthauchschlucht",description:"Verwende das Emote /kalt in der Frosthauchschlucht in Winterquell (Kalimdor).",hints:["Der Character muss im Gebiet Frosthauchschlucht in Winterquell (Kalimdor) sein."]},{title:"Besitze 40 Leinenstoff",description:"Besitze 40 Leinenstoff.",count:40},{title:"Besitze 20 Wollstoff",description:"Besitze 20 Wollstoff.",count:20},{title:"Angle in einem Fischschwarm",description:"Angle in einem Fischschwarm."},{title:"Verwende öffentliches Transportmittel",description:"Verwende ein öffentliches Transportmittel.",hints:["Erlaubt sind Zeppeline, Schiffe und die Tiefenbahn."]},{title:"Bade in Mondbrunnen",description:"Bade in einem Mondbrunnen."},{title:"20 Quests",description:"Schließe 20 Quests ab.",count:20},{title:'Verwende Verzauberung "Schwache Gesundheit"',description:'Verwende die Verzauberung "Schwache Gesundheit".',hints:["Die Verzauberung wird auf Armschienen verwendet."]},{title:"Erkunde Brachland",description:"Erkunde das Nördliche und Südliche Brachland.",hints:["Es müssen alle Gebiete des Brachlands erkundet werden, die zu den dazugehörigen Erfolgen gehören."]},{title:"Trage 10 Ausrüstungsteile",description:"Trage mindestens 10 Ausrüstungsteile.",count:10,hints:["Jeder Ausrüstungsplatz zählt."]},{title:"Erhalte seltenen Ausrüstungsgegenstand",description:"Erhalte einen seltenen Ausrüstungsgegenstand.",hint:["Der Gegenstand muss nicht angelegt werden können.","Es muss ein Ausrüstungsgegenstand sein."]},{title:"Besitze 5 Taschen",description:"Besitze 5 Taschen.",count:5,hints:["Alle Taschenarten zählen.","Die Taschen müssen angelegt sein und das Inventar erweitern."]},{title:"Erklimme Nimmerlaya",description:"Erklimme den Gipfel von Nimmerlaya im Kun-Lai Gebirge.",hints:["Der Gipfel muss erreicht werden."]},{title:"Erklimme Hochberg",description:"Erklimme den Gipfel vom Hochberg im Gebiet Hochberg.",hints:["Der Gipfel muss erreicht werden."]},{title:"Verwende /beten in Herdweiler",description:"Verwende /beten in Herdweiler in den westlichen Pestländern.",hints:["Das Emote muss in einem beliebigen Ort in Herdweiler verwendet werden."]},{title:"Verwende /trauern in Theramore",description:"Verwende /trauern in Theramore in den Düstermarschen.",hints:["Das Emote muss in einem beliebigen Ort in Theramore verwendet werden."]}]}];var M=(a=>(a.None="none",a.Done="done",a.Failed="failed",a))(M||{});class ie{constructor(o,s){R(this,"state","none");R(this,"priority","none");R(this,"currentCount");this.id=o,this.data=s,s.count!==void 0&&(this.currentCount=0)}setState(o){this.state=o}setPriority(o){this.priority=o}toggleState(){switch(this.state){case"done":this.state="failed";break;case"failed":this.state="none";break;case"none":this.state="done";break}}togglePriority(){switch(this.priority){case"none":this.priority="medium";break;case"medium":this.priority="high";break;case"high":this.priority="none";break}}isChecked(){return this.state==="done"}isFailed(){return this.state==="failed"}isUnchecked(){return this.state==="none"}isLowPriority(){return this.priority==="none"}isMediumPriority(){return this.priority==="medium"}isHighPriority(){return this.priority==="high"}reset(){this.state="none",this.priority="none",this.currentCount!==void 0&&(this.currentCount=0)}incrementCounter(){this.data.count===void 0||this.currentCount===void 0||(this.currentCount=Math.min(this.data.count,this.currentCount+1),this.currentCount===this.data.count&&(this.state="done"))}decrementCounter(){this.data.count===void 0||this.currentCount===void 0||(this.currentCount=Math.max(0,this.currentCount-1))}handleKeyPress(o){switch(o.key){case"d":this.state==="done"?this.setState("none"):this.setState("done");break;case"f":this.state==="failed"?this.setState("none"):this.setState("failed");break;case"u":this.setState("none");break;case"r":this.reset();break;case"p":this.togglePriority();break;case"s":this.toggleState();break;case"1":this.setPriority("none");break;case"2":this.priority==="medium"?this.setPriority("none"):this.setPriority("medium");break;case"3":this.priority==="high"?this.setPriority("none"):this.setPriority("high");break;case"ArrowUp":this.incrementCounter();break;case"ArrowDown":this.decrementCounter();break}}}function ne(){return Array.from({length:8},()=>Math.floor(Math.random()*36).toString(36)).join("")}function re(){return P[P.length-1].version}function ct(){const a=le(),o=he();(()=>{o.seed||(o.seed=ne()),o.version?P.some(d=>d.version===o.version)||(a.warning("Invalid version, using latest version instead"),o.version=re()):o.version=re(),o.size?(Number(o.size)<3||Number(o.size)>10)&&(a.warning("Invalid size, using default size instead"),o.size="5"):o.size="5"})();const h=Re(o.seed),f=O(()=>P.filter(({version:l})=>l===o.version||v(l)).map(({version:l})=>l)),p=O(()=>P.filter(l=>f.value.includes(l.version)).flatMap(l=>l.data));function v(l){const[d,g]=l.split(".").map(Number),[S,b]=o.version.split(".").map(Number);return d<S||d===S&&g<b}const c=()=>{const l=p.value,d=Number(o.size)**2,g=new Set;for(;g.size<d;){const b=Math.floor(h()*l.length);g.add(b)}return Array.from(g,b=>new ie(b,l[b]))},e=l=>P.flatMap(d=>d.data)[l],n=de(`v${o.version}-seed:${o.seed}-size:${o.size}`,c(),{serializer:{read:l=>JSON.parse(l).map(({data:d,id:g,...S})=>{const b=e(g),C=new ie(g,b);return Object.assign(C,S),C}),write:l=>JSON.stringify(l.map(({data:d,...g})=>({...g})))}}),t=()=>{n.value.forEach(l=>l.reset())},r=()=>{o.seed=ne(),n.value=c()},u=(l,d)=>{for(let g=0;g<d;g++)if(n.value[l*d+g].state!==M.Done)return!1;return!0},m=(l,d)=>{for(let g=0;g<d;g++)if(n.value[g*d+l].state!==M.Done)return!1;return!0},y=l=>{for(let d=0;d<l;d++)if(n.value[d*l+d].state!==M.Done)return!1;return!0},E=l=>{for(let d=0;d<l;d++)if(n.value[d*l+(l-d-1)].state!==M.Done)return!1;return!0},_=()=>{const l=Number(o.size);for(let d=0;d<l;d++)if(u(d,l)||m(d,l))return!0;return y(l)||E(l)},T=O(()=>n.value.map(l=>l.state)),k=new Audio("/cps/quest_complete.ogg"),x=()=>{new at().addConfetti({emojis:["🌈","⚡️","💥","✨","💫","🌸"],emojiSize:32,confettiNumber:200}),k.play()};fe(T,()=>{_()&&x()},{deep:!0});const w=O(()=>P[P.length-1].version);return{cells:n,seed:o.seed,size:o.size,resetCells:t,newSeed:r,mostRecentVersion:w}}const ut={class:"flex flex-col h-full"},lt={class:"overflow-hidden"},mt=me({__name:"bingo-popout",setup(a){const{cells:o,size:s}=ct();return(h,f)=>{const p=xe("bingo-board"),v=we;return pe(),ve(v,{class:"h-full","content-class":"overflow-hidden"},{default:ge(()=>[W("div",ut,[W("div",lt,[be(p,{cells:K(o),size:Number(K(s))},null,8,["cells","size"])])])]),_:1})}}});export{mt as default};
