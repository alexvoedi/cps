import{_ as Ei}from"./centered-layout-ZpYKKjkV.js";import{d as re,y as F,G as ki,H as Ci,s as x,I as fr,J as Ti,K as Gt,L as Ri,M as Oi,N as Jn,l as _,O as Jr,m as U,P as Gr,n as V,p as sn,Q as Ye,f as ae,R as je,S as Ai,T as xe,U as an,V as Pi,E as ln,W as Qr,X as Di,w as He,Y as Zr,Z as In,$ as Wt,a0 as Ht,a1 as O,a2 as Bi,a3 as Be,a4 as Ni,a5 as $i,a6 as Gn,a7 as Se,a8 as eo,a9 as Ii,aa as Li,ab as zi,ac as Mi,ad as Wi,ae as Hi,af as pr,ag as vn,ah as Fi,ai as st,aj as ji,ak as At,al as qi,am as Pt,an as Vi,ao as Ui,ap as Ki,aq as Qt,ar as Xi,as as Yi,t as Ji,at as Ft,k as S,o as se,a as Fe,h as L,j as $,i as K,au as at,F as rt,av as Gi,c as Te,aw as Ln,b as cn,ax as Qi,C as dn,ay as Zi,az as es,aA as Qn,aB as ts,z as Xe,aC as ns,B as lt,aD as rs,aE as to,aF as no,aG as os,aH as is,aI as ss,aJ as as,aK as ls,aL as gr,g as cs}from"./index-ffED5Ydl.js";import{t as ds,u as ro,_ as oo,N as us,a as hs}from"./composables-CQgF8C5W.js";import{_ as fs,a as ps,b as gs}from"./Switch-BRL_bOF2.js";import{_ as vs}from"./Input-BH9-Y2jj.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ms=fr(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[fr("&::-webkit-scrollbar",{width:0,height:0})]),bs=re({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const e=F(null);function t(o){!(o.currentTarget.offsetWidth<o.currentTarget.scrollWidth)||o.deltaY===0||(o.currentTarget.scrollLeft+=o.deltaY+o.deltaX,o.preventDefault())}const n=ki();return ms.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:Ci,ssr:n}),Object.assign({selfRef:e,handleWheel:t},{scrollTo(...o){var i;(i=e.value)===null||i===void 0||i.scrollTo(...o)}})},render(){return x("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}});var ys=/\s/;function _s(e){for(var t=e.length;t--&&ys.test(e.charAt(t)););return t}var ws=/^\s+/;function xs(e){return e&&e.slice(0,_s(e)+1).replace(ws,"")}var vr=NaN,Ss=/^[-+]0x[0-9a-f]+$/i,Es=/^0b[01]+$/i,ks=/^0o[0-7]+$/i,Cs=parseInt;function mr(e){if(typeof e=="number")return e;if(Ti(e))return vr;if(Gt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Gt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xs(e);var n=Es.test(e);return n||ks.test(e)?Cs(e.slice(2),n?2:8):Ss.test(e)?vr:+e}var mn=function(){return Ri.Date.now()},Ts="Expected a function",Rs=Math.max,Os=Math.min;function As(e,t,n){var r,o,i,s,l,a,d=0,c=!1,h=!1,b=!0;if(typeof e!="function")throw new TypeError(Ts);t=mr(t)||0,Gt(n)&&(c=!!n.leading,h="maxWait"in n,i=h?Rs(mr(n.maxWait)||0,t):i,b="trailing"in n?!!n.trailing:b);function u(R){var k=r,z=o;return r=o=void 0,d=R,s=e.apply(z,k),s}function y(R){return d=R,l=setTimeout(C,t),c?u(R):s}function f(R){var k=R-a,z=R-d,W=t-k;return h?Os(W,i-z):W}function T(R){var k=R-a,z=R-d;return a===void 0||k>=t||k<0||h&&z>=i}function C(){var R=mn();if(T(R))return v(R);l=setTimeout(C,f(R))}function v(R){return l=void 0,b&&r?u(R):(r=o=void 0,s)}function w(){l!==void 0&&clearTimeout(l),d=0,r=a=o=l=void 0}function E(){return l===void 0?s:v(mn())}function A(){var R=mn(),k=T(R);if(r=arguments,o=this,a=R,k){if(l===void 0)return y(a);if(h)return clearTimeout(l),l=setTimeout(C,t),u(a)}return l===void 0&&(l=setTimeout(C,t)),s}return A.cancel=w,A.flush=E,A}var Ps="Expected a function";function bn(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(Ps);return Gt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),As(e,t,{leading:r,maxWait:t,trailing:o})}const Ds=re({name:"Add",render(){return x("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},x("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),Bs=Oi&&"loading"in document.createElement("img");function Ns(e={}){var t;const{root:n=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof n=="string"?document.querySelector(n):n)||document.documentElement})}}const yn=new WeakMap,_n=new WeakMap,wn=new WeakMap,$s=(e,t,n)=>{if(!e)return()=>{};const r=Ns(t),{root:o}=r.options;let i;const s=yn.get(o);s?i=s:(i=new Map,yn.set(o,i));let l,a;i.has(r.hash)?(a=i.get(r.hash),a[1].has(e)||(l=a[0],a[1].add(e),l.observe(e))):(l=new IntersectionObserver(h=>{h.forEach(b=>{if(b.isIntersecting){const u=_n.get(b.target),y=wn.get(b.target);u&&u(),y&&(y.value=!0)}})},r.options),l.observe(e),a=[l,new Set([e])],i.set(r.hash,a));let d=!1;const c=()=>{d||(_n.delete(e),wn.delete(e),d=!0,a[1].has(e)&&(a[0].unobserve(e),a[1].delete(e)),a[1].size<=0&&i.delete(r.hash),i.size||yn.delete(o))};return _n.set(e,c),wn.set(e,n),c},Is=Jn("n-avatar-group"),Ls=_("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[Jr(U("&","--n-merged-color: var(--n-color-modal);")),Gr(U("&","--n-merged-color: var(--n-color-popover);")),U("img",`
 width: 100%;
 height: 100%;
 `),V("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),_("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),V("text","line-height: 1.25")]),zs=Object.assign(Object.assign({},je.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),Ms=re({name:"Avatar",props:zs,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=sn(e),r=F(!1);let o=null;const i=F(null),s=F(null),l=()=>{const{value:v}=i;if(v&&(o===null||o!==v.innerHTML)){o=v.innerHTML;const{value:w}=s;if(w){const{offsetWidth:E,offsetHeight:A}=w,{offsetWidth:R,offsetHeight:k}=v,z=.9,W=Math.min(E/R*z,A/k*z,1);v.style.transform=`translateX(-50%) translateY(-50%) scale(${W})`}}},a=Ye(Is,null),d=ae(()=>{const{size:v}=e;if(v)return v;const{size:w}=a||{};return w||"medium"}),c=je("Avatar","-avatar",Ls,Ai,e,t),h=Ye(ds,null),b=ae(()=>{if(a)return!0;const{round:v,circle:w}=e;return v!==void 0||w!==void 0?v||w:h?h.roundRef.value:!1}),u=ae(()=>a?!0:e.bordered||!1),y=ae(()=>{const v=d.value,w=b.value,E=u.value,{color:A}=e,{self:{borderRadius:R,fontSize:k,color:z,border:W,colorModal:X,colorPopover:oe},common:{cubicBezierEaseInOut:Q}}=c.value;let ie;return typeof v=="number"?ie=`${v}px`:ie=c.value.self[xe("height",v)],{"--n-font-size":k,"--n-border":E?W:"none","--n-border-radius":w?"50%":R,"--n-color":A||z,"--n-color-modal":A||X,"--n-color-popover":A||oe,"--n-bezier":Q,"--n-merged-size":`var(--n-avatar-size-override, ${ie})`}}),f=n?an("avatar",ae(()=>{const v=d.value,w=b.value,E=u.value,{color:A}=e;let R="";return v&&(typeof v=="number"?R+=`a${v}`:R+=v[0]),w&&(R+="b"),E&&(R+="c"),A&&(R+=Pi(A)),R}),y,e):void 0,T=F(!e.lazy);ln(()=>{if(e.lazy&&e.intersectionObserverOptions){let v;const w=Qr(()=>{v==null||v(),v=void 0,e.lazy&&(v=$s(s.value,e.intersectionObserverOptions,T))});Di(()=>{w(),v==null||v()})}}),He(()=>{var v;return e.src||((v=e.imgProps)===null||v===void 0?void 0:v.src)},()=>{r.value=!1});const C=F(!e.lazy);return{textRef:i,selfRef:s,mergedRoundRef:b,mergedClsPrefix:t,fitTextTransform:l,cssVars:n?void 0:y,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender,hasLoadError:r,shouldStartLoading:T,loaded:C,mergedOnError:v=>{if(!T.value)return;r.value=!0;const{onError:w,imgProps:{onError:E}={}}=e;w==null||w(v),E==null||E(v)},mergedOnLoad:v=>{const{onLoad:w,imgProps:{onLoad:E}={}}=e;w==null||w(v),E==null||E(v),C.value=!0}}},render(){var e,t;const{$slots:n,src:r,mergedClsPrefix:o,lazy:i,onRender:s,loaded:l,hasLoadError:a,imgProps:d={}}=this;s==null||s();let c;const h=!l&&!a&&(this.renderPlaceholder?this.renderPlaceholder():(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e));return this.hasLoadError?c=this.renderFallback?this.renderFallback():Zr(n.fallback,()=>[x("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})]):c=In(n.default,b=>{if(b)return x(Wt,{onResize:this.fitTextTransform},{default:()=>x("span",{ref:"textRef",class:`${o}-avatar__text`},b)});if(r||d.src){const u=this.src||d.src;return x("img",Object.assign(Object.assign({},d),{loading:Bs&&!this.intersectionObserverOptions&&i?"lazy":"eager",src:i&&this.intersectionObserverOptions?this.shouldStartLoading?u:void 0:u,"data-image-src":u,onLoad:this.mergedOnLoad,onError:this.mergedOnError,style:[d.style||"",{objectFit:this.objectFit},h?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}}),x("span",{ref:"selfRef",class:[`${o}-avatar`,this.themeClass],style:this.cssVars},c,i&&h)}}),Ws=_("divider",`
 position: relative;
 display: flex;
 width: 100%;
 box-sizing: border-box;
 font-size: 16px;
 color: var(--n-text-color);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
`,[Ht("vertical",`
 margin-top: 24px;
 margin-bottom: 24px;
 `,[Ht("no-title",`
 display: flex;
 align-items: center;
 `)]),V("title",`
 display: flex;
 align-items: center;
 margin-left: 12px;
 margin-right: 12px;
 white-space: nowrap;
 font-weight: var(--n-font-weight);
 `),O("title-position-left",[V("line",[O("left",{width:"28px"})])]),O("title-position-right",[V("line",[O("right",{width:"28px"})])]),O("dashed",[V("line",`
 background-color: #0000;
 height: 0px;
 width: 100%;
 border-style: dashed;
 border-width: 1px 0 0;
 `)]),O("vertical",`
 display: inline-block;
 height: 1em;
 margin: 0 8px;
 vertical-align: middle;
 width: 1px;
 `),V("line",`
 border: none;
 transition: background-color .3s var(--n-bezier), border-color .3s var(--n-bezier);
 height: 1px;
 width: 100%;
 margin: 0;
 `),Ht("dashed",[V("line",{backgroundColor:"var(--n-color)"})]),O("dashed",[V("line",{borderColor:"var(--n-color)"})]),O("vertical",{backgroundColor:"var(--n-color)"})]),Hs=Object.assign(Object.assign({},je.props),{titlePlacement:{type:String,default:"center"},dashed:Boolean,vertical:Boolean}),Fs=re({name:"Divider",props:Hs,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=sn(e),r=je("Divider","-divider",Ws,Bi,e,t),o=ae(()=>{const{common:{cubicBezierEaseInOut:s},self:{color:l,textColor:a,fontWeight:d}}=r.value;return{"--n-bezier":s,"--n-color":l,"--n-text-color":a,"--n-font-weight":d}}),i=n?an("divider",void 0,o,e):void 0;return{mergedClsPrefix:t,cssVars:n?void 0:o,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{$slots:t,titlePlacement:n,vertical:r,dashed:o,cssVars:i,mergedClsPrefix:s}=this;return(e=this.onRender)===null||e===void 0||e.call(this),x("div",{role:"separator",class:[`${s}-divider`,this.themeClass,{[`${s}-divider--vertical`]:r,[`${s}-divider--no-title`]:!t.default,[`${s}-divider--dashed`]:o,[`${s}-divider--title-position-${n}`]:t.default&&n}],style:i},r?null:x("div",{class:`${s}-divider__line ${s}-divider__line--left`}),!r&&t.default?x(Be,null,x("div",{class:`${s}-divider__title`},this.$slots),x("div",{class:`${s}-divider__line ${s}-divider__line--right`})):null)}}),js=U([_("list",`
 --n-merged-border-color: var(--n-border-color);
 --n-merged-color: var(--n-color);
 --n-merged-color-hover: var(--n-color-hover);
 margin: 0;
 font-size: var(--n-font-size);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 padding: 0;
 list-style-type: none;
 color: var(--n-text-color);
 background-color: var(--n-merged-color);
 `,[O("show-divider",[_("list-item",[U("&:not(:last-child)",[V("divider",`
 background-color: var(--n-merged-border-color);
 `)])])]),O("clickable",[_("list-item",`
 cursor: pointer;
 `)]),O("bordered",`
 border: 1px solid var(--n-merged-border-color);
 border-radius: var(--n-border-radius);
 `),O("hoverable",[_("list-item",`
 border-radius: var(--n-border-radius);
 `,[U("&:hover",`
 background-color: var(--n-merged-color-hover);
 `,[V("divider",`
 background-color: transparent;
 `)])])]),O("bordered, hoverable",[_("list-item",`
 padding: 12px 20px;
 `),V("header, footer",`
 padding: 12px 20px;
 `)]),V("header, footer",`
 padding: 12px 0;
 box-sizing: border-box;
 transition: border-color .3s var(--n-bezier);
 `,[U("&:not(:last-child)",`
 border-bottom: 1px solid var(--n-merged-border-color);
 `)]),_("list-item",`
 position: relative;
 padding: 12px 0; 
 box-sizing: border-box;
 display: flex;
 flex-wrap: nowrap;
 align-items: center;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[V("prefix",`
 margin-right: 20px;
 flex: 0;
 `),V("suffix",`
 margin-left: 20px;
 flex: 0;
 `),V("main",`
 flex: 1;
 `),V("divider",`
 height: 1px;
 position: absolute;
 bottom: 0;
 left: 0;
 right: 0;
 background-color: transparent;
 transition: background-color .3s var(--n-bezier);
 pointer-events: none;
 `)])]),Jr(_("list",`
 --n-merged-color-hover: var(--n-color-hover-modal);
 --n-merged-color: var(--n-color-modal);
 --n-merged-border-color: var(--n-border-color-modal);
 `)),Gr(_("list",`
 --n-merged-color-hover: var(--n-color-hover-popover);
 --n-merged-color: var(--n-color-popover);
 --n-merged-border-color: var(--n-border-color-popover);
 `))]),qs=Object.assign(Object.assign({},je.props),{size:{type:String,default:"medium"},bordered:Boolean,clickable:Boolean,hoverable:Boolean,showDivider:{type:Boolean,default:!0}}),io=Jn("n-list"),Vs=re({name:"List",props:qs,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedRtlRef:r}=sn(e),o=Ni("List",r,t),i=je("List","-list",js,$i,e,t);Gn(io,{showDividerRef:Se(e,"showDivider"),mergedClsPrefixRef:t});const s=ae(()=>{const{common:{cubicBezierEaseInOut:a},self:{fontSize:d,textColor:c,color:h,colorModal:b,colorPopover:u,borderColor:y,borderColorModal:f,borderColorPopover:T,borderRadius:C,colorHover:v,colorHoverModal:w,colorHoverPopover:E}}=i.value;return{"--n-font-size":d,"--n-bezier":a,"--n-text-color":c,"--n-color":h,"--n-border-radius":C,"--n-border-color":y,"--n-border-color-modal":f,"--n-border-color-popover":T,"--n-color-modal":b,"--n-color-popover":u,"--n-color-hover":v,"--n-color-hover-modal":w,"--n-color-hover-popover":E}}),l=n?an("list",void 0,s,e):void 0;return{mergedClsPrefix:t,rtlEnabled:o,cssVars:n?void 0:s,themeClass:l==null?void 0:l.themeClass,onRender:l==null?void 0:l.onRender}},render(){var e;const{$slots:t,mergedClsPrefix:n,onRender:r}=this;return r==null||r(),x("ul",{class:[`${n}-list`,this.rtlEnabled&&`${n}-list--rtl`,this.bordered&&`${n}-list--bordered`,this.showDivider&&`${n}-list--show-divider`,this.hoverable&&`${n}-list--hoverable`,this.clickable&&`${n}-list--clickable`,this.themeClass],style:this.cssVars},t.header?x("div",{class:`${n}-list__header`},t.header()):null,(e=t.default)===null||e===void 0?void 0:e.call(t),t.footer?x("div",{class:`${n}-list__footer`},t.footer()):null)}}),Us=re({name:"ListItem",setup(){const e=Ye(io,null);return e||eo("list-item","`n-list-item` must be placed in `n-list`."),{showDivider:e.showDividerRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{$slots:e,mergedClsPrefix:t}=this;return x("li",{class:`${t}-list-item`},e.prefix?x("div",{class:`${t}-list-item__prefix`},e.prefix()):null,e.default?x("div",{class:`${t}-list-item__main`},e):null,e.suffix?x("div",{class:`${t}-list-item__suffix`},e.suffix()):null,this.showDivider&&x("div",{class:`${t}-list-item__divider`}))}});var Ks=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function l(c){try{d(r.next(c))}catch(h){s(h)}}function a(c){try{d(r.throw(c))}catch(h){s(h)}}function d(c){c.done?i(c.value):o(c.value).then(l,a)}d((r=r.apply(e,t||[])).next())})};const Xs={distance:{type:Number,default:0},onLoad:Function,scrollbarProps:Object},Ys=re({name:"InfiniteScroll",props:Xs,setup(e){const t=F(null);let n=!1;const r=()=>Ks(this,void 0,void 0,function*(){var s;const{value:l}=t;if(l){const{containerRef:a,containerScrollTop:d}=l,c=a==null?void 0:a.scrollHeight,h=a==null?void 0:a.clientHeight;if(a&&c!==void 0&&h!==void 0&&d+h>=c-e.distance){n=!0;try{yield(s=e.onLoad)===null||s===void 0?void 0:s.call(e)}catch{}n=!1}}});return{scrollbarInstRef:t,handleScroll:()=>{n||r()},handleWheel:s=>{s.deltaY<=0||n||r()}}},render(){return x(Ii,Object.assign({},this.scrollbarProps,{ref:"scrollbarInstRef",onWheel:this.handleWheel,onScroll:this.handleScroll}),{default:()=>Zr(this.$slots.default,()=>[])})}}),Zn=Jn("n-tabs"),so={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]},Js=re({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:so,setup(e){const t=Ye(Zn,null);return t||eo("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:t.paneStyleRef,class:t.paneClassRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){return x("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}}),Gs=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},Hi(so,["displayDirective"])),zn=re({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:Gs,setup(e){const{mergedClsPrefixRef:t,valueRef:n,typeRef:r,closableRef:o,tabStyleRef:i,addTabStyleRef:s,tabClassRef:l,addTabClassRef:a,tabChangeIdRef:d,onBeforeLeaveRef:c,triggerRef:h,handleAdd:b,activateTab:u,handleClose:y}=Ye(Zn);return{trigger:h,mergedClosable:ae(()=>{if(e.internalAddable)return!1;const{closable:f}=e;return f===void 0?o.value:f}),style:i,addStyle:s,tabClass:l,addTabClass:a,clsPrefix:t,value:n,type:r,handleClose(f){f.stopPropagation(),!e.disabled&&y(e.name)},activateTab(){if(e.disabled)return;if(e.internalAddable){b();return}const{name:f}=e,T=++d.id;if(f!==n.value){const{value:C}=c;C?Promise.resolve(C(e.name,n.value)).then(v=>{v&&d.id===T&&u(f)}):u(f)}}}},render(){const{internalAddable:e,clsPrefix:t,name:n,disabled:r,label:o,tab:i,value:s,mergedClosable:l,trigger:a,$slots:{default:d}}=this,c=o??i;return x("div",{class:`${t}-tabs-tab-wrapper`},this.internalLeftPadded?x("div",{class:`${t}-tabs-tab-pad`}):null,x("div",Object.assign({key:n,"data-name":n,"data-disabled":r?!0:void 0},Li({class:[`${t}-tabs-tab`,s===n&&`${t}-tabs-tab--active`,r&&`${t}-tabs-tab--disabled`,l&&`${t}-tabs-tab--closable`,e&&`${t}-tabs-tab--addable`,e?this.addTabClass:this.tabClass],onClick:a==="click"?this.activateTab:void 0,onMouseenter:a==="hover"?this.activateTab:void 0,style:e?this.addStyle:this.style},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),x("span",{class:`${t}-tabs-tab__label`},e?x(Be,null,x("div",{class:`${t}-tabs-tab__height-placeholder`}," "),x(zi,{clsPrefix:t},{default:()=>x(Ds,null)})):d?d():typeof c=="object"?c:Mi(c??n)),l&&this.type==="card"?x(Wi,{clsPrefix:t,class:`${t}-tabs-tab__close`,onClick:this.handleClose,disabled:r}):null))}}),Qs=_("tabs",`
 box-sizing: border-box;
 width: 100%;
 display: flex;
 flex-direction: column;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[O("segment-type",[_("tabs-rail",[U("&.transition-disabled",[_("tabs-capsule",`
 transition: none;
 `)])])]),O("top",[_("tab-pane",`
 padding: var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left);
 `)]),O("left",[_("tab-pane",`
 padding: var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left) var(--n-pane-padding-top);
 `)]),O("left, right",`
 flex-direction: row;
 `,[_("tabs-bar",`
 width: 2px;
 right: 0;
 transition:
 top .2s var(--n-bezier),
 max-height .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),_("tabs-tab",`
 padding: var(--n-tab-padding-vertical); 
 `)]),O("right",`
 flex-direction: row-reverse;
 `,[_("tab-pane",`
 padding: var(--n-pane-padding-left) var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom);
 `),_("tabs-bar",`
 left: 0;
 `)]),O("bottom",`
 flex-direction: column-reverse;
 justify-content: flex-end;
 `,[_("tab-pane",`
 padding: var(--n-pane-padding-bottom) var(--n-pane-padding-right) var(--n-pane-padding-top) var(--n-pane-padding-left);
 `),_("tabs-bar",`
 top: 0;
 `)]),_("tabs-rail",`
 position: relative;
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[_("tabs-capsule",`
 border-radius: var(--n-tab-border-radius);
 position: absolute;
 pointer-events: none;
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 transition: transform 0.3s var(--n-bezier);
 `),_("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[_("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[O("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 `),U("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),O("flex",[_("tabs-nav",`
 width: 100%;
 position: relative;
 `,[_("tabs-wrapper",`
 width: 100%;
 `,[_("tabs-tab",`
 margin-right: 0;
 `)])])]),_("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[V("prefix, suffix",`
 display: flex;
 align-items: center;
 `),V("prefix","padding-right: 16px;"),V("suffix","padding-left: 16px;")]),O("top, bottom",[_("tabs-nav-scroll-wrapper",[U("&::before",`
 top: 0;
 bottom: 0;
 left: 0;
 width: 20px;
 `),U("&::after",`
 top: 0;
 bottom: 0;
 right: 0;
 width: 20px;
 `),O("shadow-start",[U("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),O("shadow-end",[U("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)])])]),O("left, right",[_("tabs-nav-scroll-content",`
 flex-direction: column;
 `),_("tabs-nav-scroll-wrapper",[U("&::before",`
 top: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),U("&::after",`
 bottom: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),O("shadow-start",[U("&::before",`
 box-shadow: inset 0 10px 8px -8px rgba(0, 0, 0, .12);
 `)]),O("shadow-end",[U("&::after",`
 box-shadow: inset 0 -10px 8px -8px rgba(0, 0, 0, .12);
 `)])])]),_("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[_("tabs-nav-y-scroll",`
 height: 100%;
 width: 100%;
 overflow-y: auto; 
 scrollbar-width: none;
 `,[U("&::-webkit-scrollbar",`
 width: 0;
 height: 0;
 `)]),U("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 z-index: 1;
 `)]),_("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 min-height: 100%;
 width: fit-content;
 box-sizing: border-box;
 `),_("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),_("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),_("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[O("disabled",{cursor:"not-allowed"}),V("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),V("label",`
 display: flex;
 align-items: center;
 z-index: 1;
 `)]),_("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[U("&.transition-disabled",`
 transition: none;
 `),O("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),_("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),_("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[U("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),U("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),U("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),U("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),U("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),_("tabs-tab-pad",`
 box-sizing: border-box;
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),O("line-type, bar-type",[_("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[U("&:hover",{color:"var(--n-tab-text-color-hover)"}),O("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),O("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),_("tabs-nav",[O("line-type",[O("top",[V("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),_("tabs-nav-scroll-content",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),_("tabs-bar",`
 bottom: -1px;
 `)]),O("left",[V("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),_("tabs-nav-scroll-content",`
 border-right: 1px solid var(--n-tab-border-color);
 `),_("tabs-bar",`
 right: -1px;
 `)]),O("right",[V("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),_("tabs-nav-scroll-content",`
 border-left: 1px solid var(--n-tab-border-color);
 `),_("tabs-bar",`
 left: -1px;
 `)]),O("bottom",[V("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),_("tabs-nav-scroll-content",`
 border-top: 1px solid var(--n-tab-border-color);
 `),_("tabs-bar",`
 top: -1px;
 `)]),V("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),_("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 `),_("tabs-bar",`
 border-radius: 0;
 `)]),O("card-type",[V("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),_("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 `),_("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 `),_("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[O("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 `,[V("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),Ht("disabled",[U("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),O("closable","padding-right: 8px;"),O("active",`
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),O("disabled","color: var(--n-tab-text-color-disabled);")]),_("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);")]),O("left, right",[_("tabs-wrapper",`
 flex-direction: column;
 `,[_("tabs-tab-wrapper",`
 flex-direction: column;
 `,[_("tabs-tab-pad",`
 height: var(--n-tab-gap-vertical);
 width: 100%;
 `)])])]),O("top",[O("card-type",[_("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 `,[O("active",`
 border-bottom: 1px solid #0000;
 `)]),_("tabs-tab-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),_("tabs-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `)])]),O("left",[O("card-type",[_("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-bottom-left-radius: var(--n-tab-border-radius);
 `,[O("active",`
 border-right: 1px solid #0000;
 `)]),_("tabs-tab-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `),_("tabs-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `)])]),O("right",[O("card-type",[_("tabs-tab",`
 border-top-right-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[O("active",`
 border-left: 1px solid #0000;
 `)]),_("tabs-tab-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `),_("tabs-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `)])]),O("bottom",[O("card-type",[_("tabs-tab",`
 border-bottom-left-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[O("active",`
 border-top: 1px solid #0000;
 `)]),_("tabs-tab-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `),_("tabs-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `)])])])]),Zs=Object.assign(Object.assign({},je.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},placement:{type:String,default:"top"},tabStyle:[String,Object],tabClass:String,addTabStyle:[String,Object],addTabClass:String,barWidth:Number,paneClass:String,paneStyle:[String,Object],paneWrapperClass:String,paneWrapperStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),ea=re({name:"Tabs",props:Zs,setup(e,{slots:t}){var n,r,o,i;const{mergedClsPrefixRef:s,inlineThemeDisabled:l}=sn(e),a=je("Tabs","-tabs",Qs,qi,e,s),d=F(null),c=F(null),h=F(null),b=F(null),u=F(null),y=F(null),f=F(!0),T=F(!0),C=pr(e,["labelSize","size"]),v=pr(e,["activeName","value"]),w=F((r=(n=v.value)!==null&&n!==void 0?n:e.defaultValue)!==null&&r!==void 0?r:t.default?(i=(o=vn(t.default())[0])===null||o===void 0?void 0:o.props)===null||i===void 0?void 0:i.name:null),E=Fi(v,w),A={id:0},R=ae(()=>{if(!(!e.justifyContent||e.type==="card"))return{display:"flex",justifyContent:e.justifyContent}});He(E,()=>{A.id=0,oe(),Q()});function k(){var p;const{value:g}=E;return g===null?null:(p=d.value)===null||p===void 0?void 0:p.querySelector(`[data-name="${g}"]`)}function z(p){if(e.type==="card")return;const{value:g}=c;if(!g)return;const P=g.style.opacity==="0";if(p){const M=`${s.value}-tabs-bar--disabled`,{barWidth:Z,placement:_e}=e;if(p.dataset.disabled==="true"?g.classList.add(M):g.classList.remove(M),["top","bottom"].includes(_e)){if(X(["top","maxHeight","height"]),typeof Z=="number"&&p.offsetWidth>=Z){const Le=Math.floor((p.offsetWidth-Z)/2)+p.offsetLeft;g.style.left=`${Le}px`,g.style.maxWidth=`${Z}px`}else g.style.left=`${p.offsetLeft}px`,g.style.maxWidth=`${p.offsetWidth}px`;g.style.width="8192px",P&&(g.style.transition="none"),g.offsetWidth,P&&(g.style.transition="",g.style.opacity="1")}else{if(X(["left","maxWidth","width"]),typeof Z=="number"&&p.offsetHeight>=Z){const Le=Math.floor((p.offsetHeight-Z)/2)+p.offsetTop;g.style.top=`${Le}px`,g.style.maxHeight=`${Z}px`}else g.style.top=`${p.offsetTop}px`,g.style.maxHeight=`${p.offsetHeight}px`;g.style.height="8192px",P&&(g.style.transition="none"),g.offsetHeight,P&&(g.style.transition="",g.style.opacity="1")}}}function W(){if(e.type==="card")return;const{value:p}=c;p&&(p.style.opacity="0")}function X(p){const{value:g}=c;if(g)for(const P of p)g.style[P]=""}function oe(){if(e.type==="card")return;const p=k();p?z(p):W()}function Q(){var p;const g=(p=u.value)===null||p===void 0?void 0:p.$el;if(!g)return;const P=k();if(!P)return;const{scrollLeft:M,offsetWidth:Z}=g,{offsetLeft:_e,offsetWidth:Le}=P;M>_e?g.scrollTo({top:0,left:_e,behavior:"smooth"}):_e+Le>M+Z&&g.scrollTo({top:0,left:_e+Le-Z,behavior:"smooth"})}const ie=F(null);let he=0,le=null;function De(p){const g=ie.value;if(g){he=p.getBoundingClientRect().height;const P=`${he}px`,M=()=>{g.style.height=P,g.style.maxHeight=P};le?(M(),le(),le=null):le=M}}function qe(p){const g=ie.value;if(g){const P=p.getBoundingClientRect().height,M=()=>{document.body.offsetHeight,g.style.maxHeight=`${P}px`,g.style.height=`${Math.max(he,P)}px`};le?(le(),le=null,M()):le=M}}function fn(){const p=ie.value;if(p){p.style.maxHeight="",p.style.height="";const{paneWrapperStyle:g}=e;if(typeof g=="string")p.style.cssText=g;else if(g){const{maxHeight:P,height:M}=g;P!==void 0&&(p.style.maxHeight=P),M!==void 0&&(p.style.height=M)}}}const ht={value:[]},Tt=F("next");function Fo(p){const g=E.value;let P="next";for(const M of ht.value){if(M===g)break;if(M===p){P="prev";break}}Tt.value=P,jo(p)}function jo(p){const{onActiveNameChange:g,onUpdateValue:P,"onUpdate:value":M}=e;g&&Pt(g,p),P&&Pt(P,p),M&&Pt(M,p),w.value=p}function qo(p){const{onClose:g}=e;g&&Pt(g,p)}function dr(){const{value:p}=c;if(!p)return;const g="transition-disabled";p.classList.add(g),oe(),p.classList.remove(g)}const Ge=F(null);function pn({transitionDisabled:p}){const g=d.value;if(!g)return;p&&g.classList.add("transition-disabled");const P=k();P&&Ge.value&&(Ge.value.style.width=`${P.offsetWidth}px`,Ge.value.style.height=`${P.offsetHeight}px`,Ge.value.style.transform=`translateX(${P.offsetLeft-Vi(getComputedStyle(g).paddingLeft)}px)`,p&&Ge.value.offsetWidth),p&&g.classList.remove("transition-disabled")}He([E],()=>{e.type==="segment"&&st(()=>{pn({transitionDisabled:!1})})}),ln(()=>{e.type==="segment"&&pn({transitionDisabled:!0})});let ur=0;function Vo(p){var g;if(p.contentRect.width===0&&p.contentRect.height===0||ur===p.contentRect.width)return;ur=p.contentRect.width;const{type:P}=e;if((P==="line"||P==="bar")&&dr(),P!=="segment"){const{placement:M}=e;gn((M==="top"||M==="bottom"?(g=u.value)===null||g===void 0?void 0:g.$el:y.value)||null)}}const Uo=bn(Vo,64);He([()=>e.justifyContent,()=>e.size],()=>{st(()=>{const{type:p}=e;(p==="line"||p==="bar")&&dr()})});const Rt=F(!1);function Ko(p){var g;const{target:P,contentRect:{width:M}}=p,Z=P.parentElement.offsetWidth;if(!Rt.value)Z<M&&(Rt.value=!0);else{const{value:_e}=b;if(!_e)return;Z-M>_e.$el.offsetWidth&&(Rt.value=!1)}gn(((g=u.value)===null||g===void 0?void 0:g.$el)||null)}const Xo=bn(Ko,64);function Yo(){const{onAdd:p}=e;p&&p(),st(()=>{const g=k(),{value:P}=u;!g||!P||P.scrollTo({left:g.offsetLeft,top:0,behavior:"smooth"})})}function gn(p){if(!p)return;const{placement:g}=e;if(g==="top"||g==="bottom"){const{scrollLeft:P,scrollWidth:M,offsetWidth:Z}=p;f.value=P<=0,T.value=P+Z>=M}else{const{scrollTop:P,scrollHeight:M,offsetHeight:Z}=p;f.value=P<=0,T.value=P+Z>=M}}const Jo=bn(p=>{gn(p.target)},64);Gn(Zn,{triggerRef:Se(e,"trigger"),tabStyleRef:Se(e,"tabStyle"),tabClassRef:Se(e,"tabClass"),addTabStyleRef:Se(e,"addTabStyle"),addTabClassRef:Se(e,"addTabClass"),paneClassRef:Se(e,"paneClass"),paneStyleRef:Se(e,"paneStyle"),mergedClsPrefixRef:s,typeRef:Se(e,"type"),closableRef:Se(e,"closable"),valueRef:E,tabChangeIdRef:A,onBeforeLeaveRef:Se(e,"onBeforeLeave"),activateTab:Fo,handleClose:qo,handleAdd:Yo}),ji(()=>{oe(),Q()}),Qr(()=>{const{value:p}=h;if(!p)return;const{value:g}=s,P=`${g}-tabs-nav-scroll-wrapper--shadow-start`,M=`${g}-tabs-nav-scroll-wrapper--shadow-end`;f.value?p.classList.remove(P):p.classList.add(P),T.value?p.classList.remove(M):p.classList.add(M)});const Go={syncBarPosition:()=>{oe()}},Qo=()=>{pn({transitionDisabled:!0})},hr=ae(()=>{const{value:p}=C,{type:g}=e,P={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[g],M=`${p}${P}`,{self:{barColor:Z,closeIconColor:_e,closeIconColorHover:Le,closeIconColorPressed:Zo,tabColor:ei,tabBorderColor:ti,paneTextColor:ni,tabFontWeight:ri,tabBorderRadius:oi,tabFontWeightActive:ii,colorSegment:si,fontWeightStrong:ai,tabColorSegment:li,closeSize:ci,closeIconSize:di,closeColorHover:ui,closeColorPressed:hi,closeBorderRadius:fi,[xe("panePadding",p)]:Ot,[xe("tabPadding",M)]:pi,[xe("tabPaddingVertical",M)]:gi,[xe("tabGap",M)]:vi,[xe("tabGap",`${M}Vertical`)]:mi,[xe("tabTextColor",g)]:bi,[xe("tabTextColorActive",g)]:yi,[xe("tabTextColorHover",g)]:_i,[xe("tabTextColorDisabled",g)]:wi,[xe("tabFontSize",p)]:xi},common:{cubicBezierEaseInOut:Si}}=a.value;return{"--n-bezier":Si,"--n-color-segment":si,"--n-bar-color":Z,"--n-tab-font-size":xi,"--n-tab-text-color":bi,"--n-tab-text-color-active":yi,"--n-tab-text-color-disabled":wi,"--n-tab-text-color-hover":_i,"--n-pane-text-color":ni,"--n-tab-border-color":ti,"--n-tab-border-radius":oi,"--n-close-size":ci,"--n-close-icon-size":di,"--n-close-color-hover":ui,"--n-close-color-pressed":hi,"--n-close-border-radius":fi,"--n-close-icon-color":_e,"--n-close-icon-color-hover":Le,"--n-close-icon-color-pressed":Zo,"--n-tab-color":ei,"--n-tab-font-weight":ri,"--n-tab-font-weight-active":ii,"--n-tab-padding":pi,"--n-tab-padding-vertical":gi,"--n-tab-gap":vi,"--n-tab-gap-vertical":mi,"--n-pane-padding-left":At(Ot,"left"),"--n-pane-padding-right":At(Ot,"right"),"--n-pane-padding-top":At(Ot,"top"),"--n-pane-padding-bottom":At(Ot,"bottom"),"--n-font-weight-strong":ai,"--n-tab-color-segment":li}}),Qe=l?an("tabs",ae(()=>`${C.value[0]}${e.type[0]}`),hr,e):void 0;return Object.assign({mergedClsPrefix:s,mergedValue:E,renderedNames:new Set,segmentCapsuleElRef:Ge,tabsPaneWrapperRef:ie,tabsElRef:d,barElRef:c,addTabInstRef:b,xScrollInstRef:u,scrollWrapperElRef:h,addTabFixed:Rt,tabWrapperStyle:R,handleNavResize:Uo,mergedSize:C,handleScroll:Jo,handleTabsResize:Xo,cssVars:l?void 0:hr,themeClass:Qe==null?void 0:Qe.themeClass,animationDirection:Tt,renderNameListRef:ht,yScrollElRef:y,handleSegmentResize:Qo,onAnimationBeforeLeave:De,onAnimationEnter:qe,onAnimationAfterEnter:fn,onRender:Qe==null?void 0:Qe.onRender},Go)},render(){const{mergedClsPrefix:e,type:t,placement:n,addTabFixed:r,addable:o,mergedSize:i,renderNameListRef:s,onRender:l,paneWrapperClass:a,paneWrapperStyle:d,$slots:{default:c,prefix:h,suffix:b}}=this;l==null||l();const u=c?vn(c()).filter(A=>A.type.__TAB_PANE__===!0):[],y=c?vn(c()).filter(A=>A.type.__TAB__===!0):[],f=!y.length,T=t==="card",C=t==="segment",v=!T&&!C&&this.justifyContent;s.value=[];const w=()=>{const A=x("div",{style:this.tabWrapperStyle,class:[`${e}-tabs-wrapper`]},v?null:x("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}),f?u.map((R,k)=>(s.value.push(R.props.name),xn(x(zn,Object.assign({},R.props,{internalCreatedByPane:!0,internalLeftPadded:k!==0&&(!v||v==="center"||v==="start"||v==="end")}),R.children?{default:R.children.tab}:void 0)))):y.map((R,k)=>(s.value.push(R.props.name),xn(k!==0&&!v?_r(R):R))),!r&&o&&T?yr(o,(f?u.length:y.length)!==0):null,v?null:x("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));return x("div",{ref:"tabsElRef",class:`${e}-tabs-nav-scroll-content`},T&&o?x(Wt,{onResize:this.handleTabsResize},{default:()=>A}):A,T?x("div",{class:`${e}-tabs-pad`}):null,T?null:x("div",{ref:"barElRef",class:`${e}-tabs-bar`}))},E=C?"top":n;return x("div",{class:[`${e}-tabs`,this.themeClass,`${e}-tabs--${t}-type`,`${e}-tabs--${i}-size`,v&&`${e}-tabs--flex`,`${e}-tabs--${E}`],style:this.cssVars},x("div",{class:[`${e}-tabs-nav--${t}-type`,`${e}-tabs-nav--${E}`,`${e}-tabs-nav`]},In(h,A=>A&&x("div",{class:`${e}-tabs-nav__prefix`},A)),C?x(Wt,{onResize:this.handleSegmentResize},{default:()=>x("div",{class:`${e}-tabs-rail`,ref:"tabsElRef"},x("div",{class:`${e}-tabs-capsule`,ref:"segmentCapsuleElRef"},x("div",{class:`${e}-tabs-wrapper`},x("div",{class:`${e}-tabs-tab`}))),f?u.map((A,R)=>(s.value.push(A.props.name),x(zn,Object.assign({},A.props,{internalCreatedByPane:!0,internalLeftPadded:R!==0}),A.children?{default:A.children.tab}:void 0))):y.map((A,R)=>(s.value.push(A.props.name),R===0?A:_r(A))))}):x(Wt,{onResize:this.handleNavResize},{default:()=>x("div",{class:`${e}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},["top","bottom"].includes(E)?x(bs,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:w}):x("div",{class:`${e}-tabs-nav-y-scroll`,onScroll:this.handleScroll,ref:"yScrollElRef"},w()))}),r&&o&&T?yr(o,!0):null,In(b,A=>A&&x("div",{class:`${e}-tabs-nav__suffix`},A))),f&&(this.animated&&(E==="top"||E==="bottom")?x("div",{ref:"tabsPaneWrapperRef",style:d,class:[`${e}-tabs-pane-wrapper`,a]},br(u,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):br(u,this.mergedValue,this.renderedNames)))}});function br(e,t,n,r,o,i,s){const l=[];return e.forEach(a=>{const{name:d,displayDirective:c,"display-directive":h}=a.props,b=y=>c===y||h===y,u=t===d;if(a.key!==void 0&&(a.key=d),u||b("show")||b("show:lazy")&&n.has(d)){n.has(d)||n.add(d);const y=!b("if");l.push(y?Ui(a,[[Ki,u]]):a)}}),s?x(Qt,{name:`${s}-transition`,onBeforeLeave:r,onEnter:o,onAfterEnter:i},{default:()=>l}):l}function yr(e,t){return x(zn,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:t,disabled:typeof e=="object"&&e.disabled})}function _r(e){const t=Xi(e);return t.props?t.props.internalLeftPadded=!0:t.props={internalLeftPadded:!0},t}function xn(e){return Array.isArray(e.dynamicProps)?e.dynamicProps.includes("internalLeftPadded")||e.dynamicProps.push("internalLeftPadded"):e.dynamicProps=["internalLeftPadded"],e}const ta={justNow:"gerade eben",past:e=>e.match(/\d/)?`vor ${e}`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"Letzten Monat":"Nächsten Monat":`${e} Monat${e>1?"e":""}`,year:(e,t)=>e===1?t?"Letztes Jahr":"Nächstes Jahr":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"gestern":"morgen":`${e} Tag${e>1?"e":""}`,week:(e,t)=>e===1?t?"letzte Woche":"nächste Woche":`${e} Woche${e>1?"n":""}`,hour:e=>`${e} Stunde${e>1?"n":""}`,minute:e=>`${e} Minute${e>1?"n":""}`,second:e=>`${e} Sekunde${e>1?"n":""}`,invalid:"Ungültiges Datum"};function na(e,t){return Yi(e,{...t,messages:ta})}const Je=Ji("raid",{state:()=>({characters:[],suicideKing:[],suicideKingHistory:[]}),actions:{async fetchCharacters(){const e=await Ft.get("characters",{prefixUrl:"https://v220240778215279047.powersrv.de/cps-backend",credentials:"include"});this.characters=await e.json()},async createCharacter(e){const n=await Ft.post("characters",{prefixUrl:"https://v220240778215279047.powersrv.de/cps-backend",json:e,credentials:"include"}).json();this.characters.push(n)},async deleteCharacter(e){await Ft.delete(`characters/${e}`,{prefixUrl:"https://v220240778215279047.powersrv.de/cps-backend",credentials:"include"}),this.characters=this.characters.filter(t=>t.id!==e)},getCharacterById(e){return this.characters.find(t=>t.id===e)},getCharacterFromSuicideKing(e){return this.suicideKing.find(t=>t.characterId===e)}},getters:{inactiveCharacters:e=>e.characters.filter(t=>{const n=e.suicideKing.find(r=>r.characterId===t.id);return!n||n&&!n.active})}}),ra="/cps/assets/deathknight-CjzlZdMw.png",oa="/cps/assets/warrior-B_TA0OBQ.png",ia="/cps/assets/paladin-CGOLVl72.png",sa="/cps/assets/hunter-DnK7rGi0.png",aa="/cps/assets/rogue-DDQYB8c1.png",la="/cps/assets/priest-BpGR7OeA.png",ca="/cps/assets/shaman-Cvl6CrZt.png",da="/cps/assets/mage-CG2MsyGb.png",ua="/cps/assets/warlock-DKM-Ggv4.png",ha="/cps/assets/monk-wTaFlkSo.png",fa="/cps/assets/druid-BzzgyVwn.png",pa="/cps/assets/demonhunter-BtLnVuHW.png",ga="/cps/assets/evoker-Dv7GiB6u.png";var I=(e=>(e.Warrior="Warrior",e.Paladin="Paladin",e.Hunter="Hunter",e.Rogue="Rogue",e.Priest="Priest",e.Shaman="Shaman",e.Mage="Mage",e.Warlock="Warlock",e.Monk="Monk",e.Druid="Druid",e.DemonHunter="DemonHunter",e.DeathKnight="DeathKnight",e.Evoker="Evoker",e))(I||{});const va=Object.values(I);function ue(e){switch(e){case I.DeathKnight:return ra;case I.Warrior:return oa;case I.Paladin:return ia;case I.Hunter:return sa;case I.Rogue:return aa;case I.Priest:return la;case I.Shaman:return ca;case I.Mage:return da;case I.Warlock:return ua;case I.Monk:return ha;case I.Druid:return fa;case I.DemonHunter:return pa;case I.Evoker:return ga;default:throw new Error("Invalid class name")}}const ma=["src"],ba={class:"flex gap-4 items-end"},ya={class:"font-bold text-lg"},_a={class:"text-true-gray-500"},wa=re({__name:"suicide-king-history-item",props:{event:{}},setup(e){const t=e,n=Je(),r=ae(()=>n.getCharacterById(t.event.characterId)),o=F(null);function i(){return t.event.from?t.event.from>t.event.to?`Von Platz ${t.event.from} auf Platz ${t.event.to} aufgestiegen.`:`Von Platz ${t.event.from} auf Platz ${t.event.to} abgestiegen.`:`Auf Platz ${t.event.to} eingestiegen.`}o.value||(o.value=i());const s=na(t.event.timestamp);return(l,a)=>{const d=Gi,c=Ms,h=Us;return S(r)?(se(),Fe(h,{key:0},{prefix:L(()=>[$(c,null,{default:L(()=>[$(d,null,{default:L(()=>[K("img",{src:S(ue)(S(r).class)},null,8,ma)]),_:1})]),_:1})]),default:L(()=>[K("div",ba,[K("h4",ya,at(S(r).name),1),K("span",_a,at(S(s)),1)]),K("div",null,at(S(o)),1)]),_:1})):rt("",!0)}}}),xa=re({__name:"suicide-king-history",setup(e){const t=Je(),n=ae(()=>t.suicideKingHistory);let r=!1;async function o(){if(r)return;const s=await(await Ft.get("suicide-king/history",{prefixUrl:"https://v220240778215279047.powersrv.de/cps-backend",searchParams:new URLSearchParams({skip:`${t.suicideKingHistory.length}`,take:"10"})})).json();s.length===0&&(r=!0),t.suicideKingHistory.push(...s)}return(i,s)=>{const l=wa,a=Vs,d=Ys;return se(),Fe(d,{class:"max-h-25dvh",distance:100,onLoad:o},{default:L(()=>[$(a,{class:"overflow-y-auto overflow-x-hidden",hoverable:""},{default:L(()=>[$(Qt,{name:"fade"},{default:L(()=>[(se(!0),Te(Be,null,Ln(S(n),c=>(se(),Te("div",{key:c.id,class:"border-b border-b-true-gray-800"},[$(l,{event:c},null,8,["event"])]))),128))]),_:1})]),_:1})]),_:1})}}}),er=Symbol("socket");var bt=(e=>(e.SuicideKing="SuicideKing",e.TSet="TSet",e))(bt||{}),Ee=(e=>(e.Need="Need",e.Transmog="Transmog",e))(Ee||{});const Sa={key:0,class:"cursor-move bg-true-gray-900 border border-true-gray-800 rounded overflow-hidden flex w-full justify-between items-center px-4 py-2"},Ea={class:"flex items-center gap-8"},ka={key:0,class:"font-mono font-bold text-2xl pl-4"},Ca=["src"],Ta={class:"text-lg font-light text-nowrap"},Ra={class:"flex items-center justify-center gap-3"},Oa=K("span",{class:"text-lg font-bold"},"B",-1),Aa=K("span",{class:"text-lg font-bold"},"T",-1),Pa=K("span",{class:"ico-mdi-arrow-collapse-down"},null,-1),Da=K("div",null,"Character ans Ende verschieben",-1),Ba=K("span",{class:"ico-mdi-delete"},null,-1),Na=K("div",null,"Charakter aus Liste entfernen",-1),$a=re({__name:"suicide-king-entry",props:{characterId:{},listType:{},need:{}},emits:["setNeed"],setup(e,{emit:t}){const n=e,r=t,o=ro(),i=cn(),s=Ye(er),l=Je(),a=ae(()=>l.getCharacterById(n.characterId)),d=ae(()=>l.getCharacterFromSuicideKing(n.characterId));function c(){o.warning({title:"Charakter löschen",content:"Willst du wirklich den Charakter von der Suicide King Liste löschen?",onPositiveClick:()=>{},onNegativeClick:()=>{},positiveText:"Ja!",negativeText:"Nein, lieber nicht"})}function h(){if(!s)return i.error("Nicht verbunden");if(!a.value)return i.error("Character nicht gefunden!");s.emit("move-to-end",JSON.stringify({characterId:a.value.id,listType:bt.SuicideKing}))}function b(){var y;if(!s)return i.error("Nicht verbunden");if(!a.value)return i.error("Character nicht gefunden!");if(!d.value)return i.error("Character nicht in Suicide King List vorhanden");const u=(y=d.value)!=null&&y.active?"set-character-inactive":"set-character-active";s.emit(u,JSON.stringify({characterId:a.value.id}))}return(u,y)=>{var v;const f=fs,T=Qi,C=dn;return S(a)?(se(),Te("div",Sa,[K("div",Ea,[(v=S(d))!=null&&v.position?(se(),Te("span",ka,at(S(d).position),1)):rt("",!0),K("img",{src:S(ue)(S(a).class),class:"w-10 h-10"},null,8,Ca),K("span",Ta,at(S(a).name),1)]),K("div",Ra,[S(d)?(se(),Fe(T,{key:0},{trigger:L(()=>[$(f,{value:S(d).active,"onUpdate:value":y[0]||(y[0]=w=>b())},null,8,["value"])]),default:L(()=>[K("div",null,"Character "+at(S(d).active?"deaktivieren":"aktivieren"),1)]),_:1})):rt("",!0),u.listType?(se(),Te(Be,{key:1},[$(C,{circle:"",type:u.need===S(Ee).Need?"primary":"default",primary:u.need===S(Ee).Need,quaternary:u.need!==S(Ee).Need,size:"large",onClick:y[1]||(y[1]=w=>r("setNeed",u.need===S(Ee).Need?null:S(Ee).Need))},{default:L(()=>[Oa]),_:1},8,["type","primary","quaternary"]),$(C,{circle:"",type:u.need===S(Ee).Transmog?"primary":"default",primary:u.need===S(Ee).Transmog,quaternary:u.need!==S(Ee).Transmog,size:"large",onClick:y[2]||(y[2]=w=>r("setNeed",u.need===S(Ee).Transmog?null:S(Ee).Transmog))},{default:L(()=>[Aa]),_:1},8,["type","primary","quaternary"]),$(T,null,{trigger:L(()=>[$(C,{circle:"",quaternary:"",onClick:h},{icon:L(()=>[Pa]),_:1})]),default:L(()=>[Da]),_:1}),$(T,null,{trigger:L(()=>[$(C,{circle:"",quaternary:"",type:"warning",onClick:c},{icon:L(()=>[Ba]),_:1})]),default:L(()=>[Na]),_:1})],64)):rt("",!0)])])):rt("",!0)}}});var Ia=Object.defineProperty,Zt=Object.getOwnPropertySymbols,ao=Object.prototype.hasOwnProperty,lo=Object.prototype.propertyIsEnumerable,wr=(e,t,n)=>t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ot=(e,t)=>{for(var n in t||(t={}))ao.call(t,n)&&wr(e,n,t[n]);if(Zt)for(var n of Zt(t))lo.call(t,n)&&wr(e,n,t[n]);return e},co=(e,t)=>{var n={};for(var r in e)ao.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Zt)for(var r of Zt(e))t.indexOf(r)<0&&lo.call(e,r)&&(n[r]=e[r]);return n};const uo="[vue-draggable-plus]: ";function La(e){console.warn(uo+e)}function za(e){console.error(uo+e)}function xr(e,t,n){return n>=0&&n<e.length&&e.splice(n,0,e.splice(t,1)[0]),e}function Ma(e){return e.replace(/-(\w)/g,(t,n)=>n?n.toUpperCase():"")}function Wa(e){return Object.keys(e).reduce((t,n)=>(typeof e[n]<"u"&&(t[Ma(n)]=e[n]),t),{})}function Sr(e,t){return Array.isArray(e)&&e.splice(t,1),e}function Er(e,t,n){return Array.isArray(e)&&e.splice(t,0,n),e}function Ha(e){return typeof e>"u"}function Fa(e){return typeof e=="string"}function kr(e,t,n){const r=e.children[n];e.insertBefore(t,r)}function Sn(e){e.parentNode&&e.parentNode.removeChild(e)}function ja(e,t=document){var n;let r=null;return typeof(t==null?void 0:t.querySelector)=="function"?r=(n=t==null?void 0:t.querySelector)==null?void 0:n.call(t,e):r=document.querySelector(e),r||La(`Element not found: ${e}`),r}function qa(e,t,n=null){return function(...r){return e.apply(n,r),t.apply(n,r)}}function Va(e,t){const n=ot({},e);return Object.keys(t).forEach(r=>{n[r]?n[r]=qa(e[r],t[r]):n[r]=t[r]}),n}function Ua(e){return e instanceof HTMLElement}function Cr(e,t){Object.keys(e).forEach(n=>{t(n,e[n])})}function Ka(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)}const Xa=Object.assign;/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tr(Object(n),!0).forEach(function(r){Ya(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tr(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jt=function(t){return typeof t}:jt=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function Ya(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}function Ja(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ga(e,t){if(e==null)return{};var n=Ja(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Qa="1.15.2";function Ne(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Ie=Ne(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),kt=Ne(/Edge/i),Rr=Ne(/firefox/i),yt=Ne(/safari/i)&&!Ne(/chrome/i)&&!Ne(/android/i),ho=Ne(/iP(ad|od|hone)/i),fo=Ne(/chrome/i)&&Ne(/android/i),po={capture:!1,passive:!1};function q(e,t,n){e.addEventListener(t,n,!Ie&&po)}function j(e,t,n){e.removeEventListener(t,n,!Ie&&po)}function en(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Za(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ke(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&en(e,t):en(e,t))||r&&e===n)return e;if(e===n)break}while(e=Za(e))}return null}var Or=/\s+/g;function ge(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Or," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Or," ")}}function D(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function ct(e,t){var n="";if(typeof e=="string")n=e;else do{var r=D(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function go(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function Re(){var e=document.scrollingElement;return e||document.documentElement}function te(e,t,n,r,o){if(!(!e.getBoundingClientRect&&e!==window)){var i,s,l,a,d,c,h;if(e!==window&&e.parentNode&&e!==Re()?(i=e.getBoundingClientRect(),s=i.top,l=i.left,a=i.bottom,d=i.right,c=i.height,h=i.width):(s=0,l=0,a=window.innerHeight,d=window.innerWidth,c=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!Ie))do if(o&&o.getBoundingClientRect&&(D(o,"transform")!=="none"||n&&D(o,"position")!=="static")){var b=o.getBoundingClientRect();s-=b.top+parseInt(D(o,"border-top-width")),l-=b.left+parseInt(D(o,"border-left-width")),a=s+i.height,d=l+i.width;break}while(o=o.parentNode);if(r&&e!==window){var u=ct(o||e),y=u&&u.a,f=u&&u.d;u&&(s/=f,l/=y,h/=y,c/=f,a=s+c,d=l+h)}return{top:s,left:l,bottom:a,right:d,width:h,height:c}}}function Ar(e,t,n){for(var r=We(e,!0),o=te(e)[t];r;){var i=te(r)[n],s=void 0;if(s=o>=i,!s)return r;if(r===Re())break;r=We(r,!1)}return!1}function dt(e,t,n,r){for(var o=0,i=0,s=e.children;i<s.length;){if(s[i].style.display!=="none"&&s[i]!==B.ghost&&(r||s[i]!==B.dragged)&&ke(s[i],n.draggable,e,!1)){if(o===t)return s[i];o++}i++}return null}function tr(e,t){for(var n=e.lastElementChild;n&&(n===B.ghost||D(n,"display")==="none"||t&&!en(n,t));)n=n.previousElementSibling;return n||null}function be(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==B.clone&&(!t||en(e,t))&&n++;return n}function Pr(e){var t=0,n=0,r=Re();if(e)do{var o=ct(e),i=o.a,s=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function el(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function We(e,t){if(!e||!e.getBoundingClientRect)return Re();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=D(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Re();if(r||t)return n;r=!0}}while(n=n.parentNode);return Re()}function tl(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function En(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var _t;function vo(e,t){return function(){if(!_t){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),_t=setTimeout(function(){_t=void 0},t)}}}function nl(){clearTimeout(_t),_t=void 0}function mo(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function bo(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function yo(e,t,n){var r={};return Array.from(e.children).forEach(function(o){var i,s,l,a;if(!(!ke(o,t.draggable,e,!1)||o.animated||o===n)){var d=te(o);r.left=Math.min((i=r.left)!==null&&i!==void 0?i:1/0,d.left),r.top=Math.min((s=r.top)!==null&&s!==void 0?s:1/0,d.top),r.right=Math.max((l=r.right)!==null&&l!==void 0?l:-1/0,d.right),r.bottom=Math.max((a=r.bottom)!==null&&a!==void 0?a:-1/0,d.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var me="Sortable"+new Date().getTime();function rl(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(r){if(!(D(r,"display")==="none"||r===B.ghost)){e.push({target:r,rect:te(r)});var o=Ae({},e[e.length-1].rect);if(r.thisAnimationDuration){var i=ct(r,!0);i&&(o.top-=i.f,o.left-=i.e)}r.fromRect=o}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(el(e,{target:n}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var o=!1,i=0;e.forEach(function(s){var l=0,a=s.target,d=a.fromRect,c=te(a),h=a.prevFromRect,b=a.prevToRect,u=s.rect,y=ct(a,!0);y&&(c.top-=y.f,c.left-=y.e),a.toRect=c,a.thisAnimationDuration&&En(h,c)&&!En(d,c)&&(u.top-c.top)/(u.left-c.left)===(d.top-c.top)/(d.left-c.left)&&(l=il(u,h,b,r.options)),En(c,d)||(a.prevFromRect=d,a.prevToRect=c,l||(l=r.options.animation),r.animate(a,u,c,l)),l&&(o=!0,i=Math.max(i,l),clearTimeout(a.animationResetTimer),a.animationResetTimer=setTimeout(function(){a.animationTime=0,a.prevFromRect=null,a.fromRect=null,a.prevToRect=null,a.thisAnimationDuration=null},l),a.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof n=="function"&&n()},i):typeof n=="function"&&n(),e=[]},animate:function(n,r,o,i){if(i){D(n,"transition",""),D(n,"transform","");var s=ct(this.el),l=s&&s.a,a=s&&s.d,d=(r.left-o.left)/(l||1),c=(r.top-o.top)/(a||1);n.animatingX=!!d,n.animatingY=!!c,D(n,"transform","translate3d("+d+"px,"+c+"px,0)"),this.forRepaintDummy=ol(n),D(n,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),D(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){D(n,"transition",""),D(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},i)}}}}function ol(e){return e.offsetWidth}function il(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Ze=[],kn={initializeByDefault:!0},Ct={mount:function(e){for(var t in kn)kn.hasOwnProperty(t)&&!(t in e)&&(e[t]=kn[t]);Ze.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ze.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var o=e+"Global";Ze.forEach(function(i){t[i.pluginName]&&(t[i.pluginName][o]&&t[i.pluginName][o](Ae({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](Ae({sortable:t},n)))})},initializePlugins:function(e,t,n,r){Ze.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var a=new s(e,t,e.options);a.sortable=e,a.options=e.options,e[l]=a,$e(n,a.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var i=this.modifyOption(e,o,e.options[o]);typeof i<"u"&&(e.options[o]=i)}},getEventProperties:function(e,t){var n={};return Ze.forEach(function(r){typeof r.eventProperties=="function"&&$e(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return Ze.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(r=o.optionListeners[t].call(e[o.pluginName],n))}),r}};function sl(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,l=e.fromEl,a=e.oldIndex,d=e.newIndex,c=e.oldDraggableIndex,h=e.newDraggableIndex,b=e.originalEvent,u=e.putSortable,y=e.extraEventProperties;if(t=t||n&&n[me],!!t){var f,T=t.options,C="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Ie&&!kt?f=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent(r,!0,!0)),f.to=s||n,f.from=l||n,f.item=o||n,f.clone=i,f.oldIndex=a,f.newIndex=d,f.oldDraggableIndex=c,f.newDraggableIndex=h,f.originalEvent=b,f.pullMode=u?u.lastPutMode:void 0;var v=Ae(Ae({},y),Ct.getEventProperties(r,t));for(var w in v)f[w]=v[w];n&&n.dispatchEvent(f),T[C]&&T[C].call(t,f)}}var al=["evt"],pe=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,o=Ga(n,al);Ct.pluginEvent.bind(B)(e,t,Ae({dragEl:m,parentEl:G,ghostEl:N,rootEl:Y,nextEl:Ke,lastDownEl:qt,cloneEl:J,cloneHidden:Me,dragStarted:pt,putSortable:ce,activeSortable:B.active,originalEvent:r,oldIndex:it,oldDraggableIndex:wt,newIndex:ve,newDraggableIndex:ze,hideGhostForTarget:So,unhideGhostForTarget:Eo,cloneNowHidden:function(){Me=!0},cloneNowShown:function(){Me=!1},dispatchSortableEvent:function(i){fe({sortable:t,name:i,originalEvent:r})}},o))};function fe(e){sl(Ae({putSortable:ce,cloneEl:J,targetEl:m,rootEl:Y,oldIndex:it,oldDraggableIndex:wt,newIndex:ve,newDraggableIndex:ze},e))}var m,G,N,Y,Ke,qt,J,Me,it,ve,wt,ze,Dt,ce,tt=!1,tn=!1,nn=[],Ve,we,Cn,Tn,Dr,Br,pt,et,xt,St=!1,Bt=!1,Vt,de,Rn=[],Mn=!1,rn=[],un=typeof document<"u",Nt=ho,Nr=kt||Ie?"cssFloat":"float",ll=un&&!fo&&!ho&&"draggable"in document.createElement("div"),_o=function(){if(un){if(Ie)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),wo=function(e,t){var n=D(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=dt(e,0,t),i=dt(e,1,t),s=o&&D(o),l=i&&D(i),a=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+te(o).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+te(i).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var c=s.float==="left"?"left":"right";return i&&(l.clear==="both"||l.clear===c)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||a>=r&&n[Nr]==="none"||i&&n[Nr]==="none"&&a+d>r)?"vertical":"horizontal"},cl=function(e,t,n){var r=n?e.left:e.top,o=n?e.right:e.bottom,i=n?e.width:e.height,s=n?t.left:t.top,l=n?t.right:t.bottom,a=n?t.width:t.height;return r===s||o===l||r+i/2===s+a/2},dl=function(e,t){var n;return nn.some(function(r){var o=r[me].options.emptyInsertThreshold;if(!(!o||tr(r))){var i=te(r),s=e>=i.left-o&&e<=i.right+o,l=t>=i.top-o&&t<=i.bottom+o;if(s&&l)return n=r}}),n},xo=function(e){function t(o,i){return function(s,l,a,d){var c=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(o==null&&(i||c))return!0;if(o==null||o===!1)return!1;if(i&&o==="clone")return o;if(typeof o=="function")return t(o(s,l,a,d),i)(s,l,a,d);var h=(i?s:l).options.group.name;return o===!0||typeof o=="string"&&o===h||o.join&&o.indexOf(h)>-1}}var n={},r=e.group;(!r||jt(r)!="object")&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},So=function(){!_o&&N&&D(N,"display","none")},Eo=function(){!_o&&N&&D(N,"display","")};un&&!fo&&document.addEventListener("click",function(e){if(tn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),tn=!1,!1},!0);var Ue=function(e){if(m){e=e.touches?e.touches[0]:e;var t=dl(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[me]._onDragOver(n)}}},ul=function(e){m&&m.parentNode[me]._isOutsideThisEl(e.target)};function B(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=$e({},t),e[me]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return wo(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,s){i.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:B.supportPointer!==!1&&"PointerEvent"in window&&!yt,emptyInsertThreshold:5};Ct.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);xo(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:ll,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?q(e,"pointerdown",this._onTapStart):(q(e,"mousedown",this._onTapStart),q(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(q(e,"dragover",this),q(e,"dragenter",this)),nn.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),$e(this,rl())}B.prototype={constructor:B,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(et=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,m):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,o=r.preventOnFilter,i=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,a=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=r.filter;if(yl(n),!m&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||r.disabled)&&!a.isContentEditable&&!(!this.nativeDraggable&&yt&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ke(l,r.draggable,n,!1),!(l&&l.animated)&&qt!==l)){if(it=be(l),wt=be(l,r.draggable),typeof d=="function"){if(d.call(this,e,l,this)){fe({sortable:t,rootEl:a,name:"filter",targetEl:l,toEl:n,fromEl:n}),pe("filter",t,{evt:e}),o&&e.cancelable&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(c){if(c=ke(a,c.trim(),n,!1),c)return fe({sortable:t,rootEl:c,name:"filter",targetEl:l,fromEl:n,toEl:n}),pe("filter",t,{evt:e}),!0}),d)){o&&e.cancelable&&e.preventDefault();return}r.handle&&!ke(a,r.handle,n,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,t,n){var r=this,o=r.el,i=r.options,s=o.ownerDocument,l;if(n&&!m&&n.parentNode===o){var a=te(n);if(Y=o,m=n,G=m.parentNode,Ke=m.nextSibling,qt=n,Dt=i.group,B.dragged=m,Ve={target:m,clientX:(t||e).clientX,clientY:(t||e).clientY},Dr=Ve.clientX-a.left,Br=Ve.clientY-a.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,m.style["will-change"]="all",l=function(){if(pe("delayEnded",r,{evt:e}),B.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Rr&&r.nativeDraggable&&(m.draggable=!0),r._triggerDragStart(e,t),fe({sortable:r,name:"choose",originalEvent:e}),ge(m,i.chosenClass,!0)},i.ignore.split(",").forEach(function(d){go(m,d.trim(),On)}),q(s,"dragover",Ue),q(s,"mousemove",Ue),q(s,"touchmove",Ue),q(s,"mouseup",r._onDrop),q(s,"touchend",r._onDrop),q(s,"touchcancel",r._onDrop),Rr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,m.draggable=!0),pe("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(kt||Ie))){if(B.eventCanceled){this._onDrop();return}q(s,"mouseup",r._disableDelayedDrag),q(s,"touchend",r._disableDelayedDrag),q(s,"touchcancel",r._disableDelayedDrag),q(s,"mousemove",r._delayedDragTouchMoveHandler),q(s,"touchmove",r._delayedDragTouchMoveHandler),i.supportPointer&&q(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,i.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){m&&On(m),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;j(e,"mouseup",this._disableDelayedDrag),j(e,"touchend",this._disableDelayedDrag),j(e,"touchcancel",this._disableDelayedDrag),j(e,"mousemove",this._delayedDragTouchMoveHandler),j(e,"touchmove",this._delayedDragTouchMoveHandler),j(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?q(document,"pointermove",this._onTouchMove):t?q(document,"touchmove",this._onTouchMove):q(document,"mousemove",this._onTouchMove):(q(m,"dragend",this),q(Y,"dragstart",this._onDragStart));try{document.selection?Ut(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(tt=!1,Y&&m){pe("dragStarted",this,{evt:t}),this.nativeDraggable&&q(document,"dragover",ul);var n=this.options;!e&&ge(m,n.dragClass,!1),ge(m,n.ghostClass,!0),B.active=this,e&&this._appendGhost(),fe({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(we){this._lastX=we.clientX,this._lastY=we.clientY,So();for(var e=document.elementFromPoint(we.clientX,we.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(we.clientX,we.clientY),e!==t);)t=e;if(m.parentNode[me]._isOutsideThisEl(e),t)do{if(t[me]){var n=void 0;if(n=t[me]._onDragOver({clientX:we.clientX,clientY:we.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Eo()}},_onTouchMove:function(e){if(Ve){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,o=e.touches?e.touches[0]:e,i=N&&ct(N,!0),s=N&&i&&i.a,l=N&&i&&i.d,a=Nt&&de&&Pr(de),d=(o.clientX-Ve.clientX+r.x)/(s||1)+(a?a[0]-Rn[0]:0)/(s||1),c=(o.clientY-Ve.clientY+r.y)/(l||1)+(a?a[1]-Rn[1]:0)/(l||1);if(!B.active&&!tt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(N){i?(i.e+=d-(Cn||0),i.f+=c-(Tn||0)):i={a:1,b:0,c:0,d:1,e:d,f:c};var h="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");D(N,"webkitTransform",h),D(N,"mozTransform",h),D(N,"msTransform",h),D(N,"transform",h),Cn=d,Tn=c,we=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!N){var e=this.options.fallbackOnBody?document.body:Y,t=te(m,!0,Nt,!0,e),n=this.options;if(Nt){for(de=e;D(de,"position")==="static"&&D(de,"transform")==="none"&&de!==document;)de=de.parentNode;de!==document.body&&de!==document.documentElement?(de===document&&(de=Re()),t.top+=de.scrollTop,t.left+=de.scrollLeft):de=Re(),Rn=Pr(de)}N=m.cloneNode(!0),ge(N,n.ghostClass,!1),ge(N,n.fallbackClass,!0),ge(N,n.dragClass,!0),D(N,"transition",""),D(N,"transform",""),D(N,"box-sizing","border-box"),D(N,"margin",0),D(N,"top",t.top),D(N,"left",t.left),D(N,"width",t.width),D(N,"height",t.height),D(N,"opacity","0.8"),D(N,"position",Nt?"absolute":"fixed"),D(N,"zIndex","100000"),D(N,"pointerEvents","none"),B.ghost=N,e.appendChild(N),D(N,"transform-origin",Dr/parseInt(N.style.width)*100+"% "+Br/parseInt(N.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,o=n.options;if(pe("dragStart",this,{evt:e}),B.eventCanceled){this._onDrop();return}pe("setupClone",this),B.eventCanceled||(J=bo(m),J.removeAttribute("id"),J.draggable=!1,J.style["will-change"]="",this._hideClone(),ge(J,this.options.chosenClass,!1),B.clone=J),n.cloneId=Ut(function(){pe("clone",n),!B.eventCanceled&&(n.options.removeCloneOnHide||Y.insertBefore(J,m),n._hideClone(),fe({sortable:n,name:"clone"}))}),!t&&ge(m,o.dragClass,!0),t?(tn=!0,n._loopId=setInterval(n._emulateDragOver,50)):(j(document,"mouseup",n._onDrop),j(document,"touchend",n._onDrop),j(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(n,r,m)),q(document,"drop",n),D(m,"transform","translateZ(0)")),tt=!0,n._dragStartId=Ut(n._dragStarted.bind(n,t,e)),q(document,"selectstart",n),pt=!0,yt&&D(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,n=e.target,r,o,i,s=this.options,l=s.group,a=B.active,d=Dt===l,c=s.sort,h=ce||a,b,u=this,y=!1;if(Mn)return;function f(qe,fn){pe(qe,u,Ae({evt:e,isOwner:d,axis:b?"vertical":"horizontal",revert:i,dragRect:r,targetRect:o,canSort:c,fromSortable:h,target:n,completed:C,onMove:function(ht,Tt){return $t(Y,t,m,r,ht,te(ht),e,Tt)},changed:v},fn))}function T(){f("dragOverAnimationCapture"),u.captureAnimationState(),u!==h&&h.captureAnimationState()}function C(qe){return f("dragOverCompleted",{insertion:qe}),qe&&(d?a._hideClone():a._showClone(u),u!==h&&(ge(m,ce?ce.options.ghostClass:a.options.ghostClass,!1),ge(m,s.ghostClass,!0)),ce!==u&&u!==B.active?ce=u:u===B.active&&ce&&(ce=null),h===u&&(u._ignoreWhileAnimating=n),u.animateAll(function(){f("dragOverAnimationComplete"),u._ignoreWhileAnimating=null}),u!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(n===m&&!m.animated||n===t&&!n.animated)&&(et=null),!s.dragoverBubble&&!e.rootEl&&n!==document&&(m.parentNode[me]._isOutsideThisEl(e.target),!qe&&Ue(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function v(){ve=be(m),ze=be(m,s.draggable),fe({sortable:u,name:"change",toEl:t,newIndex:ve,newDraggableIndex:ze,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ke(n,s.draggable,t,!0),f("dragOver"),B.eventCanceled)return y;if(m.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||u._ignoreWhileAnimating===n)return C(!1);if(tn=!1,a&&!s.disabled&&(d?c||(i=G!==Y):ce===this||(this.lastPutMode=Dt.checkPull(this,a,m,e))&&l.checkPut(this,a,m,e))){if(b=this._getDirection(e,n)==="vertical",r=te(m),f("dragOverValid"),B.eventCanceled)return y;if(i)return G=Y,T(),this._hideClone(),f("revert"),B.eventCanceled||(Ke?Y.insertBefore(m,Ke):Y.appendChild(m)),C(!0);var w=tr(t,s.draggable);if(!w||gl(e,b,this)&&!w.animated){if(w===m)return C(!1);if(w&&t===e.target&&(n=w),n&&(o=te(n)),$t(Y,t,m,r,n,o,e,!!n)!==!1)return T(),w&&w.nextSibling?t.insertBefore(m,w.nextSibling):t.appendChild(m),G=t,v(),C(!0)}else if(w&&pl(e,b,this)){var E=dt(t,0,s,!0);if(E===m)return C(!1);if(n=E,o=te(n),$t(Y,t,m,r,n,o,e,!1)!==!1)return T(),t.insertBefore(m,E),G=t,v(),C(!0)}else if(n.parentNode===t){o=te(n);var A=0,R,k=m.parentNode!==t,z=!cl(m.animated&&m.toRect||r,n.animated&&n.toRect||o,b),W=b?"top":"left",X=Ar(n,"top","top")||Ar(m,"top","top"),oe=X?X.scrollTop:void 0;et!==n&&(R=o[W],St=!1,Bt=!z&&s.invertSwap||k),A=vl(e,n,o,b,z?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Bt,et===n);var Q;if(A!==0){var ie=be(m);do ie-=A,Q=G.children[ie];while(Q&&(D(Q,"display")==="none"||Q===N))}if(A===0||Q===n)return C(!1);et=n,xt=A;var he=n.nextElementSibling,le=!1;le=A===1;var De=$t(Y,t,m,r,n,o,e,le);if(De!==!1)return(De===1||De===-1)&&(le=De===1),Mn=!0,setTimeout(fl,30),T(),le&&!he?t.appendChild(m):n.parentNode.insertBefore(m,le?he:n),X&&mo(X,0,oe-X.scrollTop),G=m.parentNode,R!==void 0&&!Bt&&(Vt=Math.abs(R-te(n)[W])),v(),C(!0)}if(t.contains(m))return C(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){j(document,"mousemove",this._onTouchMove),j(document,"touchmove",this._onTouchMove),j(document,"pointermove",this._onTouchMove),j(document,"dragover",Ue),j(document,"mousemove",Ue),j(document,"touchmove",Ue)},_offUpEvents:function(){var e=this.el.ownerDocument;j(e,"mouseup",this._onDrop),j(e,"touchend",this._onDrop),j(e,"pointerup",this._onDrop),j(e,"touchcancel",this._onDrop),j(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;if(ve=be(m),ze=be(m,n.draggable),pe("drop",this,{evt:e}),G=m&&m.parentNode,ve=be(m),ze=be(m,n.draggable),B.eventCanceled){this._nulling();return}tt=!1,Bt=!1,St=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Wn(this.cloneId),Wn(this._dragStartId),this.nativeDraggable&&(j(document,"drop",this),j(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),yt&&D(document.body,"user-select",""),D(m,"transform",""),e&&(pt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),N&&N.parentNode&&N.parentNode.removeChild(N),(Y===G||ce&&ce.lastPutMode!=="clone")&&J&&J.parentNode&&J.parentNode.removeChild(J),m&&(this.nativeDraggable&&j(m,"dragend",this),On(m),m.style["will-change"]="",pt&&!tt&&ge(m,ce?ce.options.ghostClass:this.options.ghostClass,!1),ge(m,this.options.chosenClass,!1),fe({sortable:this,name:"unchoose",toEl:G,newIndex:null,newDraggableIndex:null,originalEvent:e}),Y!==G?(ve>=0&&(fe({rootEl:G,name:"add",toEl:G,fromEl:Y,originalEvent:e}),fe({sortable:this,name:"remove",toEl:G,originalEvent:e}),fe({rootEl:G,name:"sort",toEl:G,fromEl:Y,originalEvent:e}),fe({sortable:this,name:"sort",toEl:G,originalEvent:e})),ce&&ce.save()):ve!==it&&ve>=0&&(fe({sortable:this,name:"update",toEl:G,originalEvent:e}),fe({sortable:this,name:"sort",toEl:G,originalEvent:e})),B.active&&((ve==null||ve===-1)&&(ve=it,ze=wt),fe({sortable:this,name:"end",toEl:G,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){pe("nulling",this),Y=m=G=N=Ke=J=qt=Me=Ve=we=pt=ve=ze=it=wt=et=xt=ce=Dt=B.dragged=B.ghost=B.clone=B.active=null,rn.forEach(function(e){e.checked=!0}),rn.length=Cn=Tn=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":m&&(this._onDragOver(e),hl(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,r=0,o=n.length,i=this.options;r<o;r++)t=n[r],ke(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||bl(t));return e},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(o,i){var s=r.children[i];ke(s,this.options.draggable,r,!1)&&(n[o]=s)},this),t&&this.captureAnimationState(),e.forEach(function(o){n[o]&&(r.removeChild(n[o]),r.appendChild(n[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ke(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var r=Ct.modifyOption(this,e,t);typeof r<"u"?n[e]=r:n[e]=t,e==="group"&&xo(n)},destroy:function(){pe("destroy",this);var e=this.el;e[me]=null,j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart),j(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),nn.splice(nn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Me){if(pe("hideClone",this),B.eventCanceled)return;D(J,"display","none"),this.options.removeCloneOnHide&&J.parentNode&&J.parentNode.removeChild(J),Me=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Me){if(pe("showClone",this),B.eventCanceled)return;m.parentNode==Y&&!this.options.group.revertClone?Y.insertBefore(J,m):Ke?Y.insertBefore(J,Ke):Y.appendChild(J),this.options.group.revertClone&&this.animate(m,J),D(J,"display",""),Me=!1}}};function hl(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function $t(e,t,n,r,o,i,s,l){var a,d=e[me],c=d.options.onMove,h;return window.CustomEvent&&!Ie&&!kt?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=t,a.from=e,a.dragged=n,a.draggedRect=r,a.related=o||t,a.relatedRect=i||te(t),a.willInsertAfter=l,a.originalEvent=s,e.dispatchEvent(a),c&&(h=c.call(d,a,s)),h}function On(e){e.draggable=!1}function fl(){Mn=!1}function pl(e,t,n){var r=te(dt(n.el,0,n.options,!0)),o=yo(n.el,n.options,N),i=10;return t?e.clientX<o.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<o.top-i||e.clientY<r.bottom&&e.clientX<r.left}function gl(e,t,n){var r=te(tr(n.el,n.options.draggable)),o=yo(n.el,n.options,N),i=10;return t?e.clientX>o.right+i||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>o.bottom+i||e.clientX>r.right&&e.clientY>r.top}function vl(e,t,n,r,o,i,s,l){var a=r?e.clientY:e.clientX,d=r?n.height:n.width,c=r?n.top:n.left,h=r?n.bottom:n.right,b=!1;if(!s){if(l&&Vt<d*o){if(!St&&(xt===1?a>c+d*i/2:a<h-d*i/2)&&(St=!0),St)b=!0;else if(xt===1?a<c+Vt:a>h-Vt)return-xt}else if(a>c+d*(1-o)/2&&a<h-d*(1-o)/2)return ml(t)}return b=b||s,b&&(a<c+d*i/2||a>h-d*i/2)?a>c+d/2?1:-1:0}function ml(e){return be(m)<be(e)?1:-1}function bl(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function yl(e){rn.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&rn.push(r)}}function Ut(e){return setTimeout(e,0)}function Wn(e){return clearTimeout(e)}un&&q(document,"touchmove",function(e){(B.active||tt)&&e.cancelable&&e.preventDefault()});B.utils={on:q,off:j,css:D,find:go,is:function(e,t){return!!ke(e,t,e,!1)},extend:tl,throttle:vo,closest:ke,toggleClass:ge,clone:bo,index:be,nextTick:Ut,cancelNextTick:Wn,detectDirection:wo,getChild:dt};B.get=function(e){return e[me]};B.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(B.utils=Ae(Ae({},B.utils),r.utils)),Ct.mount(r)})};B.create=function(e,t){return new B(e,t)};B.version=Qa;var ee=[],gt,Hn,Fn=!1,An,Pn,on,vt;function _l(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?q(document,"dragover",this._handleAutoScroll):this.options.supportPointer?q(document,"pointermove",this._handleFallbackAutoScroll):n.touches?q(document,"touchmove",this._handleFallbackAutoScroll):q(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):(j(document,"pointermove",this._handleFallbackAutoScroll),j(document,"touchmove",this._handleFallbackAutoScroll),j(document,"mousemove",this._handleFallbackAutoScroll)),$r(),Kt(),nl()},nulling:function(){on=Hn=gt=Fn=vt=An=Pn=null,ee.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var r=this,o=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(o,i);if(on=t,n||this.options.forceAutoScrollFallback||kt||Ie||yt){Dn(t,this.options,s,n);var l=We(s,!0);Fn&&(!vt||o!==An||i!==Pn)&&(vt&&$r(),vt=setInterval(function(){var a=We(document.elementFromPoint(o,i),!0);a!==l&&(l=a,Kt()),Dn(t,r.options,a,n)},10),An=o,Pn=i)}else{if(!this.options.bubbleScroll||We(s,!0)===Re()){Kt();return}Dn(t,this.options,We(s,!1),!1)}}},$e(e,{pluginName:"scroll",initializeByDefault:!0})}function Kt(){ee.forEach(function(e){clearInterval(e.pid)}),ee=[]}function $r(){clearInterval(vt)}var Dn=vo(function(e,t,n,r){if(t.scroll){var o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,a=Re(),d=!1,c;Hn!==n&&(Hn=n,Kt(),gt=t.scroll,c=t.scrollFn,gt===!0&&(gt=We(n,!0)));var h=0,b=gt;do{var u=b,y=te(u),f=y.top,T=y.bottom,C=y.left,v=y.right,w=y.width,E=y.height,A=void 0,R=void 0,k=u.scrollWidth,z=u.scrollHeight,W=D(u),X=u.scrollLeft,oe=u.scrollTop;u===a?(A=w<k&&(W.overflowX==="auto"||W.overflowX==="scroll"||W.overflowX==="visible"),R=E<z&&(W.overflowY==="auto"||W.overflowY==="scroll"||W.overflowY==="visible")):(A=w<k&&(W.overflowX==="auto"||W.overflowX==="scroll"),R=E<z&&(W.overflowY==="auto"||W.overflowY==="scroll"));var Q=A&&(Math.abs(v-o)<=s&&X+w<k)-(Math.abs(C-o)<=s&&!!X),ie=R&&(Math.abs(T-i)<=s&&oe+E<z)-(Math.abs(f-i)<=s&&!!oe);if(!ee[h])for(var he=0;he<=h;he++)ee[he]||(ee[he]={});(ee[h].vx!=Q||ee[h].vy!=ie||ee[h].el!==u)&&(ee[h].el=u,ee[h].vx=Q,ee[h].vy=ie,clearInterval(ee[h].pid),(Q!=0||ie!=0)&&(d=!0,ee[h].pid=setInterval((function(){r&&this.layer===0&&B.active._onTouchMove(on);var le=ee[this.layer].vy?ee[this.layer].vy*l:0,De=ee[this.layer].vx?ee[this.layer].vx*l:0;typeof c=="function"&&c.call(B.dragged.parentNode[me],De,le,e,on,ee[this.layer].el)!=="continue"||mo(ee[this.layer].el,De,le)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&b!==a&&(b=We(b,!1)));Fn=d}},30),ko=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,o=e.activeSortable,i=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var a=n||o;s();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,c=document.elementFromPoint(d.clientX,d.clientY);l(),a&&!a.el.contains(c)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function nr(){}nr.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=dt(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:ko};$e(nr,{pluginName:"revertOnSpill"});function rr(){}rr.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable,r=n||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:ko};$e(rr,{pluginName:"removeOnSpill"});B.mount(new _l);B.mount(rr,nr);function wl(e){return e==null?e:JSON.parse(JSON.stringify(e))}function xl(e){Qn()&&ts(e)}function Sl(e){Qn()?ln(e):st(e)}let Co=null,To=null;function Ir(e=null,t=null){Co=e,To=t}function El(){return{data:Co,clonedData:To}}const Lr=Symbol("cloneElement");function kl(...e){var t,n;const r=(t=Qn())==null?void 0:t.proxy,o=e[0];let[,i,s]=e;Array.isArray(S(i))||(s=i,i=null);let l=null;const{immediate:a=!0,clone:d=wl,customUpdate:c}=(n=S(s))!=null?n:{};function h(k){var z;const W=S((z=S(i))==null?void 0:z[k.oldIndex]),X=d(W);Ir(W,X),k.item[Lr]=X}function b(k){const z=k.item[Lr];if(!Ha(z)){if(Sn(k.item),Xe(i)){const W=[...S(i)];i.value=Er(W,k.newDraggableIndex,z);return}Er(S(i),k.newDraggableIndex,z)}}function u(k){const{from:z,item:W,oldIndex:X,oldDraggableIndex:oe,pullMode:Q,clone:ie}=k;if(kr(z,W,X),Q==="clone"){Sn(ie);return}if(Xe(i)){const he=[...S(i)];i.value=Sr(he,oe);return}Sr(S(i),oe)}function y(k){if(c){c(k);return}const{from:z,item:W,oldIndex:X,newIndex:oe}=k;if(Sn(W),kr(z,W,X),Xe(i)){const Q=[...S(i)];i.value=xr(Q,X,oe);return}xr(S(i),X,oe)}function f(){st(()=>{Ir()})}const T={onUpdate:y,onStart:h,onAdd:b,onRemove:u,onEnd:f};function C(k){const z=S(o);return k||(k=Fa(z)?ja(z,r==null?void 0:r.$el):z),k&&!Ua(k)&&(k=k.$el),k||za("Root element not found"),k}function v(){var k;const z=(k=S(s))!=null?k:{},W=co(z,["immediate","clone"]);return Cr(W,(X,oe)=>{Ka(X)&&(W[X]=(Q,...ie)=>{const he=El();Xa(Q,he),oe(Q,...ie)})}),Va(i===null?{}:T,W)}const w=k=>{k=C(k),l&&E.destroy(),l=new B(k,v())};He(()=>s,()=>{l&&Cr(v(),(k,z)=>{l==null||l.option(k,z)})},{deep:!0});const E={option:(k,z)=>l==null?void 0:l.option(k,z),destroy:()=>{l==null||l.destroy(),l=null},save:()=>l==null?void 0:l.save(),toArray:()=>l==null?void 0:l.toArray(),closest:(...k)=>l==null?void 0:l.closest(...k)},A=()=>E==null?void 0:E.option("disabled",!0),R=()=>E==null?void 0:E.option("disabled",!1);return Sl(()=>{a&&w()}),xl(E.destroy),ot({start:w,pause:A,resume:R},E)}const jn=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],Cl=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...jn.map(e=>`on${e.replace(/^\S/,t=>t.toUpperCase())}`)],zr=re({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:Cl,emits:["update:modelValue",...jn],setup(e,{slots:t,emit:n,expose:r,attrs:o}){const i=jn.reduce((c,h)=>{const b=`on${h.replace(/^\S/,u=>u.toUpperCase())}`;return c[b]=(...u)=>n(h,...u),c},{}),s=ae(()=>{const c=Zi(e),h=co(c,["modelValue"]),b=Object.entries(h).reduce((u,[y,f])=>{const T=S(f);return T!==void 0&&(u[y]=T),u},{});return ot(ot({},i),Wa(ot(ot({},o),b)))}),l=ae({get:()=>e.modelValue,set:c=>n("update:modelValue",c)}),a=F(),d=es(kl(e.target||a,l,s));return r(d),()=>{var c;return x(e.tag||"div",{ref:a},(c=t==null?void 0:t.default)==null?void 0:c.call(t,d))}}});function Tl({oldIndex:e,newIndex:t,suicideKingCharacter:n}){return e===void 0?n?"activate":"new":e<t?"down":"up"}function Mr({characterId:e,oldIndex:t,newIndex:n,suicideKingOrderedList:r,suicideKingList:o,characterList:i}){const s=i.find(u=>u.id===e);if(!s)throw new Error("Updated item not found");const l=o.find(u=>u.characterId===e),a=Tl({oldIndex:t,newIndex:n,suicideKingCharacter:l}),d=l==null?void 0:l.position,c=o.find(u=>{if(a==="new")return u.characterId===r[n-1];if(a==="activate")return u.characterId===r[n-1];if(a==="up")return u.characterId===r[n-1];if(a==="down")return u.characterId===r[n-1];throw new Error("Invalid type")});let h=(c==null?void 0:c.position)??n+1;a==="new"&&c&&(h+=1),a==="up"&&c&&(h+=1);let b=o.some(u=>u.position===h&&u.characterId!==s.id&&!u.active);for(;b;)h+=1,b=o.some(u=>u.position===h&&u.characterId!==s.id&&!u.active);return{fromPosition:d,toPosition:h}}const Rl={class:"flex flex-col"},Ol={key:0},Al=K("h2",{class:"text-2xl font-bold"}," Inaktiv ",-1),Pl={class:"flex align-center"},Dl=K("h2",{class:"text-2xl font-bold"}," Suicide King ",-1),Bl={class:"flex align-center justify-end"},Nl=K("span",{class:"text-md font-bold"},"Bedarf zurücksetzen",-1),$l=re({__name:"suicide-king",setup(e){const t=Je(),n=cn(),r=Ye(er),o=F([]),i=F([]),s=F(new Map),l=F(!0),a=F(!0);He(()=>t.inactiveCharacters,()=>{l.value=!0,o.value=t.inactiveCharacters.map(y=>y.id)},{immediate:!0,deep:!0}),He(()=>t.suicideKing,async()=>{l.value=!0,i.value=t.suicideKing.filter(y=>y.active).map(y=>y.characterId)},{immediate:!0,deep:!0});async function d(y){if(!r)return n.error("Socket not connected");const{data:f,newIndex:T}=y;if(T===void 0)return;const{fromPosition:C,toPosition:v}=Mr({characterId:f,newIndex:T,suicideKingOrderedList:i.value,suicideKingList:t.suicideKing,characterList:t.characters});r.emit("add-to-suicide-king",JSON.stringify({characterId:f,listType:bt.SuicideKing,fromPosition:C,toPosition:v}))}async function c(y){if(!r)return n.error("Socket not connected");const{data:f,oldIndex:T,newIndex:C,from:v,to:w}=y;if(C===void 0||T===void 0||T===C||v!==w)return;const{fromPosition:E,toPosition:A}=Mr({characterId:f,oldIndex:T,newIndex:C,suicideKingOrderedList:[...i.value],suicideKingList:t.suicideKing,characterList:t.characters});r.emit("move-character",JSON.stringify({characterId:f,listType:bt.SuicideKing,fromPosition:E,toPosition:A}))}function h(y){if(!r)return n.error("Socket not connected");const{data:f}=y;r.emit("set-character-inactive",JSON.stringify({characterId:f}))}function b(y,f){f?s.value.set(y,f):s.value.delete(y)}function u(){s.value.clear()}return(y,f)=>{const T=dn,C=$a,v=Fs,w=xa;return se(),Te(Be,null,[K("div",Rl,[K("div",{class:ns(["flex-grow w-full h-full p-4 grid gap-x-8 gap-y-4 overflow-hidden transition",[S(a)?"grid-cols-[360px_1fr]":"grid-cols-[1fr]"]])},[$(rs,null,{default:L(()=>[S(a)?(se(),Te("div",Ol,[Al,K("div",Pl,[$(T,null,{default:L(()=>[lt(" Inaktive aktivieren ")]),_:1})]),$(S(zr),{modelValue:S(o),"onUpdate:modelValue":f[0]||(f[0]=E=>Xe(o)?o.value=E:null),animation:300,class:"flex flex-col gap-2 p-2 min-h-240px bg-true-gray-800 overflow-hidden transition",group:"suicide-king"},{default:L(()=>[$(Qt,{name:S(l)?"fade":"",type:"transition"},{default:L(()=>[(se(!0),Te(Be,null,Ln(S(o),E=>(se(),Fe(C,{key:E,"character-id":E},null,8,["character-id"]))),128))]),_:1},8,["name"])]),_:1},8,["modelValue"])])):rt("",!0)]),_:1}),K("div",null,[Dl,K("div",Bl,[$(T,{onClick:f[1]||(f[1]=E=>a.value=!S(a))},{default:L(()=>[lt(" toggle ")]),_:1}),$(T,{secondary:"",disabled:S(s).size===0,onClick:u},{default:L(()=>[Nl]),_:1},8,["disabled"])]),$(S(zr),{modelValue:S(i),"onUpdate:modelValue":f[2]||(f[2]=E=>Xe(i)?i.value=E:null),animation:300,class:"flex flex-col gap-2 p-2 min-h-240px bg-true-gray-800 overflow-hidden",group:"suicide-king",onAdd:d,onRemove:h,onStart:f[3]||(f[3]=()=>l.value=!1),onEnd:f[4]||(f[4]=async E=>await c(E))},{default:L(()=>[$(Qt,{name:S(l)?"fade":"",type:"transition"},{default:L(()=>[(se(!0),Te(Be,null,Ln(S(i),E=>(se(),Fe(C,{key:E,"character-id":E,"list-type":S(bt).SuicideKing,need:S(s).get(E),onSetNeed:A=>b(E,A)},null,8,["character-id","list-type","need","onSetNeed"]))),128))]),_:1},8,["name"])]),_:1},8,["modelValue"])])],2)]),K("div",null,[$(v,{class:"m-0!"}),$(w)])],64)}}});var Et=(e=>(e.Tank="Tank",e.Healer="Healer",e.Damage="Damage",e))(Et||{});const Il=Object.values(Et),Ll=re({__name:"role-select",props:{modelValue:{type:String},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=to(e,"modelValue"),n=F([{label:"Schaden",value:Et.Damage},{label:"Heilung",value:Et.Healer},{label:"Tank",value:Et.Tank}]),r=F(null);function o(){var i;(i=r.value)==null||i.blur()}return(i,s)=>{const l=oo;return se(),Fe(l,{ref_key:"selectRef",ref:r,value:t.value,"onUpdate:value":[s[0]||(s[0]=a=>t.value=a),o],options:S(n),multiple:"",filterable:"",placeholder:"Bitte wähle mindestens eine Rolle...",clearable:"","show-on-focus":"","clear-filter-after-select":""},null,8,["value","options"])}}}),zl=re({__name:"class-select",props:{modelValue:{type:String},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=to(e,"modelValue"),n=F([{label:"Krieger",value:I.Warrior,icon:ue(I.Warrior)},{label:"Paladin",value:I.Paladin,icon:ue(I.Paladin)},{label:"Jäger",value:I.Hunter,icon:ue(I.Hunter)},{label:"Schurke",value:I.Rogue,icon:ue(I.Rogue)},{label:"Priester",value:I.Priest,icon:ue(I.Priest)},{label:"Schamane",value:I.Shaman,icon:ue(I.Shaman)},{label:"Magier",value:I.Mage,icon:ue(I.Mage)},{label:"Hexenmeister",value:I.Warlock,icon:ue(I.Warlock)},{label:"Mönch",value:I.Monk,icon:ue(I.Monk)},{label:"Druide",value:I.Druid,icon:ue(I.Druid)},{label:"Dämonenjäger",value:I.DemonHunter,icon:ue(I.DemonHunter)},{label:"Todesritter",value:I.DeathKnight,icon:ue(I.DeathKnight)},{label:"Rufer",value:I.Evoker,icon:ue(I.Evoker)}]);function r(o){return x("div",{style:{display:"flex",alignItems:"center"}},[x("img",{src:o.icon,alt:o.label,class:"mr-2 w-6 h-6"}),x("span",{},{default:()=>o.label})])}return(o,i)=>{const s=oo;return se(),Fe(s,{value:t.value,"onUpdate:value":i[0]||(i[0]=l=>t.value=l),options:S(n),"render-label":r,filterable:"",placeholder:"Bitte wähle eine Klasse...",clearable:"","show-on-focus":""},null,8,["value","options"])}}}),Ml={class:"flex justify-between"},Wl=re({__name:"character-creation-modal",setup(e){const t=Je(),n=F(!1),r=cn(),o=F(null),i=F(null),s=F({name:null,class:null,roles:null}),l={name:[{required:!0,validator(d,c){return c?c.length<2?new Error("Der Name muss mindestens 2 Zeichen lang sein"):c.length>12?new Error("Der Name darf maximal 12 Zeichen lang sein"):!0:new Error("Bitte gib einen Namen ein")}}],class:[{required:!0,type:"string",validator(d,c){return c?va.includes(c)?!0:new Error("Ungültige Klasse"):new Error("Bitte wähle eine Klasse aus")}}],roles:[{required:!0,type:"string",validator(d,c){return c?c.every(h=>!Il.includes(h))?new Error("Ungültige Rolle"):!0:new Error("Bitte wähle eine Rolle aus")}}]};async function a(){var d;return await((d=o.value)==null?void 0:d.validate(async c=>{var h;c?r.error("Bitte fülle alle Felder korrekt aus"):(t.createCharacter(s.value),s.value={name:null,class:null,roles:null},r.success("Charakter erstellt"),(h=i.value)==null||h.focus())}))}return(d,c)=>{const h=dn,b=vs,u=ps,y=zl,f=Ll,T=gs,C=no,v=os;return se(),Te(Be,null,[$(h,{onClick:c[0]||(c[0]=w=>n.value=!0)},{default:L(()=>[lt(" Charakter erstellen ")]),_:1}),$(v,{show:S(n),"onUpdate:show":c[6]||(c[6]=w=>Xe(n)?n.value=w:null),"mask-closable":!1},{default:L(()=>[$(C,{title:"Charakter erstellen",class:"max-w-160",closable:"",segmented:{content:!0,footer:"soft"},onClose:c[5]||(c[5]=w=>n.value=!1)},{action:L(()=>[K("div",Ml,[$(h,{secondary:"",onClick:c[4]||(c[4]=w=>n.value=!1)},{default:L(()=>[lt(" Abbrechen ")]),_:1}),$(h,{"attr-type":"submit",type:"primary",onClick:a},{default:L(()=>[lt(" Erstellen ")]),_:1})])]),default:L(()=>[$(T,{ref_key:"formRef",ref:o,model:S(s),rules:l,class:"space-y-4"},{default:L(()=>[$(u,{label:"Name",path:"name"},{default:L(()=>[$(b,{ref_key:"nameInputRef",ref:i,value:S(s).name,"onUpdate:value":c[1]||(c[1]=w=>S(s).name=w),placeholder:"Name"},null,8,["value"])]),_:1}),$(u,{label:"Klasse",path:"class"},{default:L(()=>[$(y,{value:S(s).class,"onUpdate:value":c[2]||(c[2]=w=>S(s).class=w)},null,8,["value"])]),_:1}),$(u,{label:"Rolle",path:"role"},{default:L(()=>[$(f,{value:S(s).roles,"onUpdate:value":c[3]||(c[3]=w=>S(s).roles=w)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])],64)}}}),Hl=re({__name:"squad",setup(e){const t=ro(),n=Je(),r=ae(()=>[{title:"Name",key:"name"},{title:"Klasse",key:"class",render(o){return x("div",[x("img",{src:ue(o.class),alt:o.class,style:{width:"1.5rem",height:"1.5rem"}})])}},{title:"Rollen",key:"roles",render(o){return x("div",{class:"space-x-2"},o.roles.map(i=>x(us,{},{default:()=>i})))}},{key:"actions",align:"right",render(o){return x(dn,{tertiary:!0,circle:!0,onClick:()=>{t.warning({title:"Nutzer löschen",content:"Möchtest du diesen Character wirklich löschen?",positiveText:"Ja",negativeText:"Nein",onPositiveClick:async()=>{n.deleteCharacter(o.id)}})}},{icon:()=>x("span",{class:"ico-mdi-delete"})})}}]);return(o,i)=>{const s=Wl,l=hs;return se(),Te(Be,null,[$(s),$(l,{columns:S(r),data:S(n).characters},null,8,["columns","data"])],64)}}}),Bn=new WeakMap;function Fl(e,t,n={}){const{mode:r="replace",route:o=is(),router:i=ss(),transform:s=h=>h}=n;Bn.has(i)||Bn.set(i,new Map);const l=Bn.get(i);let a=o.query[e];as(()=>{a=void 0});let d;const c=ls((h,b)=>(d=b,{get(){return h(),s(a!==void 0?a:gr(t))},set(u){a!==u&&(a=u===t||u===null?void 0:u,l.set(e,u===t||u===null?void 0:u),b(),st(()=>{if(l.size===0)return;const y=Object.fromEntries(l.entries());l.clear();const{params:f,query:T,hash:C}=o;i[gr(r)]({params:f,query:{...T,...y},hash:C})}))}}));return He(()=>o.query[e],h=>{a=h,d()},{flush:"sync"}),c}const Pe=Object.create(null);Pe.open="0";Pe.close="1";Pe.ping="2";Pe.pong="3";Pe.message="4";Pe.upgrade="5";Pe.noop="6";const Xt=Object.create(null);Object.keys(Pe).forEach(e=>{Xt[Pe[e]]=e});const qn={type:"error",data:"parser error"},Ro=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Oo=typeof ArrayBuffer=="function",Ao=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,or=({type:e,data:t},n,r)=>Ro&&t instanceof Blob?n?r(t):Wr(t,r):Oo&&(t instanceof ArrayBuffer||Ao(t))?n?r(t):Wr(new Blob([t]),r):r(Pe[e]+(t||"")),Wr=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Hr(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Nn;function jl(e,t){if(Ro&&e.data instanceof Blob)return e.data.arrayBuffer().then(Hr).then(t);if(Oo&&(e.data instanceof ArrayBuffer||Ao(e.data)))return t(Hr(e.data));or(e,!1,n=>{Nn||(Nn=new TextEncoder),t(Nn.encode(n))})}const Fr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Fr.length;e++)mt[Fr.charCodeAt(e)]=e;const ql=e=>{let t=e.length*.75,n=e.length,r,o=0,i,s,l,a;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const d=new ArrayBuffer(t),c=new Uint8Array(d);for(r=0;r<n;r+=4)i=mt[e.charCodeAt(r)],s=mt[e.charCodeAt(r+1)],l=mt[e.charCodeAt(r+2)],a=mt[e.charCodeAt(r+3)],c[o++]=i<<2|s>>4,c[o++]=(s&15)<<4|l>>2,c[o++]=(l&3)<<6|a&63;return d},Vl=typeof ArrayBuffer=="function",ir=(e,t)=>{if(typeof e!="string")return{type:"message",data:Po(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Ul(e.substring(1),t)}:Xt[n]?e.length>1?{type:Xt[n],data:e.substring(1)}:{type:Xt[n]}:qn},Ul=(e,t)=>{if(Vl){const n=ql(e);return Po(n,t)}else return{base64:!0,data:e}},Po=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Do="",Kl=(e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach((i,s)=>{or(i,!1,l=>{r[s]=l,++o===n&&t(r.join(Do))})})},Xl=(e,t)=>{const n=e.split(Do),r=[];for(let o=0;o<n.length;o++){const i=ir(n[o],t);if(r.push(i),i.type==="error")break}return r};function Yl(){return new TransformStream({transform(e,t){jl(e,n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const i=new DataView(o.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{o=new Uint8Array(9);const i=new DataView(o.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let $n;function It(e){return e.reduce((t,n)=>t+n.length,0)}function Lt(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Jl(e,t){$n||($n=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(s,l){for(n.push(s);;){if(r===0){if(It(n)<1)break;const a=Lt(n,1);i=(a[0]&128)===128,o=a[0]&127,o<126?r=3:o===126?r=1:r=2}else if(r===1){if(It(n)<2)break;const a=Lt(n,2);o=new DataView(a.buffer,a.byteOffset,a.length).getUint16(0),r=3}else if(r===2){if(It(n)<8)break;const a=Lt(n,8),d=new DataView(a.buffer,a.byteOffset,a.length),c=d.getUint32(0);if(c>Math.pow(2,21)-1){l.enqueue(qn);break}o=c*Math.pow(2,32)+d.getUint32(4),r=3}else{if(It(n)<o)break;const a=Lt(n,o);l.enqueue(ir(i?a:$n.decode(a),t)),r=0}if(o===0||o>e){l.enqueue(qn);break}}}})}const Bo=4;function ne(e){if(e)return Gl(e)}function Gl(e){for(var t in ne.prototype)e[t]=ne.prototype[t];return e}ne.prototype.on=ne.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ne.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ne.prototype.off=ne.prototype.removeListener=ne.prototype.removeAllListeners=ne.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ne.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,t)}return this};ne.prototype.emitReserved=ne.prototype.emit;ne.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ne.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ye=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function No(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const Ql=ye.setTimeout,Zl=ye.clearTimeout;function hn(e,t){t.useNativeTimers?(e.setTimeoutFn=Ql.bind(ye),e.clearTimeoutFn=Zl.bind(ye)):(e.setTimeoutFn=ye.setTimeout.bind(ye),e.clearTimeoutFn=ye.clearTimeout.bind(ye))}const ec=1.33;function tc(e){return typeof e=="string"?nc(e):Math.ceil((e.byteLength||e.size)*ec)}function nc(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function rc(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function oc(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let i=n[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class ic extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class sr extends ne{constructor(t){super(),this.writable=!1,hn(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new ic(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=ir(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=rc(t);return n.length?"?"+n:""}}const $o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vn=64,sc={};let jr=0,zt=0,qr;function Vr(e){let t="";do t=$o[e%Vn]+t,e=Math.floor(e/Vn);while(e>0);return t}function Io(){const e=Vr(+new Date);return e!==qr?(jr=0,qr=e):e+"."+Vr(jr++)}for(;zt<Vn;zt++)sc[$o[zt]]=zt;let Lo=!1;try{Lo=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const ac=Lo;function zo(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||ac))return new XMLHttpRequest}catch{}if(!t)try{return new ye[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function lc(){}const cc=function(){return new zo({xdomain:!1}).responseType!=null}();class dc extends sr{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let o=location.port;o||(o=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||o!==t.port}const n=t&&t.forceBase64;this.supportsBinary=cc&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Xl(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Kl(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Io()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Oe(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(o,i)=>{this.onError("xhr post error",o,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Oe extends ne{constructor(t,n){super(),hn(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=No(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new zo(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var o;r.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=Oe.requestsCount++,Oe.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=lc,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Oe.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Oe.requestsCount=0;Oe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ur);else if(typeof addEventListener=="function"){const e="onpagehide"in ye?"pagehide":"unload";addEventListener(e,Ur,!1)}}function Ur(){for(let e in Oe.requests)Oe.requests.hasOwnProperty(e)&&Oe.requests[e].abort()}const ar=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Mt=ye.WebSocket||ye.MozWebSocket,Kr=!0,uc="arraybuffer",Xr=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class hc extends sr{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=Xr?{}:No(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Kr&&!Xr?n?new Mt(t,n):new Mt(t):new Mt(t,n,r)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;or(r,this.supportsBinary,i=>{const s={};try{Kr&&this.ws.send(i)}catch{}o&&ar(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Io()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Mt}}class fc extends sr{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=Jl(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),o=Yl();o.readable.pipeTo(t.writable),this.writer=o.writable.getWriter();const i=()=>{r.read().then(({done:l,value:a})=>{l||(this.onPacket(a),i())}).catch(l=>{})};i();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this.writer.write(s).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],o=n===t.length-1;this.writer.write(r).then(()=>{o&&ar(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const pc={websocket:hc,webtransport:fc,polling:dc},gc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Un(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=gc.exec(e||""),i={},s=14;for(;s--;)i[vc[s]]=o[s]||"";return n!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=mc(i,i.path),i.queryKey=bc(i,i.query),i}function mc(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function bc(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,o,i){o&&(n[o]=i)}),n}let Mo=class nt extends ne{constructor(t,n={}){super(),this.binaryType=uc,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=Un(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=Un(n.host).host),hn(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=oc(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Bo,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new pc[t](r)}open(){let t;if(this.opts.rememberUpgrade&&nt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;nt.priorWebsocketSuccess=!1;const o=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;nt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(c(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function i(){r||(r=!0,c(),n.close(),n=null)}const s=h=>{const b=new Error("probe error: "+h);b.transport=n.name,i(),this.emitReserved("upgradeError",b)};function l(){s("transport closed")}function a(){s("socket closed")}function d(h){n&&h.name!==n.name&&i()}const c=()=>{n.removeListener("open",o),n.removeListener("error",s),n.removeListener("close",l),this.off("close",a),this.off("upgrading",d)};n.once("open",o),n.once("error",s),n.once("close",l),this.once("close",a),this.once("upgrading",d),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",nt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const o=this.writeBuffer[r].data;if(o&&(n+=tc(o)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,o){if(typeof n=="function"&&(o=n,n=void 0),typeof r=="function"&&(o=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:n,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){nt.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const o=t.length;for(;r<o;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};Mo.protocol=Bo;function yc(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Un(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(n&&n.port===r.port?"":":"+r.port),r}const _c=typeof ArrayBuffer=="function",wc=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Wo=Object.prototype.toString,xc=typeof Blob=="function"||typeof Blob<"u"&&Wo.call(Blob)==="[object BlobConstructor]",Sc=typeof File=="function"||typeof File<"u"&&Wo.call(File)==="[object FileConstructor]";function lr(e){return _c&&(e instanceof ArrayBuffer||wc(e))||xc&&e instanceof Blob||Sc&&e instanceof File}function Yt(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Yt(e[n]))return!0;return!1}if(lr(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Yt(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Yt(e[n]))return!0;return!1}function Ec(e){const t=[],n=e.data,r=e;return r.data=Kn(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Kn(e,t){if(!e)return e;if(lr(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Kn(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Kn(e[r],t));return n}return e}function kc(e,t){return e.data=Xn(e.data,t),delete e.attachments,e}function Xn(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Xn(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Xn(e[n],t));return e}const Cc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Tc=5;var H;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(H||(H={}));class Rc{constructor(t){this.replacer=t}encode(t){return(t.type===H.EVENT||t.type===H.ACK)&&Yt(t)?this.encodeAsBinary({type:t.type===H.EVENT?H.BINARY_EVENT:H.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===H.BINARY_EVENT||t.type===H.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Ec(t),r=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(r),o}}function Yr(e){return Object.prototype.toString.call(e)==="[object Object]"}class cr extends ne{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===H.BINARY_EVENT;r||n.type===H.BINARY_ACK?(n.type=r?H.EVENT:H.ACK,this.reconstructor=new Oc(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(lr(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(H[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===H.BINARY_EVENT||r.type===H.BINARY_ACK){const i=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const s=t.substring(i,n);if(s!=Number(s)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(t.charAt(n+1)==="/"){const i=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(i,n)}else r.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const i=n+1;for(;++n;){const s=t.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===t.length)break}r.id=Number(t.substring(i,n+1))}if(t.charAt(++n)){const i=this.tryParse(t.substr(n));if(cr.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case H.CONNECT:return Yr(n);case H.DISCONNECT:return n===void 0;case H.CONNECT_ERROR:return typeof n=="string"||Yr(n);case H.EVENT:case H.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Cc.indexOf(n[0])===-1);case H.ACK:case H.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Oc{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=kc(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Ac=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cr,Encoder:Rc,get PacketType(){return H},protocol:Tc},Symbol.toStringTag,{value:"Module"}));function Ce(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Pc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Ho extends ne{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ce(t,"open",this.onopen.bind(this)),Ce(t,"packet",this.onpacket.bind(this)),Ce(t,"error",this.onerror.bind(this)),Ce(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Pc.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:H.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const s=this.ids++,l=n.pop();this._registerAckCallback(s,l),r.id=s}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const o=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);n.call(this,new Error("operation has timed out"))},o),s=(...l)=>{this.io.clearTimeoutFn(i),n.apply(this,l)};s.withError=!0,this.acks[t]=s}emitWithAck(t,...n){return new Promise((r,o)=>{const i=(s,l)=>s?o(s):r(l);i.withError=!0,n.push(i),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...i)=>r!==this._queue[0]?void 0:(o!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:H.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case H.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case H.EVENT:case H.BINARY_EVENT:this.onevent(t);break;case H.ACK:case H.BINARY_ACK:this.onack(t);break;case H.DISCONNECT:this.ondisconnect();break;case H.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...o){r||(r=!0,n.packet({type:H.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:H.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function ut(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ut.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};ut.prototype.reset=function(){this.attempts=0};ut.prototype.setMin=function(e){this.ms=e};ut.prototype.setMax=function(e){this.max=e};ut.prototype.setJitter=function(e){this.jitter=e};class Yn extends ne{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,hn(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ut({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||Ac;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Mo(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=Ce(n,"open",function(){r.onopen(),t&&t()}),i=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},s=Ce(n,"error",i);if(this._timeout!==!1){const l=this._timeout,a=this.setTimeoutFn(()=>{o(),i(new Error("timeout")),n.close()},l);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}return this.subs.push(o),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ce(t,"ping",this.onping.bind(this)),Ce(t,"data",this.ondata.bind(this)),Ce(t,"error",this.onerror.bind(this)),Ce(t,"close",this.onclose.bind(this)),Ce(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){ar(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new Ho(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ft={};function Jt(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=yc(e,t.path||"/socket.io"),r=n.source,o=n.id,i=n.path,s=ft[o]&&i in ft[o].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||s;let a;return l?a=new Yn(r,t):(ft[o]||(ft[o]=new Yn(r,t)),a=ft[o]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Jt,{Manager:Yn,Socket:Ho,io:Jt,connect:Jt});const zc=re({__name:"raid",setup(e){const t=cs("raid-tab",Fl("page","squad")),n=Je();ln(()=>{n.fetchCharacters()});const r=cn(),o=Jt("wss://v220240778215279047.powersrv.de/suicide-king",{path:"/cps-backend/socket.io",withCredentials:!0,reconnectionDelay:5e3,reconnection:!0});return o.on("connect",()=>{r.success("Connected to server!")}),o.on("update-raid-list",i=>{n.characters=i}),o.on("update-suicide-king-list",i=>{n.suicideKing=i}),o.on("update-suicide-king-history",i=>{n.suicideKingHistory=i}),o.on("add-suicide-king-history-entry",i=>{n.suicideKingHistory.unshift(...i)}),Gn(er,o),o.send("Hello, server!"),(i,s)=>{const l=Hl,a=Js,d=$l,c=ea,h=no,b=Ei;return se(),Fe(b,null,{default:L(()=>[$(h,{class:"max-w-360 h-full","content-class":"p-0!"},{default:L(()=>[$(c,{value:S(t),"onUpdate:value":s[0]||(s[0]=u=>Xe(t)?t.value=u:null),"default-value":S(t),"tabs-padding":20,"justify-content":"space-evenly",type:"segment",size:"large",animated:"","pane-class":"p-0!",class:"h-full"},{default:L(()=>[$(a,{name:"squad",tab:"Kader"},{default:L(()=>[$(l)]),_:1}),$(a,{name:"suicide-king",tab:"Suicide King"},{default:L(()=>[$(d)]),_:1}),$(a,{name:"contribution",tab:"Raidbeitrag"},{default:L(()=>[lt(" Raidbeitrag ")]),_:1})]),_:1},8,["value","default-value"])]),_:1})]),_:1})}}});export{zc as default};
